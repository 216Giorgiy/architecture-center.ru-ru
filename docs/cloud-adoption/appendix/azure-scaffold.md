---
title: Рекомендации для предприятий, переходящих на использование Azure
description: Описывается каркас, который предприятия могут использовать, чтобы обеспечить безопасную и управляемую среду.
author: rdendtler
ms.author: rodend
ms.date: 9/22/2018
ms.openlocfilehash: a1962a3d5be79715de4781d955b6be1db5923bea
ms.sourcegitcommit: 94d50043db63416c4d00cebe927a0c88f78c3219
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/28/2018
ms.locfileid: "47429301"
---
# <a name="azure-enterprise-scaffold-prescriptive-subscription-governance"></a><span data-ttu-id="2184b-103">Корпоративный каркас Azure: рекомендуемая система управления подписками</span><span class="sxs-lookup"><span data-stu-id="2184b-103">Azure enterprise scaffold: Prescriptive subscription governance</span></span>

<span data-ttu-id="2184b-104">Предприятия все чаще внедряют общедоступное облако ввиду его гибкости и динамичности.</span><span class="sxs-lookup"><span data-stu-id="2184b-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="2184b-105">Они используют преимущества облака для создания дохода и оптимизации использования ресурсов для бизнеса.</span><span class="sxs-lookup"><span data-stu-id="2184b-105">They utilize the cloud's strengths to generate revenue and optimize resource usage for the business.</span></span> <span data-ttu-id="2184b-106">Microsoft Azure предоставляет множество служб и возможностей, из которых как из строительных блоков предприятия конструируют решения для широкого спектра рабочих нагрузок и приложений.</span><span class="sxs-lookup"><span data-stu-id="2184b-106">Microsoft Azure provides a multitude of services and capabilities that enterprises assemble like building blocks to address a wide array of workloads and applications.</span></span>

<span data-ttu-id="2184b-107">Принятие решения об использовании Microsoft Azure является только первым шагом к получению преимуществ облака.</span><span class="sxs-lookup"><span data-stu-id="2184b-107">Deciding to use Microsoft Azure is only the first step to achieving the benefit of the cloud.</span></span> <span data-ttu-id="2184b-108">Второй шаг — это понимание того, как предприятие может эффективно использовать Azure и определять базовые возможности, которые должны быть созданы для решения таких вопросов, как:</span><span class="sxs-lookup"><span data-stu-id="2184b-108">The second step is understanding how the enterprise can effectively use Azure and identify the baseline capabilities that need to be in place to address questions like:</span></span>

* <span data-ttu-id="2184b-109">"Я обеспокоен сохранением контроля над данными; как я могу убедиться, что данные и системы соответствуют нормативным требованиям?"</span><span class="sxs-lookup"><span data-stu-id="2184b-109">"I'm concerned about data sovereignty; how can I ensure that my data and systems meet our regulatory requirements?"</span></span>
* <span data-ttu-id="2184b-110">"Как узнать, что обеспечивает тот или иной ресурс, чтобы учесть его и правильно добавить в счет?"</span><span class="sxs-lookup"><span data-stu-id="2184b-110">"How do I know what every resource is supporting so I can account for it and bill it back accurately?"</span></span>
* <span data-ttu-id="2184b-111">"Я хочу убедиться, что все развертывания или другие действия в общедоступном облаке ставят безопасность на первое место. Как я могу этому посодействовать?"</span><span class="sxs-lookup"><span data-stu-id="2184b-111">"I want to make sure that everything we deploy or do in the public cloud starts with the mindset of security first, how do I help facilitate that?"</span></span>

<span data-ttu-id="2184b-112">Перспектива пустой подписки без какой-либо защиты пугает.</span><span class="sxs-lookup"><span data-stu-id="2184b-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="2184b-113">Этот пробел может помешать перемещению в Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="2184b-114">Эта статья служит отправной точкой для технических специалистов и посвящена балансу требований управления и гибкости.</span><span class="sxs-lookup"><span data-stu-id="2184b-114">This article provides a starting point for technical professionals to address the need for governance and balance it with the need for agility.</span></span> <span data-ttu-id="2184b-115">В ней вводится понятие корпоративного каркаса, который помогает организациям безопасно внедрять среды Azure и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="2184b-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure environments in a secure way.</span></span> <span data-ttu-id="2184b-116">Она предоставляет платформу для разработки эффективных и действенных элементов управления.</span><span class="sxs-lookup"><span data-stu-id="2184b-116">It provides the framework to develop effective and efficient controls.</span></span>

## <a name="need-for-governance"></a><span data-ttu-id="2184b-117">Требования управления</span><span class="sxs-lookup"><span data-stu-id="2184b-117">Need for governance</span></span>

<span data-ttu-id="2184b-118">При перемещении в Azure необходимо заблаговременно рассмотреть вопрос управления, чтобы обеспечить успешное использование облака на предприятии.</span><span class="sxs-lookup"><span data-stu-id="2184b-118">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="2184b-119">К сожалению, нехватка времени и волокита, связанная с созданием комплексной системы управления, приводят к тому, что некоторые рабочие группы сразу идут к поставщикам, не привлекая ИТ-отдел предприятия.</span><span class="sxs-lookup"><span data-stu-id="2184b-119">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to providers without involving enterprise IT.</span></span> <span data-ttu-id="2184b-120">Такой подход может оставить предприятие уязвимым, если управление ресурсами осуществляется неправильно.</span><span class="sxs-lookup"><span data-stu-id="2184b-120">This approach can leave the enterprise open to compromise if the resources are not properly managed.</span></span> <span data-ttu-id="2184b-121">Характеристики общедоступного облака — гибкость, динамичность и стоимость на основе использования — важны для бизнес-групп, которым нужно быстро удовлетворять потребности клиентов (внутренних и внешних).</span><span class="sxs-lookup"><span data-stu-id="2184b-121">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="2184b-122">Но ИТ-отделу предприятия нужно убедиться в эффективной защите данных и систем.</span><span class="sxs-lookup"><span data-stu-id="2184b-122">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="2184b-123">При строительстве здания, чтобы создать базовую структуру, используется каркас.</span><span class="sxs-lookup"><span data-stu-id="2184b-123">When creating a building, scaffolding is used to create the basis of a structure.</span></span> <span data-ttu-id="2184b-124">Каркас обеспечивает общую структуру и предоставляет точки крепления, на которые можно устанавливать другие постоянные системы.</span><span class="sxs-lookup"><span data-stu-id="2184b-124">The scaffold guides the general outline and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="2184b-125">Корпоративный каркас ничем не отличается: это набор гибких элементов управления и возможностей Azure, обеспечивающих структуру среды, и привязок для служб на основе общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="2184b-125">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="2184b-126">Он предоставляет строителям (ИТ-отделам и бизнес-группам) основу для создания и присоединения новых служб, учитывающих скорость доставки.</span><span class="sxs-lookup"><span data-stu-id="2184b-126">It provides the builders (IT and business groups) a foundation to create and attach new services keeping speed of delivery in mind.</span></span>

<span data-ttu-id="2184b-127">В основе каркаса лежат рекомендации, полученные при сотрудничестве с клиентскими организациями различных размеров.</span><span class="sxs-lookup"><span data-stu-id="2184b-127">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="2184b-128">Мы работали с разными клиентами, от небольших организаций, разрабатывающих решения в облаке, до предприятий из списка крупных многонациональных предприятий и независимых поставщиков программного обеспечения, которые переходят на использование рабочих нагрузок облака и разрабатывают решения в нем.</span><span class="sxs-lookup"><span data-stu-id="2184b-128">Those clients range from small organizations developing solutions in the cloud to large multi-national enterprises and independent software vendors who are migrating workloads and developing cloud-native solutions.</span></span> <span data-ttu-id="2184b-129">Корпоративный каркас обладает гибкостью, предназначенной для поддержки как традиционных рабочих нагрузок ИТ, так и гибких рабочих нагрузок. Например, его преимуществами могут воспользоваться разработчики, создающие приложения SaaS на основе возможностей платформы Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-129">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure platform capabilities.</span></span>

<span data-ttu-id="2184b-130">Корпоративный каркас предназначен стать основой каждой новой подписки в Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-130">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="2184b-131">Он позволяет администраторам гарантировать, что рабочие нагрузки соответствуют минимальным требованиям управления организации, не мешая бизнес-группам и разработчикам быстро достигать собственных целей.</span><span class="sxs-lookup"><span data-stu-id="2184b-131">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span> <span data-ttu-id="2184b-132">Наш опыт показывает, что это значительно ускоряет, а не препятствует расширению общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="2184b-132">Our experience shows that this greatly speeds, rather than impedes, public cloud growth.</span></span>

> [!NOTE]
> <span data-ttu-id="2184b-133">Корпорация Microsoft выпустила предварительную версию новой функции под названием [Azure Blueprints](/azure/governance/blueprints/overview), которая позволит вам упаковывать и развертывать стандартные образы, шаблоны, политики и сценарии в подписках и группах управления, а также управлять ими.</span><span class="sxs-lookup"><span data-stu-id="2184b-133">Microsoft has released into preview a new capability called [Azure Blueprints](/azure/governance/blueprints/overview) that will enable you to package, manage, and deploy common images, templates, policies, and scripts across subscriptions and management groups.</span></span> <span data-ttu-id="2184b-134">Эта возможность является мостом между назначением каркаса как эталонной модели и развертыванием этой модели для вашей организации.</span><span class="sxs-lookup"><span data-stu-id="2184b-134">This capability is the bridge between the scaffold's purpose as reference model and deploying that model to your organization.</span></span>
>
<span data-ttu-id="2184b-135">На рисунке ниже приведены компоненты каркаса.</span><span class="sxs-lookup"><span data-stu-id="2184b-135">The following image shows the components of the scaffold.</span></span> <span data-ttu-id="2184b-136">В основе лежит надежный план для иерархии управления и подписок.</span><span class="sxs-lookup"><span data-stu-id="2184b-136">The foundation relies on a solid plan for the management hierarchy and subscriptions.</span></span> <span data-ttu-id="2184b-137">Опорами служат политики Resource Manager и строгие стандарты именования.</span><span class="sxs-lookup"><span data-stu-id="2184b-137">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="2184b-138">Остальная часть каркаса состоит из основных возможностей и функций Azure, обеспечивающих подключение безопасной и управляемой среды.</span><span class="sxs-lookup"><span data-stu-id="2184b-138">The rest of the scaffold are core Azure capabilities and features that enable and connect a secure and manageable environment.</span></span>

![каркас предприятия](./_images/scaffoldv2.png)

## <a name="define-your-hierarchy"></a><span data-ttu-id="2184b-140">Определение иерархии</span><span class="sxs-lookup"><span data-stu-id="2184b-140">Define your hierarchy</span></span>

<span data-ttu-id="2184b-141">Основой каркаса является иерархия и взаимосвязь соглашения о регистрации в Azure Enterprise для подписок и групп ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-141">The foundation of the scaffold is the hierarchy and relationship of the Azure Enterprise Enrollment through to subscriptions and resource groups.</span></span> <span data-ttu-id="2184b-142">Соглашение о регистрации Enterprise определяет форму и использование служб Azure в вашей компании с точки зрения контракта.</span><span class="sxs-lookup"><span data-stu-id="2184b-142">The enterprise enrollment defines the shape and use of Azure services within your company from a contractual point of view.</span></span> <span data-ttu-id="2184b-143">В рамках Соглашения о регистрации Enterprise вы можете дополнительно разделить среду на подразделения, учетные записи и, наконец, подписки и группы ресурсов, чтобы они соответствовали структуре вашей организации.</span><span class="sxs-lookup"><span data-stu-id="2184b-143">Within the enterprise agreement, you can further subdivide the environment into departments, accounts, and finally, subscriptions and resource groups to match your organization's structure.</span></span>

![Иерархия](./_images/agreement.png)

<span data-ttu-id="2184b-145">Подписка Azure представляет собой базовую единицу, в которой содержатся все ресурсы.</span><span class="sxs-lookup"><span data-stu-id="2184b-145">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="2184b-146">Она также определяет несколько ограничений в Azure, в том числе количество ядер, виртуальных сетей и других ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-146">It also defines several limits within Azure, such as number of cores, virtual networks and other resources.</span></span> <span data-ttu-id="2184b-147">Группы ресурсов Azure используются для дальнейшего уточнения модели подписки и создания более естественной группировки ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-147">Azure Resource Groups are used to further refine the subscription model and enable a more natural grouping of resources.</span></span>

<span data-ttu-id="2184b-148">Все предприятия разные, и иерархия на предыдущем рисунке допускает значительную гибкость в организации ресурсов Azure в рамках компании.</span><span class="sxs-lookup"><span data-stu-id="2184b-148">Every enterprise is different and the hierarchy in the above image allows for significant flexibility in how Azure is organized within your company.</span></span> <span data-ttu-id="2184b-149">Моделирование иерархии для отражения потребностей компании при выставлении счетов, управлении ресурсами и доступе к ресурсам является первым &mdash; и самым важным &mdash; решением, которое вы принимаете при запуске в общедоступном облаке.</span><span class="sxs-lookup"><span data-stu-id="2184b-149">Modeling your hierarchy to reflect the needs of your company for billing, resource management, and resource access is the first &mdash; and most important &mdash; decision you make when starting in the public cloud.</span></span>

### <a name="departments-and-accounts"></a><span data-ttu-id="2184b-150">Подразделения и учетные записи</span><span class="sxs-lookup"><span data-stu-id="2184b-150">Departments and Accounts</span></span>

<span data-ttu-id="2184b-151">Ниже представлены три распространенных шаблона для Соглашений о регистрации Azure Enterprise.</span><span class="sxs-lookup"><span data-stu-id="2184b-151">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="2184b-152">**Функциональной** шаблон.</span><span class="sxs-lookup"><span data-stu-id="2184b-152">The **functional** pattern</span></span>

    ![functional](./_images/functional.png)
* <span data-ttu-id="2184b-154">Шаблон **подразделения**.</span><span class="sxs-lookup"><span data-stu-id="2184b-154">The **business unit** pattern</span></span>

    ![Подразделение](./_images/business.png)
* <span data-ttu-id="2184b-156">**Географической** шаблон.</span><span class="sxs-lookup"><span data-stu-id="2184b-156">The **geographic** pattern</span></span>

    ![Географический](./_images/geographic.png)

<span data-ttu-id="2184b-158">Несмотря на то что каждый из этих шаблонов имеет свое место, шаблон **бизнес-единицы** все чаще используется благодаря гибкости при создании модели затрат организации, а также отражению диапазона контроля.</span><span class="sxs-lookup"><span data-stu-id="2184b-158">Though each of these patterns has its place, the **business unit** pattern is increasingly being adopted for its flexibility in modeling an organization's cost model as well as reflecting span of control.</span></span> <span data-ttu-id="2184b-159">Группа Microsoft Core Engineering and Operations создала подмножество очень эффективных шаблонов **бизнес-единиц**, смоделированных на **федеральном** и **местном** уровнях, а также на уровне **штата**.</span><span class="sxs-lookup"><span data-stu-id="2184b-159">Microsoft Core Engineering and Operations group has created a sub-set of the **business unit** pattern that is very effective, modeled on **Federal**, **State**, and **Local**.</span></span> <span data-ttu-id="2184b-160">(Дополнительные сведения см. в статье [Organizing subscriptions and resource groups within the Enterprise](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise/) (Организация подписок и групп ресурсов в рамках предприятия).)</span><span class="sxs-lookup"><span data-stu-id="2184b-160">(For more information, see [Organizing subscriptions and resource groups within the Enterprise](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise/).)</span></span>

### <a name="management-groups"></a><span data-ttu-id="2184b-161">Группы управления</span><span class="sxs-lookup"><span data-stu-id="2184b-161">Management Groups</span></span>

<span data-ttu-id="2184b-162">Корпорация Майкрософт недавно выпустила [Группы управления Azure](/azure/azure-resource-manager/management-groups-overview) — новый способ моделирования иерархии.</span><span class="sxs-lookup"><span data-stu-id="2184b-162">Microsoft has recently released a new way of modeling your hierarchy: [Azure management groups](/azure/azure-resource-manager/management-groups-overview).</span></span> <span data-ttu-id="2184b-163">Группы управления гораздо более гибкие, чем отделы и учетные записи, и могут быть вложены до шести уровней.</span><span class="sxs-lookup"><span data-stu-id="2184b-163">Management groups are much more flexible than departments and accounts and can be nested up to six levels.</span></span> <span data-ttu-id="2184b-164">Группы управления позволяют создавать иерархию, которая отличается от выставления счетов иерархии, исключительно для эффективного управления ресурсами.</span><span class="sxs-lookup"><span data-stu-id="2184b-164">Management groups allow you to create a hierarchy that is separate from your billing hierarchy, solely for efficient management of resources.</span></span> <span data-ttu-id="2184b-165">Группы управления могут отражать иерархию выставления счетов и зачастую предприятия начинают именно с этого.</span><span class="sxs-lookup"><span data-stu-id="2184b-165">Management groups can mirror your billing hierarchy and often enterprises start that way.</span></span> <span data-ttu-id="2184b-166">Впрочем, основная сила групп управления проявляется при их использовании для моделирования организации, в которой связанные подписки, независимо от их положения в иерархии выставления счетов, группируются вместе и требуют назначения общих ролей, а также политик и инициатив.</span><span class="sxs-lookup"><span data-stu-id="2184b-166">However, the power of management groups is when you use them to model your organization where related subscriptions &mdash; regardless where they are in the billing hierarchy &mdash; are grouped together and need common roles assigned as well as policies and initiatives.</span></span> <span data-ttu-id="2184b-167">Вот несколько примеров.</span><span class="sxs-lookup"><span data-stu-id="2184b-167">A few examples:</span></span>

* <span data-ttu-id="2184b-168">**Производственные/Непроизводственные**.</span><span class="sxs-lookup"><span data-stu-id="2184b-168">**Production/Non-Production**.</span></span> <span data-ttu-id="2184b-169">Некоторые предприятия создают группы управления для определения их производственных и непроизводственных подписок.</span><span class="sxs-lookup"><span data-stu-id="2184b-169">Some enterprises create management groups to identify their production and non-production subscriptions.</span></span> <span data-ttu-id="2184b-170">Группы управления дают возможность клиентам легко управлять ролями и политиками, например непроизводственная подписка может дать разработчикам доступ "участника", но в производстве они имеют только доступ "читателя".</span><span class="sxs-lookup"><span data-stu-id="2184b-170">Management groups allow these customers to more easily manage roles and policies, for example: non-production subscription may allow developers "contributor" access, but in production, they have only "reader" access.</span></span>
* <span data-ttu-id="2184b-171">**Внутренние службы/Внешние службы**.</span><span class="sxs-lookup"><span data-stu-id="2184b-171">**Internal Services/External Services**.</span></span> <span data-ttu-id="2184b-172">Подобно производственным и непроизводственным группам управления, предприятия часто имеют разные требования, политики и роли для внутренних служб по сравнению с внешними службами (предназначенными для клиентов).</span><span class="sxs-lookup"><span data-stu-id="2184b-172">Much like Production/Non-Production, enterprises often have different requirements, policies and roles for internal services vs external (customer facing) services.</span></span>

<span data-ttu-id="2184b-173">Тщательно продуманные группы управления, наряду с политикой и инициативами Azure, являются основой эффективной системы управления.</span><span class="sxs-lookup"><span data-stu-id="2184b-173">Well thought out management groups are, along with Azure Policy and Initiatives the backbone of efficient governance of Azure.</span></span>

### <a name="subscriptions"></a><span data-ttu-id="2184b-174">Подписки</span><span class="sxs-lookup"><span data-stu-id="2184b-174">Subscriptions</span></span>

<span data-ttu-id="2184b-175">При выборе подразделений и учетных записей (или групп управления) вы ориентированы, в первую очередь, на разделение среды Azure в соответствии с требованиями вашей организации.</span><span class="sxs-lookup"><span data-stu-id="2184b-175">When deciding on your Departments and Accounts (or management groups), you are primarily looking at how you're dividing up your Azure environment to match your organization.</span></span> <span data-ttu-id="2184b-176">Тем не менее подписки — это то место, где происходит настоящая работа, и ваши решения влияют на безопасность, масштабируемость и выставление счетов.</span><span class="sxs-lookup"><span data-stu-id="2184b-176">Subscriptions, however, are where the real work happens and your decisions here impact security, scalability and billing.</span></span>  <span data-ttu-id="2184b-177">Многие организации рассматривают следующие шаблоны в качестве руководств.</span><span class="sxs-lookup"><span data-stu-id="2184b-177">Many organizations look at the following patterns as their guides:</span></span>

* <span data-ttu-id="2184b-178">**Приложения/Службы**. Подписки представляют приложение или службу (портфель приложений)</span><span class="sxs-lookup"><span data-stu-id="2184b-178">**Application/Service**: Subscriptions represent an application or a service (portfolio of applications)</span></span>
* <span data-ttu-id="2184b-179">**Жизненный цикл**. Подписки представляют жизненный цикл службы, например производство или разработку.</span><span class="sxs-lookup"><span data-stu-id="2184b-179">**Lifecycle**: Subscriptions represent a lifecycle of a service, such as Production or Development.</span></span>
* <span data-ttu-id="2184b-180">**Подразделение**. Подписки представляют подразделения в организации.</span><span class="sxs-lookup"><span data-stu-id="2184b-180">**Department**: Subscriptions represent departments in the organization.</span></span>

<span data-ttu-id="2184b-181">Первые два шаблона являются наиболее часто используемыми, и мы настоятельно рекомендуем их использовать.</span><span class="sxs-lookup"><span data-stu-id="2184b-181">The first two patterns are the most commonly used, and both are highly recommended.</span></span> <span data-ttu-id="2184b-182">Подход "Жизненный цикл" подходит для большинства организаций.</span><span class="sxs-lookup"><span data-stu-id="2184b-182">The Lifecycle approach is appropriate for most organizations.</span></span> <span data-ttu-id="2184b-183">В этом случае мы рекомендуем использовать две базовые подписки:</span><span class="sxs-lookup"><span data-stu-id="2184b-183">In this case, the general recommendation is to use two base subscriptions.</span></span> <span data-ttu-id="2184b-184">"производственную" и "непроизводственную", а затем группы ресурсов для дальнейшего разделения среды.</span><span class="sxs-lookup"><span data-stu-id="2184b-184">"Production" and "Non-Production," and then use resource groups to break out the environments further.</span></span>

### <a name="resource-groups"></a><span data-ttu-id="2184b-185">Группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="2184b-185">Resource groups</span></span>

<span data-ttu-id="2184b-186">Azure Resource Manager позволяет помещать ресурсы в предметные группы для управления, выставления счетов или обеспечения естественного сходства.</span><span class="sxs-lookup"><span data-stu-id="2184b-186">Azure Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="2184b-187">Группы ресурсов — это контейнеры ресурсов, которые имеют общий жизненный цикл или какой-либо атрибут, например "все серверы SQL Server" или "Приложение A".</span><span class="sxs-lookup"><span data-stu-id="2184b-187">Resource groups are containers of resources that have a common life cycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="2184b-188">Группы ресурсов не могут быть вложенными, и ресурсы могут принадлежать только одной группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-188">Resource groups can't be nested, and resources can only belong to one resource group.</span></span> <span data-ttu-id="2184b-189">Определенные действия могут применяться для всех ресурсов в группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-189">Some actions can act on all resources in a resource group.</span></span> <span data-ttu-id="2184b-190">Например, при удалении группы ресурсов можно удалять все ее ресурсы.</span><span class="sxs-lookup"><span data-stu-id="2184b-190">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="2184b-191">Как и в случае с подписками, при создании групп ресурсов существуют распространенные шаблоны, и для "Традиционных ИТ" и "Гибких ИТ" рабочих нагрузок они различаются.</span><span class="sxs-lookup"><span data-stu-id="2184b-191">Like subscriptions, there are common patterns when creating resource groups and will vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>

* <span data-ttu-id="2184b-192">В первом случае рабочие нагрузки чаще всего группируются по элементам в рамках одного жизненного цикла, например приложения.</span><span class="sxs-lookup"><span data-stu-id="2184b-192">"Traditional IT" workloads are most commonly grouped by items within the same life cycle, such as an application.</span></span> <span data-ttu-id="2184b-193">Группирование по приложениям позволяет управлять отдельными приложениями.</span><span class="sxs-lookup"><span data-stu-id="2184b-193">Grouping by application allows for individual application management.</span></span>
* <span data-ttu-id="2184b-194">Во втором случае рабочие нагрузки, как правило, сосредотачиваются на облачных приложениях для внешних клиентов.</span><span class="sxs-lookup"><span data-stu-id="2184b-194">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="2184b-195">Группы ресурсов часто отражают уровни развертывания (например, уровень Интернета, уровень приложений) и управления.</span><span class="sxs-lookup"><span data-stu-id="2184b-195">The resource groups often reflect the layers of deployment (such as Web Tier, App Tier) and management.</span></span>

> [!NOTE]
> <span data-ttu-id="2184b-196">Понимание рабочей нагрузки помогает разработать стратегию групп ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-196">Understanding your workload helps you develop a resource group strategy.</span></span> <span data-ttu-id="2184b-197">Эти шаблоны можно комбинировать и сопоставлять.</span><span class="sxs-lookup"><span data-stu-id="2184b-197">These patterns can be mixed and matched.</span></span> <span data-ttu-id="2184b-198">Например, группа ресурсов общих служб в той же подписке, что и "Гибкие" группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-198">For example, a shared services resource group in the same subscription as "Agile" resource groups.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="2184b-199">Стандарты именования</span><span class="sxs-lookup"><span data-stu-id="2184b-199">Naming standards</span></span>

<span data-ttu-id="2184b-200">Первая опора каркаса — это согласованный стандарт именования.</span><span class="sxs-lookup"><span data-stu-id="2184b-200">The first pillar of the scaffold is a consistent naming standard.</span></span> <span data-ttu-id="2184b-201">Хорошо спроектированные стандарты именования позволяют определять ресурсы на портале, в счете и в сценариях.</span><span class="sxs-lookup"><span data-stu-id="2184b-201">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="2184b-202">Скорее всего, у вас уже есть существующие стандарты именования для локальной инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="2184b-202">You likely already have existing naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="2184b-203">При добавлении Azure в свою среду следует распространить эти стандарты именования на ресурсы Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-203">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span>

> [!TIP]
> <span data-ttu-id="2184b-204">Для соглашений об именовании:</span><span class="sxs-lookup"><span data-stu-id="2184b-204">For naming conventions:</span></span>
> * <span data-ttu-id="2184b-205">Ознакомьтесь с [руководством по шаблонам и рекомендациями](https://docs.microsoft.com/en-us/azure/architecture/best-practices/naming-conventions) и применяйте полученные знания, где это уместно.</span><span class="sxs-lookup"><span data-stu-id="2184b-205">Review and adopt where possible the [Patterns and Practices guidance](https://docs.microsoft.com/en-us/azure/architecture/best-practices/naming-conventions).</span></span> <span data-ttu-id="2184b-206">Это руководство поможет выбрать информативный стандарт именования, также в нем приведено множество примеров.</span><span class="sxs-lookup"><span data-stu-id="2184b-206">This guidance helps you decide on a meaningful naming standard and provides extensive examples.</span></span>
> * <span data-ttu-id="2184b-207">Использование политик Resource Manager для обеспечения соблюдения стандартов именования</span><span class="sxs-lookup"><span data-stu-id="2184b-207">Using Resource Manager Policies to help enforce naming standards</span></span>
>
><span data-ttu-id="2184b-208">Помните, что впоследствии изменить имена будет сложно, поэтому уделите несколько минут сейчас, чтобы избежать трудностей в будущем.</span><span class="sxs-lookup"><span data-stu-id="2184b-208">Remember that it's difficult to change names later, so a few minutes now will save you trouble later.</span></span>

<span data-ttu-id="2184b-209">Сосредоточьте свои стандарты именования на тех ресурсах, которые чаще всего ищут и используют.</span><span class="sxs-lookup"><span data-stu-id="2184b-209">Concentrate your naming standards on those resources that are more commonly used and searched for.</span></span>  <span data-ttu-id="2184b-210">Например, для ясности все группы ресурсов должны следовать четкому стандарту.</span><span class="sxs-lookup"><span data-stu-id="2184b-210">For example, all resource groups should follow a strong standard for clarity.</span></span>

### <a name="resource-tags"></a><span data-ttu-id="2184b-211">Теги ресурсов</span><span class="sxs-lookup"><span data-stu-id="2184b-211">Resource Tags</span></span>

<span data-ttu-id="2184b-212">Теги ресурсов тесно связаны со стандартами именования.</span><span class="sxs-lookup"><span data-stu-id="2184b-212">Resource tags are tightly aligned with naming standards.</span></span> <span data-ttu-id="2184b-213">Поскольку ресурсы добавляются к подпискам, чрезвычайно важно логически классифицировать их для таких целей, как выставление счетов, управление и эксплуатация.</span><span class="sxs-lookup"><span data-stu-id="2184b-213">As resources are added to subscriptions, it becomes increasingly important to logically categorize them for billing, management, and operational purposes.</span></span> <span data-ttu-id="2184b-214">Дополнительные сведения см. в статье [Использование тегов для организации ресурсов в Azure](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-using-tags).</span><span class="sxs-lookup"><span data-stu-id="2184b-214">For more information, see [Use tags to organize your Azure Resource](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-using-tags).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2184b-215">Теги могут содержать личную информацию и могут подпадать под действие положений GDPR.</span><span class="sxs-lookup"><span data-stu-id="2184b-215">Tags can contain personal information and may fall under the regulations of GDPR.</span></span> <span data-ttu-id="2184b-216">Тщательно планируйте управление тегами.</span><span class="sxs-lookup"><span data-stu-id="2184b-216">Plan for management of your tags carefully.</span></span> <span data-ttu-id="2184b-217">Если вы ищете общие сведения о GDPR, см. [раздел о GDPR на портале Service Trust Portal](https://servicetrust.microsoft.com/ViewPage/GDPRGetStarted).</span><span class="sxs-lookup"><span data-stu-id="2184b-217">If you're looking for general info about GDPR, see the GDPR section of the [Service Trust Portal](https://servicetrust.microsoft.com/ViewPage/GDPRGetStarted).</span></span>

<span data-ttu-id="2184b-218">Существует много вариантов использования тегов, помимо выставления счетов и управления.</span><span class="sxs-lookup"><span data-stu-id="2184b-218">Tags are used in many ways beyond billing and management.</span></span> <span data-ttu-id="2184b-219">Они часто используются как часть службы автоматизации (см. раздел ниже).</span><span class="sxs-lookup"><span data-stu-id="2184b-219">They are often used as part of automation (see later section).</span></span> <span data-ttu-id="2184b-220">Если не предусмотреть заранее, это может привести к конфликтам.</span><span class="sxs-lookup"><span data-stu-id="2184b-220">This can cause conflicts if not considered up front.</span></span> <span data-ttu-id="2184b-221">Рекомендуется определить все распространенные теги на уровне предприятия (например, ApplicationOwner, CostCenter) и применить их при развертывании ресурсов с помощью службы автоматизации.</span><span class="sxs-lookup"><span data-stu-id="2184b-221">The recommended practice is to identify all the common tags at the enterprise level (such as ApplicationOwner, CostCenter) and apply them consistently when deploying resources using automation.</span></span>

## <a name="azure-policy-and-initiatives"></a><span data-ttu-id="2184b-222">Политика и инициативы Azure</span><span class="sxs-lookup"><span data-stu-id="2184b-222">Azure Policy and Initiatives</span></span>

<span data-ttu-id="2184b-223">Вторая опора каркаса предполагает использование [политики и инициатив Azure](/azure/azure-policy/azure-policy-introduction) для управления рисками путем применения правил (с эффектами) к ресурсам и службам в подписках.</span><span class="sxs-lookup"><span data-stu-id="2184b-223">The second pillar of the scaffold involves using [Azure Policy and Initiatives](/azure/azure-policy/azure-policy-introduction) to manage risk by enforcing rules (with effects) over the resources and services in your subscriptions.</span></span> <span data-ttu-id="2184b-224">Инициативы Azure — это коллекции политик, предназначенных для достижения единой цели.</span><span class="sxs-lookup"><span data-stu-id="2184b-224">Azure Initiatives are collections of policies that are designed to achieve a single goal.</span></span> <span data-ttu-id="2184b-225">Затем политика и инициативы Azure присваиваются области ресурсов, чтобы начать применять определенные политики.</span><span class="sxs-lookup"><span data-stu-id="2184b-225">Azure policy and initiatives are then assigned to a resource scope to begin enforcement of the particular policies.</span></span>
<span data-ttu-id="2184b-226"><IMG of Initiatives/Policies/Assignments></span><span class="sxs-lookup"><span data-stu-id="2184b-226"><IMG of Initiatives/Policies/Assignments></span></span>

<span data-ttu-id="2184b-227">Политика и инициативы Azure становятся еще эффективнее, если их использовать одновременно с группами управления, упомянутыми ранее.</span><span class="sxs-lookup"><span data-stu-id="2184b-227">Azure Policy and Initiatives are even more powerful when used with the management groups mentioned earlier.</span></span> <span data-ttu-id="2184b-228">Группы управления позволяют назначать инициативу или политику для всего набора подписок.</span><span class="sxs-lookup"><span data-stu-id="2184b-228">Management groups enable the assignment of an initiative or policy to an entire set of subscriptions.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="2184b-229">Распространенные примеры использования политик Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2184b-229">Common uses of Resource Manager policies</span></span>

<span data-ttu-id="2184b-230">Политики и инициативы Azure — это мощный инструмент из набора средств Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-230">Azure policies and initiatives are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="2184b-231">Политики позволяют компаниям обеспечивать контроль над рабочими нагрузками "Традиционных ИТ", которые обеспечивают необходимую для бизнес-приложений стабильность, а также допускают "гибкие" рабочие нагрузки, такие как разработка клиентских приложений без дополнительных рисков для предприятия.</span><span class="sxs-lookup"><span data-stu-id="2184b-231">Policies allow companies to provide controls for "Traditional IT" workloads that enable the stability that is needed for LOB applications while also allowing "Agile" workloads; such as, developing customer applications without opening up the enterprise to additional risk.</span></span> <span data-ttu-id="2184b-232">Ниже перечислены наиболее распространенные шаблоны использования политик, которые мы предусматриваем.</span><span class="sxs-lookup"><span data-stu-id="2184b-232">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="2184b-233">**Обеспечения географического соответствия и независимости данных**.</span><span class="sxs-lookup"><span data-stu-id="2184b-233">**Geo-compliance/data sovereignty**.</span></span> <span data-ttu-id="2184b-234">Azure постоянно расширяет список регионов по всему миру.</span><span class="sxs-lookup"><span data-stu-id="2184b-234">Azure has an ever-growing list of regions across the world.</span></span> <span data-ttu-id="2184b-235">Предприятиям необходимы гарантии, что ресурсы определенной области остаются в том же регионе, чтобы выполнять нормативные требования.</span><span class="sxs-lookup"><span data-stu-id="2184b-235">Enterprises often need to ensure that resources in a particular scope remain in a geographic region to address regulatory requirements.</span></span>
* <span data-ttu-id="2184b-236">**Избегать публичной демонстрации серверов**.</span><span class="sxs-lookup"><span data-stu-id="2184b-236">**Avoid exposing servers publicly**.</span></span> <span data-ttu-id="2184b-237">Политика Azure может запретить развертывание определенных типов ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-237">Azure policy can prohibit the deployment of certain resources types.</span></span> <span data-ttu-id="2184b-238">Общепринятым является создание политики, запрещающей создание общедоступного IP-адреса в определенной области, чтобы избежать нежелательного открытия сервера к воздействиям в Интернете.</span><span class="sxs-lookup"><span data-stu-id="2184b-238">A common use is to create a policy to deny the creation of a public IP within a particular scope, avoiding un-intended exposure of a server to the internet.</span></span>
* <span data-ttu-id="2184b-239">**Управление затратами и метаданными**.</span><span class="sxs-lookup"><span data-stu-id="2184b-239">**Cost Management and Metadata**.</span></span> <span data-ttu-id="2184b-240">Теги ресурсов часто используются для добавления важных данных о выставлении счетов в ресурсы и группы ресурсов, такие как CostCenter, Owner и другие.</span><span class="sxs-lookup"><span data-stu-id="2184b-240">Resource tags are often used to add important billing data to resources and resource groups such as CostCenter, Owner and more.</span></span> <span data-ttu-id="2184b-241">Эти теги являются очень полезными для точного выставления счетов и управления ресурсами.</span><span class="sxs-lookup"><span data-stu-id="2184b-241">These tags are invaluable for accurate billing and management of resources.</span></span> <span data-ttu-id="2184b-242">Политики могут применять приложение тегов ресурсов для всех развернутых ресурсов, что упрощает управление ими.</span><span class="sxs-lookup"><span data-stu-id="2184b-242">Policies can enforce the application of resources tags to all deployed resource, making it easier to manage.</span></span>

### <a name="common-uses-of-initiatives"></a><span data-ttu-id="2184b-243">Распространенные варианты использования инициатив</span><span class="sxs-lookup"><span data-stu-id="2184b-243">Common uses of initiatives</span></span>

<span data-ttu-id="2184b-244">Внедрение инициатив позволило предприятиям объединить логические политики вместе и отслеживать их как единое целое.</span><span class="sxs-lookup"><span data-stu-id="2184b-244">The introduction of initiatives provided enterprises a way to group logical policies together and track as a whole.</span></span> <span data-ttu-id="2184b-245">Инициативы также поддерживают необходимость предприятий в "гибких" и "традиционных" рабочих нагрузках.</span><span class="sxs-lookup"><span data-stu-id="2184b-245">Initiatives further support the enterprise to address the needs of both "agile" and "traditional" workloads.</span></span> <span data-ttu-id="2184b-246">Существуют очень необычные способы использования инициатив, но, как правило, используются следующие.</span><span class="sxs-lookup"><span data-stu-id="2184b-246">We have seen very creative uses of initiatives, but commonly we see:</span></span>

* <span data-ttu-id="2184b-247">**Включение наблюдения в центре безопасности Azure**.</span><span class="sxs-lookup"><span data-stu-id="2184b-247">**Enable monitoring in Azure Security Center**.</span></span> <span data-ttu-id="2184b-248">Это инициатива политики Azure по умолчанию и является отличным примером инициативы, как таковой.</span><span class="sxs-lookup"><span data-stu-id="2184b-248">This is a default initiative in the Azure Policy and an excellent example of what initiative are.</span></span> <span data-ttu-id="2184b-249">Она включает политики, которые идентифицируют незашифрованные базы данных SQL, уязвимости виртуальных машин и другие общие потребности, связанные с безопасностью.</span><span class="sxs-lookup"><span data-stu-id="2184b-249">It enables policies that identify un-encrypted SQL databases, VM vulnerabilities and more common security related needs.</span></span>
* <span data-ttu-id="2184b-250">**Нормативно-правовая инициатива**.</span><span class="sxs-lookup"><span data-stu-id="2184b-250">**Regulatory specific initiative**.</span></span> <span data-ttu-id="2184b-251">Предприятия часто группируют политики, общепринятые для нормативных требований (например, HIPAA), что позволяет эффективно отслеживать управление и соответствие этим элементам контроля.</span><span class="sxs-lookup"><span data-stu-id="2184b-251">Enterprises often group policies common to a regulatory requirement (such as HIPAA) so that controls and compliancy to those controls are tracked efficiently.</span></span>
* <span data-ttu-id="2184b-252">**Типы ресурсов и номера SKU**.</span><span class="sxs-lookup"><span data-stu-id="2184b-252">**Resource Types & SKUs**.</span></span> <span data-ttu-id="2184b-253">Создание инициативы,которая ограничивает типы ресурсов, а также номера SKU, которые могут быть развернуты, может помочь контролировать затраты и убедиться, что организация развертывает только те ресурсы, для поддержки которых у вашей команды есть навыки и процедуры.</span><span class="sxs-lookup"><span data-stu-id="2184b-253">Creating an initiative that restricts the types of resources that can be deployed as well as the SKUs that can be deployed can help to control costs and ensure your organization is only deploying resources that your team have the skillset and procedures to support.</span></span>

> [!TIP]
> <span data-ttu-id="2184b-254">Мы рекомендуем всегда использовать определения инициатив вместо определений политик.</span><span class="sxs-lookup"><span data-stu-id="2184b-254">We recommend you always use initiative definitions instead of policy definitions.</span></span> <span data-ttu-id="2184b-255">После назначения инициативы для области, такой как подписка или группа управления, вы можете легко добавить другую политику к инициативе, без изменения назначений.</span><span class="sxs-lookup"><span data-stu-id="2184b-255">After assigning an initiative to a scope, such as subscription or management group, you can easily add another policy to the initiative without having to change any assignments.</span></span> <span data-ttu-id="2184b-256">Это значительно облегчает распознавание применения и отслеживания соответствий.</span><span class="sxs-lookup"><span data-stu-id="2184b-256">This makes understanding what is applied and tracking compliance far easier.</span></span>

### <a name="policy-and-initiative-assignments"></a><span data-ttu-id="2184b-257">Назначение политик и инициатив</span><span class="sxs-lookup"><span data-stu-id="2184b-257">Policy and Initiative assignments</span></span>

<span data-ttu-id="2184b-258">После создания политик и их группирования в логические инициативы необходимо назначить политику для области, будь то группа управления, подписка или даже группа ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-258">After the creation of policies and grouping them into logical initiatives you must assign the policy to a scope, whether it is a management group, a subscription or even a resource group.</span></span> <span data-ttu-id="2184b-259">Назначения также позволяют исключить подобласть из назначения политики.</span><span class="sxs-lookup"><span data-stu-id="2184b-259">Assignments allow you to also exclude a sub-scope from the assignment of a policy.</span></span> <span data-ttu-id="2184b-260">Например, если отказаться от создания публичных IP-адресов в рамках подписки, можно создать назначение с исключением для группы ресурсов, подключенной к защищенной DMZ.</span><span class="sxs-lookup"><span data-stu-id="2184b-260">For example, if you deny the creation of public IPs within a subscription, you could create an assignment with an exclusion for a resource group connected to your protected DMZ.</span></span>

<span data-ttu-id="2184b-261">Вы найдете несколько примеров политики, которые показывают, как политики и инициативы могут применяться к различным ресурсам в Azure в этом репозитории [GitHub](https://github.com/Azure/azure-policy).</span><span class="sxs-lookup"><span data-stu-id="2184b-261">You will find several Policy examples that show how Policy and Initiatives can be applied to various resources within Azure on this [GitHub](https://github.com/Azure/azure-policy) repository.</span></span>

## <a name="identity-and-access-management"></a><span data-ttu-id="2184b-262">Управление удостоверениями и доступом</span><span class="sxs-lookup"><span data-stu-id="2184b-262">Identity and access management</span></span>

<span data-ttu-id="2184b-263">Один из первых и наиболее важных вопросов, которые вы задаете себе, начиная работу с публичным облаком, — "кто будет иметь доступ к ресурсам?"</span><span class="sxs-lookup"><span data-stu-id="2184b-263">One of the first, and most crucial, questions you ask yourself when starting with the public cloud is "who should have access to resources?"</span></span> <span data-ttu-id="2184b-264">"Как контролировать этот доступ?"</span><span class="sxs-lookup"><span data-stu-id="2184b-264">and "how do I control this access?"</span></span> <span data-ttu-id="2184b-265">Разрешение или запрет доступа к порталу Azure и управление доступом к ресурсам на портале важны для долгосрочного успеха и безопасности файлов в облаке.</span><span class="sxs-lookup"><span data-stu-id="2184b-265">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is critical to the long term success and safety of your assets in the cloud.</span></span>

<span data-ttu-id="2184b-266">Чтобы выполнить задачу обеспечения доступа к вашим ресурсам, сначала настройте поставщика удостоверений, а затем настройте роли и доступ.</span><span class="sxs-lookup"><span data-stu-id="2184b-266">To accomplish the task of securing access to your resources you will first configure your identity provider and then configure Roles and access.</span></span> <span data-ttu-id="2184b-267">Служба Azure Active Directory (Azure AD), подключенная к вашей локальной Active Directory, лежит в основе идентификации Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-267">Azure Active Directory (Azure AD), connected to your on-premises Active Directory, is the foundation of Azure Identity.</span></span> <span data-ttu-id="2184b-268">Тем не менее Azure AD *не является* Active Directory, и важно понять, что кто такой клиент Azure AD и его отношение к вашей регистрации в Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-268">That said, Azure AD is *not* Active Directory and it's important to understand what an Azure AD tenant is and how it relates to your Azure enrollment.</span></span>  <span data-ttu-id="2184b-269">Просмотрите имеющуюся [информацию](../getting-started/azure-resource-access.md), чтобы получить прочную основу в Azure AD и AD.</span><span class="sxs-lookup"><span data-stu-id="2184b-269">Review the available [information](../getting-started/azure-resource-access.md) to gain a solid foundation on Azure AD and AD.</span></span> <span data-ttu-id="2184b-270">Чтобы подключить и синхронизировать Active Directory с Azure AD, установите и настройте [средство AD Connect](/azure/active-directory/connect/active-directory-aadconnect) локально.</span><span class="sxs-lookup"><span data-stu-id="2184b-270">To connect and synchronize your Active Directory to Azure AD, install and configure the [AD Connect tool](/azure/active-directory/connect/active-directory-aadconnect) on-premises.</span></span>

![arch.png](./_images/arch.png)

<span data-ttu-id="2184b-272">При первоначальном выпуске Azure элементы управления доступом к подписке были простыми: администратор или соадминистратор.</span><span class="sxs-lookup"><span data-stu-id="2184b-272">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="2184b-273">В классической модели доступ к подписке подразумевал доступ ко всем ресурсам на портале.</span><span class="sxs-lookup"><span data-stu-id="2184b-273">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="2184b-274">Отсутствие детализированного контроля приводило к созданию избыточного количества подписок, необходимых, чтобы обеспечить адекватный контроль доступа для Соглашения о регистрации Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-274">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span> <span data-ttu-id="2184b-275">Больше такое увеличение числа подписок не требуется.</span><span class="sxs-lookup"><span data-stu-id="2184b-275">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="2184b-276">Управление доступом на основе ролей (RBAC) позволяет назначать пользователям стандартные роли, которые предоставляют общий доступ, например "владелец", "участник" или "читатель", или даже создать свои собственные роли</span><span class="sxs-lookup"><span data-stu-id="2184b-276">With role-based access control (RBAC), you can assign users to standard roles that provide common access such as "owner", "contributor" or "reader" or even create your own roles</span></span>

<span data-ttu-id="2184b-277">При внедрении доступа на основе ролей настоятельно рекомендуются следующие действия:</span><span class="sxs-lookup"><span data-stu-id="2184b-277">When implementing role-based access, the following are highly recommended:</span></span>

* <span data-ttu-id="2184b-278">Управляйте администратором и соадминистратором подписки, поскольку эти роли имеют многочисленные привилегии.</span><span class="sxs-lookup"><span data-stu-id="2184b-278">Control the Administrator/Co-Administrator of a subscription as these roles have extensive permissions.</span></span> <span data-ttu-id="2184b-279">Если пользователю нужно управлять классическими развертываниями Azure, просто добавьте учетную запись владельца подписки в качестве соадминистратора.</span><span class="sxs-lookup"><span data-stu-id="2184b-279">You only need to add the Subscription Owner as a Co-administrator if they need to managed Azure Classic deployments.</span></span>

* <span data-ttu-id="2184b-280">Используйте группы управления для назначения [ролей](/azure/azure-resource-manager/management-groups-overview#management-group-access) нескольких подписок и уменьшайте бремя управления ими на уровне подписки.</span><span class="sxs-lookup"><span data-stu-id="2184b-280">Use Management Groups to assign [roles](/azure/azure-resource-manager/management-groups-overview#management-group-access) across multiple subscriptions and reduce the burden of managing them at the subscription level.</span></span>
* <span data-ttu-id="2184b-281">Добавьте пользователей Azure в группу (например, в группу "Владельцы приложения А") в Active Directory.</span><span class="sxs-lookup"><span data-stu-id="2184b-281">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="2184b-282">Используйте синхронизированную группу, чтобы предоставить необходимые права для управления группой ресурсов, содержащей это приложение.</span><span class="sxs-lookup"><span data-stu-id="2184b-282">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
* <span data-ttu-id="2184b-283">Придерживайтесь принципа предоставления **минимальных привилегий**, необходимых для выполнения предстоящей работы.</span><span class="sxs-lookup"><span data-stu-id="2184b-283">Follow the principle of granting the **least privilege** required to do the expected work.</span></span>

> [!IMPORTANT]
><span data-ttu-id="2184b-284">Рассмотрите возможность использования [Azure Active Directory Privileged Identity Management](/azure/active-directory/privileged-identity-management/pim-configure), [Многофакторной идентификации](/azure/active-directory/authentication/howto-mfa-getstarted) Azure и возможностей [условного доступа](/azure/active-directory/active-directory-conditional-access-azure-portal) для обеспечения лучшего уровня безопасности и видимости административных действий в подписках Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-284">Consider using [Azure AD Privileged Identity Management](/azure/active-directory/privileged-identity-management/pim-configure), Azure [Multi-Factor Authentication](/azure/active-directory/authentication/howto-mfa-getstarted) and [Conditional Access](/azure/active-directory/active-directory-conditional-access-azure-portal) capabilities to provide better security and more visibility to administrative actions across your Azure subscriptions.</span></span> <span data-ttu-id="2184b-285">Эти возможности исходят от действительной лицензии Azure AD Premium (в зависимости от функции) для дальнейшей защиты и управления идентификатором.</span><span class="sxs-lookup"><span data-stu-id="2184b-285">These capabilities come from a valid Azure AD Premium license (depending on the feature) to further secure and manage your identity.</span></span> <span data-ttu-id="2184b-286">Azure AD PIM включает административный JIT-доступ с рабочим процессом утверждения, а также полным аудитом активаций и действий администратора.</span><span class="sxs-lookup"><span data-stu-id="2184b-286">Azure AD PIM enables "Just-in-Time" administrative access with approval workflow, as well as a full audit of administrator activations and activities.</span></span> <span data-ttu-id="2184b-287">Azure MFA — еще одна критическая возможность, которая позволяет выполнять двухфакторную проверку подлинности для входа на портал Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-287">Azure MFA is another critical capability and enables two-step verification for login to the Azure portal.</span></span> <span data-ttu-id="2184b-288">В сочетании с условным управлением доступом можно эффективно управлять риском взлома.</span><span class="sxs-lookup"><span data-stu-id="2184b-288">When combined with Conditional Access Controls you can effectively manage your risk of compromise.</span></span>

<span data-ttu-id="2184b-289">Планирование и подготовка к управлению удостоверением личности и доступом, а также рекомендации Azure Identity Management ([ссылка](/azure/security/azure-security-identity-management-best-practices)) — одна из лучших стратегий снижения риска для использования и должна быть обязательной для каждого развертывания.</span><span class="sxs-lookup"><span data-stu-id="2184b-289">Planning and preparing for your identity and access controls and following Azure Identity Management best practice ([link](/azure/security/azure-security-identity-management-best-practices)) is one of the best risk mitigation strategies that you can employ and should be considered mandatory for every deployment.</span></span>

## <a name="security"></a><span data-ttu-id="2184b-290">Безопасность</span><span class="sxs-lookup"><span data-stu-id="2184b-290">Security</span></span>

<span data-ttu-id="2184b-291">Традиционно одним из самых серьезных препятствий для внедрения облака были вопросы безопасности.</span><span class="sxs-lookup"><span data-stu-id="2184b-291">One of the biggest blockers to cloud adoption traditionally has been concerns over security.</span></span> <span data-ttu-id="2184b-292">Подразделениям безопасности и управления рисками в сфере ИТ необходимо обеспечить защиту и безопасность ресурсов в Azure по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="2184b-292">IT risk managers and security departments need to ensure that resources in Azure are protected and secure by default.</span></span> <span data-ttu-id="2184b-293">Azure предоставляет ряд возможностей, которые вы можете использовать для защиты ресурсов и обнаружения или предотвращения угроз в отношении этих ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-293">Azure provides a number of capabilities that you can leverage to protect resources and detect/prevent threats against those resources.</span></span>

### <a name="azure-security-center"></a><span data-ttu-id="2184b-294">Центр безопасности Azure</span><span class="sxs-lookup"><span data-stu-id="2184b-294">Azure Security Center</span></span>

<span data-ttu-id="2184b-295">[Центр безопасности Azure](/azure/security-center/security-center-intro) обеспечивает единое представление о состоянии безопасности ресурсов в среде в дополнение к расширенной защите от угроз.</span><span class="sxs-lookup"><span data-stu-id="2184b-295">The [Azure Security Center](/azure/security-center/security-center-intro) provides a unified view of the security status of resources across your environment in addition to advanced threat protection.</span></span> <span data-ttu-id="2184b-296">Центр безопасности Azure — это открытая платформа, позволяющая партнерам корпорации Майкрософт создавать программное обеспечение, которое встраивается в центр безопасности Azure, расширяя его возможности.</span><span class="sxs-lookup"><span data-stu-id="2184b-296">Azure Security Center is an open platform that enables Microsoft partners to create software that plugs into and enhance its capabilities.</span></span> <span data-ttu-id="2184b-297">Базовые возможности центра безопасности Azure (бесплатный уровень) предоставляет оценку и рекомендации, которые повысят вашу безопасность.</span><span class="sxs-lookup"><span data-stu-id="2184b-297">The baseline capabilities of Azure Security Center (free tier) provides assessment and recommendations that will enhance your security posture.</span></span> <span data-ttu-id="2184b-298">Его платные уровни позволяют использовать дополнительные и значимые возможности, такие как JIT-доступ администратора и адаптивные элементы управления приложениями (список разрешений).</span><span class="sxs-lookup"><span data-stu-id="2184b-298">Its paid tiers enable additional and valuable capabilities such as Just In Time admin access and adaptive application controls (whitelisting).</span></span>

> [!TIP]
><span data-ttu-id="2184b-299">Центр безопасности Azure — очень мощный инструмент, который постоянно совершенствуется и добавляет новые возможности, которые вы можете использовать для обнаружения угроз и защиты вашего предприятия.</span><span class="sxs-lookup"><span data-stu-id="2184b-299">Azure security center is a very powerful tool that is constantly being enhanced and incorporating new capabilities you can leverage to detect threats and protect your enterprise.</span></span> <span data-ttu-id="2184b-300">Настоятельно рекомендуется всегда включать центр безопасности Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-300">It is highly recommended to always enable ASC.</span></span>

### <a name="azure-resource-locks"></a><span data-ttu-id="2184b-301">Блокировки ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="2184b-301">Azure resource locks</span></span>

<span data-ttu-id="2184b-302">По мере того как организация добавляет основные службы в подписку, становится все более важным избежать прерывания деловой деятельности.</span><span class="sxs-lookup"><span data-stu-id="2184b-302">As your organization adds core services to subscriptions it becomes increasingly important to avoid business disruption.</span></span> <span data-ttu-id="2184b-303">Одним из часто встречаемых видов сбоев являются непреднамеренные последствия работы сценариев и средств против подписки Azure, с ошибочным удалением ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-303">One type of disruption that we often see is unintended consequences of scripts and tools working against an Azure subscription deleting resources mistakenly.</span></span> <span data-ttu-id="2184b-304">[Блокировки ресурсов](/azure/azure-resource-manager/resource-group-lock-resources) позволяют ограничить операции с ценными ресурсами, изменение или удаление которых оказало бы значительное влияние.</span><span class="sxs-lookup"><span data-stu-id="2184b-304">[Resource Locks](/azure/azure-resource-manager/resource-group-lock-resources) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact.</span></span> <span data-ttu-id="2184b-305">Блокировки применяются к подписке, группе ресурсов или даже к отдельным ресурсам.</span><span class="sxs-lookup"><span data-stu-id="2184b-305">Locks are applied to a subscription, resource group, or even individual resources.</span></span> <span data-ttu-id="2184b-306">Распространенным вариантом использования является применение блокировки к базовым ресурсам, таким как виртуальные сети, шлюзы, сетевые группы безопасности и ключевые учетные записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="2184b-306">The common use case is to apply locks to foundational resources such as virtual networks, gateways, network security groups and key storage accounts.</span></span>

### <a name="secure-devops-toolkit"></a><span data-ttu-id="2184b-307">Безопасный набор средств DevOps</span><span class="sxs-lookup"><span data-stu-id="2184b-307">Secure DevOps Toolkit</span></span>

<span data-ttu-id="2184b-308">Безопасный набор средств DevOps для Azure (AzSK) представляет собой набор скриптов, инструментов, расширений, автоматизации и т. п., первоначально созданных собственной ИТ-командой корпорации Майкрософт и выпущенных в OpenSource через Github ([ссылка](https://github.com/azsk/DevOpsKit-docs)).</span><span class="sxs-lookup"><span data-stu-id="2184b-308">The "Secure DevOps Kit for Azure" (AzSK) is a collection of scripts, tools, extensions, automations, etc. originally created by Microsoft's own IT Team and released in OpenSource via Github ([link](https://github.com/azsk/DevOpsKit-docs)).</span></span> <span data-ttu-id="2184b-309">AzSK поддерживает сквозную подписку Azure и потребности в ресурсной безопасности для команд в полном объеме, используя расширенную автоматизацию и плавную интеграцию безопасности в рабочие процессы dev ops, помогая выполнить безопасные действия с этими 6 областями фокусировки:</span><span class="sxs-lookup"><span data-stu-id="2184b-309">AzSK caters to the end to end Azure subscription and resource security needs for teams using extensive automation and smoothly integrating security into native dev ops workflows helping accomplish secure dev ops with these 6 focus areas:</span></span>

* <span data-ttu-id="2184b-310">защита подписки;</span><span class="sxs-lookup"><span data-stu-id="2184b-310">Secure the subscription</span></span>
* <span data-ttu-id="2184b-311">включение безопасной разработки;</span><span class="sxs-lookup"><span data-stu-id="2184b-311">Enable secure development</span></span>
* <span data-ttu-id="2184b-312">интеграция средств безопасности в CICD</span><span class="sxs-lookup"><span data-stu-id="2184b-312">Integrate security into CICD</span></span>
* <span data-ttu-id="2184b-313">непрерывный контроль;</span><span class="sxs-lookup"><span data-stu-id="2184b-313">Continuous Assurance</span></span>
* <span data-ttu-id="2184b-314">мониторинг и оповещения;</span><span class="sxs-lookup"><span data-stu-id="2184b-314">Alerting & Monitoring</span></span>
* <span data-ttu-id="2184b-315">облачная система управления рисками;</span><span class="sxs-lookup"><span data-stu-id="2184b-315">Cloud Risk Governance</span></span>

![Набор средств DevOps Azure](_images/Secure_DevOps_Kit_Azure.png)

<span data-ttu-id="2184b-317">AzSK — это набор средств, скриптов и сведений, которые являются важной частью полного плана управления Azure, и его включение в каркас имеет решающее значение для поддержки целей управления рисками в организации</span><span class="sxs-lookup"><span data-stu-id="2184b-317">The AzSK is a rich set of tools, scripts and information that are an important part of a full Azure governance plan and incorporating this into your scaffold is crucial to supporting your organizations risk management goals</span></span>

### <a name="azure-update-management"></a><span data-ttu-id="2184b-318">Управление обновлениями Azure</span><span class="sxs-lookup"><span data-stu-id="2184b-318">Azure Update Management</span></span>

<span data-ttu-id="2184b-319">Одной из ключевых задач для поддержки безопасности среды является обеспечение исправления серверов с помощью последних обновлений.</span><span class="sxs-lookup"><span data-stu-id="2184b-319">One of the key tasks you can do to keep your environment safe is ensure that your servers are patched with the latest updates.</span></span> <span data-ttu-id="2184b-320">Хотя существует множество средств для выполнения этой задачи, Azure предоставляет решение по [управлению обновлениями Azure](/azure/automation/automation-update-management) для идентификации и развертывания критически важных исправлений операционной системы.</span><span class="sxs-lookup"><span data-stu-id="2184b-320">While there are many tools to accomplish this, Azure provides the [Azure Update Management](/azure/automation/automation-update-management) solution to address the identification and rollout of critical OS patches.</span></span>  <span data-ttu-id="2184b-321">Оно использует службы автоматизации Azure, которые рассматриваются в разделе [Автоматизация](#automate) данного руководства.</span><span class="sxs-lookup"><span data-stu-id="2184b-321">It makes use of Azure Automation (which is covered in the [Automate](#automate) section, later in this guide.</span></span>

## <a name="monitor-and-alerts"></a><span data-ttu-id="2184b-322">Мониторинг и оповещения</span><span class="sxs-lookup"><span data-stu-id="2184b-322">Monitor and alerts</span></span>

<span data-ttu-id="2184b-323">Сбор и анализ телеметрии, обеспечивающей прямой обзор деятельности, показателей производительности, работоспособности и доступности служб, которые используются во всех подписках Azure, имеет решающее значение для активного управления приложениями и инфраструктурой и является фундаментальной потребностью в каждой подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-323">Collecting and analyzing telemetry that provides line of sight into the activities, performance metrics, health and availability of the services you are using across all of your Azure subscriptions is critical to proactively manage your applications and infrastructure and is a foundational need of every Azure subscription.</span></span> <span data-ttu-id="2184b-324">Каждая служба Azure выдает данные телеметрии, в виде журналов действий, метрик и журналов диагностики.</span><span class="sxs-lookup"><span data-stu-id="2184b-324">Every Azure service emits telemetry in the form of Activity Logs, Metrics and Diagnostic Logs.</span></span>

* <span data-ttu-id="2184b-325">**Журналы действий** описывают все операции, выполняемые с ресурсами в подписке</span><span class="sxs-lookup"><span data-stu-id="2184b-325">**Activity Logs** describe all operations performed on resources in your subscriptions</span></span>
* <span data-ttu-id="2184b-326">**Метрики** — это числовая информация, которая выпускается из ресурса, описывающая производительность и работоспособность ресурса</span><span class="sxs-lookup"><span data-stu-id="2184b-326">**Metrics** are numerical information emitted from within a resource that describe the performance and health of a resource</span></span>
* <span data-ttu-id="2184b-327">**Журналы диагностики** выдаются службой Azure. Они содержат подробные и своевременные данные о работе этой службы.</span><span class="sxs-lookup"><span data-stu-id="2184b-327">**Diagnostic Logs** are emitted by an Azure service and provide rich, frequent data about the operation of that service.</span></span>

<span data-ttu-id="2184b-328">Эта информация может рассматриваться и действовать на нескольких уровнях и постоянно совершенствуется.</span><span class="sxs-lookup"><span data-stu-id="2184b-328">This information can be viewed and acted upon at multiple levels and are continually being improved.</span></span> <span data-ttu-id="2184b-329">Azure предоставляет **общие**, **основные** и **глубокие** возможности мониторинга ресурсов Azure в службах, описанных на диаграмме ниже.</span><span class="sxs-lookup"><span data-stu-id="2184b-329">Azure provides **shared**, **core** and **deep** monitoring capabilities of Azure resources through the services outlined in the diagram below.</span></span>
<span data-ttu-id="2184b-330">![мониторинг](./_images/monitoring.png)</span><span class="sxs-lookup"><span data-stu-id="2184b-330">![monitoring](./_images/monitoring.png)</span></span>

### <a name="shared-capabilities"></a><span data-ttu-id="2184b-331">Возможности общего доступа</span><span class="sxs-lookup"><span data-stu-id="2184b-331">Shared capabilities</span></span>

* <span data-ttu-id="2184b-332">**Оповещения**. Вы можете собирать каждый журнал, событие и метрику из ресурсов Azure. Но без возможности уведомления о критических условиях и действиях, эти данные полезны только для исторических целей и в ходе расследований.</span><span class="sxs-lookup"><span data-stu-id="2184b-332">**Alerts**: You can collect every log, event and metric from Azure resources, but without the ability to be notified of critical conditions and act, this data is only useful for historic purposes and forensics.</span></span> <span data-ttu-id="2184b-333">Оповещения Azure активно уведомляют об условиях, которые вы определяете во всех приложениях и инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="2184b-333">Azure Alerts proactively notify you of conditions you define across all your applications and infrastructure.</span></span> <span data-ttu-id="2184b-334">Вы создаете правила оповещения в журналах, событиях и метриках, которые используют группы действий для уведомления наборов получателей.</span><span class="sxs-lookup"><span data-stu-id="2184b-334">You create alert rules across logs, events and metrics that use action groups to notify sets of recipients.</span></span> <span data-ttu-id="2184b-335">Группы действий также предоставляют возможность автоматизировать восстановление с помощью внешних действий, например веб-перехватчики для запуска runbooks службы автоматизации и функций Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-335">Action groups also provide the ability to automate remediation using external actions such as webhooks to run Azure Automation runbooks and Azure Functions.</span></span>

* <span data-ttu-id="2184b-336">**Панели мониторинга**. Панели мониторинга позволяют агрегировать просмотры мониторинга и объединять данные между ресурсами и подписками, чтобы дать общее представление о телеметрии ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-336">**Dashboards**: Dashboards enable you to aggregate monitoring views and combine data across resources and subscriptions to give you an enterprise-wide view into the telemetry of Azure resources.</span></span> <span data-ttu-id="2184b-337">Вы можете создавать и настраивать свои собственные представления и делиться ими с другими.</span><span class="sxs-lookup"><span data-stu-id="2184b-337">You can create and configure your own views and share them with others.</span></span> <span data-ttu-id="2184b-338">Например, можно создать панель мониторинга, состоящую из различных фрагментов для администраторов баз данных, для предоставления информации обо всех службах баз данных Azure, включая Azure SQL DB, Azure DB для PostgreSQL и Azure DB для MySQL.</span><span class="sxs-lookup"><span data-stu-id="2184b-338">For example, you could create a dashboard consisting of various tiles for DBAs to provide information across all Azure database services, including Azure SQL DB, Azure DB for PostgreSQL and Azure DB for MySQL.</span></span>

* <span data-ttu-id="2184b-339">**Обозреватель метрик**. Метрики — это числовые значения, генерируемые ресурсами Azure (например,% ресурсов ЦП, дисковый ввод-вывод), которые обеспечивают аналитические сведения работы и производительности ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-339">**Metrics Explorer**: Metrics are numerical values generated by Azure resources (e.g. % CPU, Disk I/O, that provide insight into the operation and performance of your resources.</span></span> <span data-ttu-id="2184b-340">С помощью обозревателя метрик можно определить и отправить показатели, которые вас интересуют в Log Analytics для агрегирования и анализа.</span><span class="sxs-lookup"><span data-stu-id="2184b-340">By using Metrics Explorer you can define and send the metrics in which you are interested to Log Analytics for aggregation and analysis.</span></span>

### <a name="core-monitoring"></a><span data-ttu-id="2184b-341">Базовый мониторинг</span><span class="sxs-lookup"><span data-stu-id="2184b-341">Core monitoring</span></span>

* <span data-ttu-id="2184b-342">**Azure Monitor**. Служба Azure Monitor — это базовая платформа, которая обеспечивает единый источник для мониторинга ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-342">**Azure Monitor**: Azure Monitor is the core platform service that provides a single source for monitoring Azure resources.</span></span> <span data-ttu-id="2184b-343">Интерфейс портала Azure для Azure Monitor обеспечивает централизованную точку перехода для всех функций мониторинга в Azure, включая возможности глубокого мониторинга приложений Insights, Log Analytics, Network Monitoring, Management Solutions и Service Maps.</span><span class="sxs-lookup"><span data-stu-id="2184b-343">The Azure Portal interface of Azure Monitor provides a centralized jump off point for all the monitoring features across Azure including the deep monitoring capabilities of Application Insights, Log Analytics, Network Monitoring, Management Solutions and Service Maps.</span></span> <span data-ttu-id="2184b-344">С помощью Azure Monitor можно визуализировать, запрашивать, маршрутизировать, архивировать и действовать на метриках и журналах, поступающих из ресурсов Azure на всей облачной территории.</span><span class="sxs-lookup"><span data-stu-id="2184b-344">With Azure Monitor you can visualize, query, route, archive and act on the metrics and logs coming from Azure resources across your entire cloud estate.</span></span> <span data-ttu-id="2184b-345">В дополнение к порталу можно получать данные с помощью командлетов PowerShell Monitor, Cross Platform CLI или REST API Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="2184b-345">In addition to the portal you can retrieve data through the Monitor PowerShell Cmdlets, Cross Platform CLI or the Azure Monitor REST APIs.</span></span>

* <span data-ttu-id="2184b-346">**Помощник по Azure**. Помощник по Azure постоянно контролирует телеметрию в подписках и средах и дает рекомендации по наилучшим методам оптимизации ресурсов Azure для экономии средств и повышения производительности, безопасности и доступности ресурсов, составляющих ваши приложения.</span><span class="sxs-lookup"><span data-stu-id="2184b-346">**Azure Advisor**: Azure Advisor constantly monitors telemetry across your subscriptions and environments and provides recommendations on best practices on how to optimize your Azure resources to save money and improve performance, security and availability of the resources that make up your applications.</span></span>

* <span data-ttu-id="2184b-347">**Работоспособность служб**. Работоспособность служб Azure идентифицирует любые проблемы служб Azure, которые могут повлиять на ваши приложения, а также поможет спланировать окна запланированного обслуживания.</span><span class="sxs-lookup"><span data-stu-id="2184b-347">**Service Health**: Azure Service Health identifies any issues with Azure Services that may impact your applications as well as assists you in planning for scheduled maintenance windows.</span></span>

* <span data-ttu-id="2184b-348">**Журнал действий**. Журнал действий описывает все операции с ресурсами в подписках.</span><span class="sxs-lookup"><span data-stu-id="2184b-348">**Activity Log**: The Activity Log describes all operations on resources in your subscriptions.</span></span> <span data-ttu-id="2184b-349">Он предоставляет журнал аудита для определения "что", "кому" и "когда" для всех операций создания, обновления и удаления ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-349">It provides an audit trail to determine the 'what', 'who', and 'when' of any create, update, delete operation on resources.</span></span> <span data-ttu-id="2184b-350">События в журнале действий платформы хранятся и доступны для запросов в течение 90 дней.</span><span class="sxs-lookup"><span data-stu-id="2184b-350">Activity Log events are stored in the platform and are available to query for 90 days.</span></span> <span data-ttu-id="2184b-351">Можно принять журналы действий в Log Analytics для более длительных периодов хранения и более глубокого анализа запросов и анализа по нескольким ресурсам.</span><span class="sxs-lookup"><span data-stu-id="2184b-351">You can ingest Activity Logs into Log Analytics for longer retention periods and deeper querying and analysis across multiple resources.</span></span>

### <a name="deep-application-monitoring"></a><span data-ttu-id="2184b-352">Сложный мониторинг приложений</span><span class="sxs-lookup"><span data-stu-id="2184b-352">Deep application monitoring</span></span>

* <span data-ttu-id="2184b-353">**Application Insights**. Application Insights позволяет собирать специфическую телеметрию приложения и контролировать производительность, доступность и использование приложений в облаке или локально.</span><span class="sxs-lookup"><span data-stu-id="2184b-353">**Application Insights**: Application Insights enables you to collect application specific telemetry and monitor the performance, availability and usage of applications in the cloud or on-premises.</span></span> <span data-ttu-id="2184b-354">Инструментирование приложений с помощью SDK с поддержкой нескольких языков, в том числе .NET, JavaScript, JAVA, Node.js, Ruby и Python.</span><span class="sxs-lookup"><span data-stu-id="2184b-354">By instrumenting your application with supported SDKs for multiple languages including .NET, JavaScript, JAVA, Node.js, Ruby and Python.</span></span> <span data-ttu-id="2184b-355">События Application Insights попадают в одно хранилище данных Log Analytics, которое поддерживает мониторинг инфраструктуры и безопасности, чтобы вы могли коррелировать и агрегировать события во времени с помощью богатого языка запросов.</span><span class="sxs-lookup"><span data-stu-id="2184b-355">Application Insights events are ingested into the same Log Analytics data store that supports infrastructure and security monitoring to enable you to correlate and aggregate events over time through a rich query language.</span></span>

### <a name="deep-infrastructure-monitoring"></a><span data-ttu-id="2184b-356">Инфраструктура сложного мониторинга</span><span class="sxs-lookup"><span data-stu-id="2184b-356">Deep infrastructure monitoring</span></span>

* <span data-ttu-id="2184b-357">**Log Analytics**. Служба Log Analytics играет ключевую роль в мониторинге Azure. Она собирает данные телеметрии и другие данные из разнообразных источников и предоставляет язык запросов и механизм аналитики, который позволяет анализировать работу приложений и ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-357">**Log Analytics**: Log Analytics plays a central role in Azure monitoring by collecting telemetry and other data from a variety of sources and providing a query language and analytics engine that gives you insights into the operation of your applications and resources.</span></span> <span data-ttu-id="2184b-358">Вы можете напрямую взаимодействовать с данными Log Analytics с помощью высокоэффективного поиска по журналам и представлений. Кроме того, вы можете воспользоваться средствами анализа в других службах Azure, которые хранят свои данные в Log Analytics, например Application Insights или центр безопасности Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-358">You can either interact directly with Log Analytics data through highly performant log searches and views, or you may use analysis tools in other Azure services that store their data in Log Analytics such as Application Insights or Azure Security Center.</span></span>

* <span data-ttu-id="2184b-359">**Сетевой мониторинг**. Службы сетевого мониторинга Azure позволяют получить представление о потоке сетевого трафика, производительности, безопасности, подключениях и узких местах.</span><span class="sxs-lookup"><span data-stu-id="2184b-359">**Network Monitoring**: Azure's network monitoring services enable you to gain insight into network traffic flow, performance, security, connectivity and bottlenecks.</span></span> <span data-ttu-id="2184b-360">Тщательно спланированный проект сети должен включать настройку служб мониторинга сети Azure, такую как Наблюдатель за сетями и ExpressRoute Monitor.</span><span class="sxs-lookup"><span data-stu-id="2184b-360">A well-planned network design should include configuring Azure network monitoring services such as Network Watcher and ExpressRoute Monitor.</span></span>

* <span data-ttu-id="2184b-361">**Решения по управлению**. Решения по управлению представляют собой упакованные наборы логики, сведения и предопределенные запросы Log Analytics для приложения или службы.</span><span class="sxs-lookup"><span data-stu-id="2184b-361">**Management Solutions**: Management solutions are packaged sets of logic, insights and pre-defined Log Analytics queries for an application or service.</span></span> <span data-ttu-id="2184b-362">Они полагаются на Log Analytics как основу для хранения и анализа данных событий.</span><span class="sxs-lookup"><span data-stu-id="2184b-362">They rely on Log Analytics as the foundation to store and analyze event data.</span></span> <span data-ttu-id="2184b-363">Пример решений по управлению содержат контрольные контейнеры и аналитику базы данных Azure SQL.</span><span class="sxs-lookup"><span data-stu-id="2184b-363">Sample management solutions include monitoring containers and Azure SQL Database analytics.</span></span>

* <span data-ttu-id="2184b-364">**Сопоставление служб**. Сопоставление служб предоставляет графическое представление ваших компонентов инфраструктуры, их процессов и взаимозависимостей на других компьютерах и внешних процессах.</span><span class="sxs-lookup"><span data-stu-id="2184b-364">**Service Map**: Service Map provides a graphical view into your infrastructure components, their processes and interdependencies on other computers and external processes.</span></span> <span data-ttu-id="2184b-365">Оно объединяет события, данные о производительности и решения по управлению в Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="2184b-365">It integrates events, performance data and management solutions in Log Analytics.</span></span>

> [!TIP]
> <span data-ttu-id="2184b-366">Перед созданием отдельных предупреждений создайте и поддерживайте набор общих групп действий, которые можно использовать во всех оповещениях Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-366">Before creating individual alerts, create and maintain a set of shared Action Groups that can be used across Azure Alerts.</span></span> <span data-ttu-id="2184b-367">Это позволит вам централизованно поддерживать жизненный цикл списков получателей, методы доставки уведомлений (электронные письма, номера телефонов для SMS-уведомлений) и веб-перехватчиков для внешних действий (Runbook автоматизации Azure, функций Azure/приложений логики, управления ИТ-услугами).</span><span class="sxs-lookup"><span data-stu-id="2184b-367">This will enable you to centrally maintain the lifecycle of your recipient lists, notification delivery methods (email, SMS phone numbers) and webhooks to external actions (Azure Automation runbooks, Azure Functions / Logic Apps, ITSM).</span></span>

## <a name="cost-management"></a><span data-ttu-id="2184b-368">управления затратами;</span><span class="sxs-lookup"><span data-stu-id="2184b-368">Cost management</span></span>

<span data-ttu-id="2184b-369">Одним из основных изменений, с которым вам придется столкнуться при переходе от локального облака к общедоступному, является переход от капитальных затрат (покупка оборудования) к операционным расходам (плата за обслуживание по мере его использования).</span><span class="sxs-lookup"><span data-stu-id="2184b-369">One of the major changes that you will face when you move from on-premises cloud to the public cloud is the switch from capital expenditure (buying hardware) to operating expenditure (paying for service as you use it).</span></span> <span data-ttu-id="2184b-370">Переход от капитальных затрат к операционным расходам также требует более тщательного управления вашими расходами.</span><span class="sxs-lookup"><span data-stu-id="2184b-370">This switch from CAPEX to OPEX also brings the need to more carefully manage your costs.</span></span> <span data-ttu-id="2184b-371">Преимущество облака заключается в том, что вы можете фундаментально и точно повлиять на стоимость используемой службы, просто отключив ее (или изменив размер), когда она больше не нужна.</span><span class="sxs-lookup"><span data-stu-id="2184b-371">The benefit of the cloud is that you can fundamentally and positively impact the cost of a service you use by merely turning it off (or resizing) when it's not needed.</span></span> <span data-ttu-id="2184b-372">Намеренное управление затратами в облаке является общепринятой практикой, и все опытные клиенты выполняют это ежедневно.</span><span class="sxs-lookup"><span data-stu-id="2184b-372">Deliberately managing your costs in the cloud is a recommended practice and one that mature customers do daily.</span></span>

<span data-ttu-id="2184b-373">Корпорация Майкрософт предоставляет несколько средств для визуализации, отслеживания и управления вашими расходами.</span><span class="sxs-lookup"><span data-stu-id="2184b-373">Microsoft provides a several tools for you to be able to visual, track and manage your costs.</span></span> <span data-ttu-id="2184b-374">Мы также предоставляем полный набор интерфейсов API, которые позволяют настраивать и интегрировать управление затратами в свои собственные инструменты и панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="2184b-374">We also provide a full set of APIs to enable you to customize and integrate cost management into your own tools and dashboards.</span></span> <span data-ttu-id="2184b-375">Эти средства бессистемно группируются в возможности портала Azure и внешние возможности</span><span class="sxs-lookup"><span data-stu-id="2184b-375">These tools are loosely grouped into: Azure Portal Capabilities and external capabilities</span></span>

### <a name="azure-portal-capabilities"></a><span data-ttu-id="2184b-376">Возможности портала Azure</span><span class="sxs-lookup"><span data-stu-id="2184b-376">Azure Portal capabilities</span></span>

<span data-ttu-id="2184b-377">Это средства предоставления мгновенной информации о стоимости, а также способности принятия мер</span><span class="sxs-lookup"><span data-stu-id="2184b-377">These are tools to provide you instant information on cost as well as the ability to take actions</span></span>

* <span data-ttu-id="2184b-378">**Стоимость ресурсов подписки**. Представление [Анализ стоимости Azure](/azure/cost-management/overview), расположенное на портале, позволяет быстро просмотреть ваши затраты и информацию о ежедневных расходах ресурсов или группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-378">**Subscription Resource Cost**: Located in The Portal, the [Azure Cost Analysis](/azure/cost-management/overview) view provides a quick look at your costs and information on daily spend by resource or resource group.</span></span>
* <span data-ttu-id="2184b-379">**Управление затратами Azure**. Этот продукт является результатом приобретения Cloudyn корпорацией Майкрософт и позволяет управлять и анализировать затраты на Azure, а также на других поставщиков общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="2184b-379">**Azure Cost Management**: This product is the result of the purchase of Cloudyn by Microsoft and allows you to manage and analyze your Azure spend as well what you spend on other Public Cloud providers.</span></span> <span data-ttu-id="2184b-380">Есть как бесплатные, так и платные уровни, с большим количеством возможностей, как показано в [Обзоре](/azure/cost-management/overview).</span><span class="sxs-lookup"><span data-stu-id="2184b-380">There are both free and paid tiers, with a great wealth of capabilities as seen in the [overview](/azure/cost-management/overview).</span></span>
* <span data-ttu-id="2184b-381">**Бюджеты и группы действий Azure**. Анализ бюджета и принятие соответствующих мер до недавнего времени было доступно по большей части вручную.</span><span class="sxs-lookup"><span data-stu-id="2184b-381">**Azure Budgets and Action Groups** Knowing what somethings costs and doing something about it until recently has been more of a manual exercise.</span></span> <span data-ttu-id="2184b-382">С введением бюджетов Azure и его API-интерфейсов теперь можно создавать действия (как показано в [этом](https://channel9.msdn.com/Shows/Azure-Friday/Managing-costs-with-the-Azure-Budgets-API-and-Action-Groups) примере) на случай, если затраты достигнут порога.</span><span class="sxs-lookup"><span data-stu-id="2184b-382">With the introduction of Azure Budgets and its APIs, it's now possible to create actions (as seen in [this](https://channel9.msdn.com/Shows/Azure-Friday/Managing-costs-with-the-Azure-Budgets-API-and-Action-Groups) example) when costs hit a threshold.</span></span> <span data-ttu-id="2184b-383">Например, выключение группы ресурсов "тест", когда она достигает 100% своего бюджета, или [другой пример].</span><span class="sxs-lookup"><span data-stu-id="2184b-383">For example, shutting down a "test" resource group when it hits 100% of its budget, or [another example].</span></span>
* <span data-ttu-id="2184b-384">**Помощник по Azure**. Иметь представление о затратах — это только половина дела; что делать с этой информацией — совершенно другое.</span><span class="sxs-lookup"><span data-stu-id="2184b-384">**Azure Advisor** Knowing what something costs is only half the battle; the other half is knowing what to do with that information.</span></span> <span data-ttu-id="2184b-385">[Помощник по Azure](/azure/advisor/advisor-overview) предоставляет рекомендации по действиям, которые необходимо предпринять для экономии средств, повышения надежности или даже повышения безопасности.</span><span class="sxs-lookup"><span data-stu-id="2184b-385">[Azure Advisor](/azure/advisor/advisor-overview) provides you recommendations on actions to take to save money, improve reliability or even increase security.</span></span>

### <a name="external-cost-management-tools"></a><span data-ttu-id="2184b-386">Внешние средства управления затратами</span><span class="sxs-lookup"><span data-stu-id="2184b-386">External cost management tools</span></span>

* <span data-ttu-id="2184b-387">**PowerBI Azure Consumption Insights**.</span><span class="sxs-lookup"><span data-stu-id="2184b-387">**PowerBI Azure Consumption Insights**.</span></span> <span data-ttu-id="2184b-388">Хотите создать свои собственные визуализации для организации?</span><span class="sxs-lookup"><span data-stu-id="2184b-388">Do you want to create your own visualizations for your organization?</span></span> <span data-ttu-id="2184b-389">В таком случае пакет содержимого Azure Consumption Insights для PowerBI предназначен именно для вас.</span><span class="sxs-lookup"><span data-stu-id="2184b-389">If so, then the Azure Consumption Insights content pack for PowerBI is your tool of choice.</span></span> <span data-ttu-id="2184b-390">Используя этот пакет содержимого и PowerBI, можно создавать собственные визуализации для представления своей организации, делать более глубокий анализ затрат и добавлять другие источники данных для дальнейшего обогащения.</span><span class="sxs-lookup"><span data-stu-id="2184b-390">Using this content pack and PowerBI you can create custom visualizations to represent your organization, do deeper analysis on costs and add in other data sources for further enrichment.</span></span>

* <span data-ttu-id="2184b-391">**API-интерфейсы потребления**.</span><span class="sxs-lookup"><span data-stu-id="2184b-391">**Consumption API**.</span></span> <span data-ttu-id="2184b-392">[API-интерфейсы потребления](/rest/api/consumption/) дают вам программный доступ к расходам и данным об использовании в дополнение к информации о бюджетах, зарезервированных экземплярах и расходах в marketplace.</span><span class="sxs-lookup"><span data-stu-id="2184b-392">The [consumption APIs](/rest/api/consumption/) give you programmatic access to cost and usage data in addition to information on budgets, reserved instances and marketplace charges.</span></span> <span data-ttu-id="2184b-393">Эти API-интерфейсы доступны только для регистрации Enterprise и некоторых подписок Web Direct, кроме того они дают возможность интегрировать ваши данные о расходах в свои собственные средства и хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="2184b-393">These APIs are accessible only for Enterprise Enrollments and some Web Direct subscriptions however they give you the ability to integrate your cost data into your own tools and data warehouses.</span></span> <span data-ttu-id="2184b-394">Вы также можете получить доступ к этим API-интерфейсам с помощью команд интерфейса командной строки Azure, которые перечислены [здесь](/cli/azure/consumption?view=azure-cli-latest).</span><span class="sxs-lookup"><span data-stu-id="2184b-394">You can also access these APIs by using the Azure CLI, seen [here](/cli/azure/consumption?view=azure-cli-latest).</span></span>

<span data-ttu-id="2184b-395">Если проанализировать "опытных" клиентов, которые использовали облако в течение длительного времени, мы видим ряд методик, которые настоятельно рекомендуются к использованию</span><span class="sxs-lookup"><span data-stu-id="2184b-395">When we look across customers who have used the cloud for a long time and are "mature" in their use, we see a number of highly recommended practices</span></span>

* <span data-ttu-id="2184b-396">**Активное отслеживание затрат**.</span><span class="sxs-lookup"><span data-stu-id="2184b-396">**Actively monitor costs**.</span></span> <span data-ttu-id="2184b-397">Организации, которые являются опытными пользователями Azure, постоянно отслеживают затраты и при необходимости предпринимают действия.</span><span class="sxs-lookup"><span data-stu-id="2184b-397">Organizations that are mature Azure users constantly monitor costs and take actions when needed.</span></span> <span data-ttu-id="2184b-398">Некоторые организации даже назначают людей, в чьи обязанности входит выполнять анализ и предлагать изменения в использовании, и эти люди более чем окупаются при первом же найденном неиспользуемом кластере HDInsight, который был запущен вот уже несколько месяцев.</span><span class="sxs-lookup"><span data-stu-id="2184b-398">Some organizations even dedicate people to do analysis and suggest changes to usage, and these people more than pay for themselves the first time they find an unused HDInsight cluster that's been running for months.</span></span>
* <span data-ttu-id="2184b-399">**Использование зарезервированных экземпляров**.</span><span class="sxs-lookup"><span data-stu-id="2184b-399">**Use Reserved Instances**.</span></span> <span data-ttu-id="2184b-400">Еще одним ключом клиента для управления расходами в облаке является использование правильного средства для работы.</span><span class="sxs-lookup"><span data-stu-id="2184b-400">Another key tenant for managing costs in the cloud is to use the right tool for the job.</span></span> <span data-ttu-id="2184b-401">Если у вас есть виртуальная машина IaaS, которая работает 24x7, то использование зарезервированного экземпляра значительно сэкономит средства.</span><span class="sxs-lookup"><span data-stu-id="2184b-401">If you have an IaaS VM that must stay on 24x7, then using a Reserved Instance will save you significant money.</span></span> <span data-ttu-id="2184b-402">Поиск правильного баланса между автоматизацией выключения виртуальных машин и использованием зарезервированного экземпляра требует опыта и анализа.</span><span class="sxs-lookup"><span data-stu-id="2184b-402">Finding the right balance between automating the shutdown of VMs and using RIs takes experience and analysis.</span></span>
* <span data-ttu-id="2184b-403">**Эффективное использование автоматизации**. Многие рабочие нагрузки не нужно запускать каждый день.</span><span class="sxs-lookup"><span data-stu-id="2184b-403">**Use automation effectively**: Many workloads do not need to be running every day.</span></span> <span data-ttu-id="2184b-404">Даже отключение виртуальной машины в течение 4-х часов каждый день может сэкономить 15% от стоимости.</span><span class="sxs-lookup"><span data-stu-id="2184b-404">Even turning off a VM for a 4-hour period every day can save you 15% of your cost.</span></span> <span data-ttu-id="2184b-405">Служба автоматизации быстро окупит себя.</span><span class="sxs-lookup"><span data-stu-id="2184b-405">Automation will pay for itself quickly.</span></span>
* <span data-ttu-id="2184b-406">**Использование тегов ресурсов для визуализации**. Как упоминалось в другой части этого документа, использование тегов ресурсов позволит лучше анализировать затраты.</span><span class="sxs-lookup"><span data-stu-id="2184b-406">**Use resource tags for visibility**: As mentioned elsewhere in this document, using resource tags will allow for better analysis of costs.</span></span>

<span data-ttu-id="2184b-407">Управление затратами — это дисциплина, которая является основой эффективного и действенного управления общедоступным облаком.</span><span class="sxs-lookup"><span data-stu-id="2184b-407">Cost management is a discipline that is core to the effective and efficient running of a public cloud.</span></span> <span data-ttu-id="2184b-408">Предприятия, добивающиеся успеха, смогут контролировать свои затраты и сопоставлять их с фактическим спросом, а не с избыточным предложением и надеждой на спрос.</span><span class="sxs-lookup"><span data-stu-id="2184b-408">Enterprises that achieve success will be able to control their costs and match them to their actual demand as opposed to overbuying and hoping demand comes.</span></span>

## <a name="automate"></a><span data-ttu-id="2184b-409">Автоматизация</span><span class="sxs-lookup"><span data-stu-id="2184b-409">Automate</span></span>

<span data-ttu-id="2184b-410">Одна из многих возможностей, которая отличает опытность организаций, использующих поставщики облака, — это уровень автоматизации, который они включили.</span><span class="sxs-lookup"><span data-stu-id="2184b-410">One of the many capabilities that differentiates the maturity of organizations using cloud providers is the level of automation that they have incorporated.</span></span>  <span data-ttu-id="2184b-411">Автоматизация — это бесконечный процесс, и поскольку ваша организация перемещается в облако, как и любая другая часть требует вложений ресурсов и времени для создания.</span><span class="sxs-lookup"><span data-stu-id="2184b-411">Automation is a never-ending process and as your organization moves to the cloud it is any area that you need to invest resources and time in building.</span></span>  <span data-ttu-id="2184b-412">Автоматизация выполняет множество задач, включая последовательное развертывание ресурсов (там, где она напрямую связана с другой концепцией каркаса, шаблонов и DevOps) для устранения проблем.</span><span class="sxs-lookup"><span data-stu-id="2184b-412">Automation serves many purposes including consistent rollout of resources (where it ties directly to another core scaffold concept, Templates & DevOps) to the remediation of issues.</span></span>  <span data-ttu-id="2184b-413">Служба автоматизации — это "соединительная ткань" каркаса Azure, которая связывает все области между собой.</span><span class="sxs-lookup"><span data-stu-id="2184b-413">Automation is the "connective tissue" of the Azure scaffold and links each area together.</span></span>

<span data-ttu-id="2184b-414">Существует ряд средств, которые доступны по мере создания этой возможности: от основных средств, таких как Azure Automation, EventGrid и AzureCLI, до большого количества средств от сторонних производителей, таких как Terraform, Jenkins, Chef и Puppet (среди прочих).</span><span class="sxs-lookup"><span data-stu-id="2184b-414">There are a number of tools that are available as you build out this capability, from first party tools such as Azure Automation, EventGrid and AzureCLI to an extensive amount of third party tools such as Terraform, Jenkins, Chef, and Puppet (to name a few).</span></span> <span data-ttu-id="2184b-415">Основные возможности для автоматизации операционной команды — это Azure Automation, Event Grid и Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="2184b-415">Core to your operations team ability to automate are Azure Automation, Event Grid and the Azure Cloud Shell:</span></span>

* <span data-ttu-id="2184b-416">**Служба автоматизации Azure**. Является облачной возможностью, которая позволяет создавать Runbook (в PowerShell или Python), автоматизировать процессы, настраивать ресурсы и даже применять исправления.</span><span class="sxs-lookup"><span data-stu-id="2184b-416">**Azure Automation**: Is a cloud-based capability that allows to you author Runbooks (in either PowerShell or Python) and allows you automate processes, configure resources, and even apply patches.</span></span>  <span data-ttu-id="2184b-417">[Служба автоматизации Azure](/azure/automation/automation-intro) имеет расширенный набор кроссплатформенных возможностей, которые являются неотъемлемой частью развертывания, но слишком обширны, чтобы можно было здесь подробно их перечислить и описать.</span><span class="sxs-lookup"><span data-stu-id="2184b-417">[Azure Automation](/azure/automation/automation-intro) has an extensive set of cross platform capabilities that are integral to your deployment but are too extensive to be covered in depth here.</span></span>
* <span data-ttu-id="2184b-418">**Сетка событий**. Эта [служба](/azure/event-grid) — полностью управляемая система маршрутизации событий, позволяющая реагировать на события в среде Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-418">**Event Grid**: this [service](/azure/event-grid) is a fully-managed event routing system that let's you react to events within your Azure environment.</span></span> <span data-ttu-id="2184b-419">Подобно тому как автоматизация является соединительной тканью опытных облачных организаций, Сетка событий — соединительная ткань хорошей автоматизации.</span><span class="sxs-lookup"><span data-stu-id="2184b-419">Like Automation is the connective tissue of mature cloud organizations, Event Grid is the connective tissue of good automation.</span></span> <span data-ttu-id="2184b-420">Используя Сетку событий, вы можете создать простое бессерверное действие для отправки сообщений электронной почты администратору всякий раз, когда создается новый ресурс и регистрируется в базе данных.</span><span class="sxs-lookup"><span data-stu-id="2184b-420">Using Event Grid, you can create a simple, serverless, action to send an email to an administrator whenever a new resource is created and log that resource in a database.</span></span> <span data-ttu-id="2184b-421">Эта же Сетка событий может уведомлять, когда ресурс удаляется, и удалять элемент из базы данных.</span><span class="sxs-lookup"><span data-stu-id="2184b-421">That same Event Grid can notify when a resource is deleted and remove the item from the database.</span></span>
* <span data-ttu-id="2184b-422">**Azure Cloud Shell**. Это интерактивная на основе браузера [оболочка](/azure/cloud-shell/overview) для управления ресурсами Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-422">**Azure Cloud Shell**: is an interactive, browser-based [shell](/azure/cloud-shell/overview) for managing resources in Azure.</span></span> <span data-ttu-id="2184b-423">Она обеспечивает полную среду для PowerShell или Bash, которая запускается по мере необходимости (и поддерживается для вас), чтобы получить согласованную среду для запуска сценариев.</span><span class="sxs-lookup"><span data-stu-id="2184b-423">It provides a complete environment for either PowerShell or Bash that is launched as needed (and maintained for you) so that you have a consistent environment from which to run your scripts.</span></span> <span data-ttu-id="2184b-424">Azure Cloud Shell предоставляет доступ к уже установленным дополнительным ключевым средствам, для автоматизации среды, включая [Azure CLI](/cli/azure/get-started-with-azure-cli?view=azure-cli-latest), [Terraform](/azure/virtual-machines/linux/terraform-install-configure) и растущий список дополнительных [средств](https://azure.microsoft.com/updates/cloud-shell-new-cli-tools-and-font-size-selection/) для управления контейнерами, базами данных (sqlcmd) и других.</span><span class="sxs-lookup"><span data-stu-id="2184b-424">The Azure Cloud Shell provides access to additional key tools -already installed-- to automate your environment including [Azure CLI](/cli/azure/get-started-with-azure-cli?view=azure-cli-latest), [Terraform](/azure/virtual-machines/linux/terraform-install-configure) and a growing list of additional [tools](https://azure.microsoft.com/updates/cloud-shell-new-cli-tools-and-font-size-selection/) to manage containers, databases (sqlcmd) and more.</span></span>

<span data-ttu-id="2184b-425">Автоматизация — это круглосуточная работа, и она быстро станет одной из важнейших операционных задач в облачной команде.</span><span class="sxs-lookup"><span data-stu-id="2184b-425">Automation is a full-time job and it will rapidly become one of the most important operational tasks within your cloud team.</span></span> <span data-ttu-id="2184b-426">Организации, которые используют подход "Автоматизация на первом месте" имеют больший успех в использовании Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-426">Organizations that take the approach of "automate first" have greater success in using Azure:</span></span>

* <span data-ttu-id="2184b-427">Управление затратами. Активный поиск возможностей и создания автоматизации для перераспределения ресурсов, масштабирования и отключения неиспользуемых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-427">Managing costs: actively seeking opportunities and creating automation to re-size resources, scale-up/down and turn off unused resources.</span></span>
* <span data-ttu-id="2184b-428">Оперативная гибкость. Благодаря использованию автоматизации (наряду с Шаблонами и инструментами DevOps) вы получаете уровень повторяемости, который увеличивает доступность, повышает безопасность и позволяет вашей команде сосредоточиться на решении бизнес-задач.</span><span class="sxs-lookup"><span data-stu-id="2184b-428">Operational flexibility: through the use of automation (along with Templates and DevOps) you gain a level of repeatability that increases availability, increases security and enables your team to focus on solving business problems.</span></span>

## <a name="templates-and-devops"></a><span data-ttu-id="2184b-429">Шаблоны и инструменты DevOps</span><span class="sxs-lookup"><span data-stu-id="2184b-429">Templates and DevOps</span></span>

<span data-ttu-id="2184b-430">Как указано в разделе "Автоматизация", ваша цель как организации должна заключаться в предоставлении ресурсов с помощью шаблонов и сценариев, контролируемых источником для минимизации интерактивной конфигурации среды.</span><span class="sxs-lookup"><span data-stu-id="2184b-430">As highlighted in the Automate section, your goal as an organization should be to provision resources through source-controlled templates and scripts and to minimize interactive configuration of your environments.</span></span> <span data-ttu-id="2184b-431">Такой подход "инфраструктуры как кода" наряду с дисциплинированным процессом DevOps для непрерывного развертывания может обеспечить согласованность и уменьшить смещение в среде.</span><span class="sxs-lookup"><span data-stu-id="2184b-431">This approach of "infrastructure as code" along with a disciplined DevOps process for continuous deployment can ensure consistency and reduce drift across your environments.</span></span> <span data-ttu-id="2184b-432">Почти каждый ресурс Azure можно развернуть с помощью [шаблонов JSON Azure Resource Manager (ARM)](/azure/azure-resource-manager/resource-group-template-deploy) в сочетании с PowerShell или кроссплатформенными CLI и средствами Azure, такими как Terraform от Hashicorp (который имеет поддержку первого класса и интегрирован в Azure Cloud Shell).</span><span class="sxs-lookup"><span data-stu-id="2184b-432">Almost every Azure resource is deployable through [Azure Resource Manager (ARM) JSON templates](/azure/azure-resource-manager/resource-group-template-deploy) in conjunction with PowerShell or the Azure cross platform CLI and tools such as Terraform from Hashicorp (which has first class support and integrated into the Azure Cloud Shell).</span></span>

<span data-ttu-id="2184b-433">Статья, такая как [эта](https://blogs.msdn.microsoft.com/mvpawardprogram/2018/05/01/azure-resource-manager/), дает прекрасную дискуссию о передовом опыте и уроках, извлеченных при применении подхода DevOps к шаблонам ARM с цепочкой средств [Azure DevOps](/azure/devops/user-guide/?view=vsts).</span><span class="sxs-lookup"><span data-stu-id="2184b-433">Article such as [this one](https://blogs.msdn.microsoft.com/mvpawardprogram/2018/05/01/azure-resource-manager/) provide an excellent discussion on best practices and lessons learned in applying a DevOps approach to ARM templates with the [Azure DevOps](/azure/devops/user-guide/?view=vsts) tool chain.</span></span> <span data-ttu-id="2184b-434">Потратьте время и усилия на разработку основного набора шаблонов, характерных для требований вашей организации, а также для разработки конвейеров непрерывной доставки с цепочками средств DevOps (Azure DevOps, Jenkins, Bamboo, Teamcity, Concourse), особенно для среды контроля качества.</span><span class="sxs-lookup"><span data-stu-id="2184b-434">Take the time and effort to develop a core set of templates specific to your organization's requirements, and to develop continuous delivery pipelines with DevOps tool chains (Azure DevOps, Jenkins, Bamboo, Teamcity, Concourse), especially for your production and QA environments.</span></span> <span data-ttu-id="2184b-435">В GitHub есть большая библиотека [шаблонов быстрого запуска Azure](https://github.com/Azure/azure-quickstart-templates), которые можно использовать в качестве отправной точки для шаблонов, и вы можете быстро создавать облачные конвейеры доставки с Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="2184b-435">There is a large library of [Azure Quick Start templates](https://github.com/Azure/azure-quickstart-templates) on GitHub that you can use as a starting point for templates, and you can quickly create cloud-based delivery pipelines with Azure DevOps.</span></span>

<span data-ttu-id="2184b-436">В качестве рекомендаций для подписок на производство или группы ресурсов ваша цель должна заключаться в использовании защиты RBAC для запрещения доступа текущим пользователям по умолчанию и использования автоматических конвейеров непрерывной доставки на основе принципов обслуживания для предоставления всех ресурсов и доставки всего кода приложения.</span><span class="sxs-lookup"><span data-stu-id="2184b-436">As a best practice for production subscriptions or resource groups, your goal should be utilizing RBAC security to disallow interactive users by default and utilizing automated continuous delivery pipelines based on service principals to provision all resources and deliver all application code.</span></span> <span data-ttu-id="2184b-437">Ни один администратор или разработчик не должен прикасаться к порталу Azure для текущей настройки ресурсов.</span><span class="sxs-lookup"><span data-stu-id="2184b-437">No admin or developer should touch the Azure Portal to interactively configure resources.</span></span> <span data-ttu-id="2184b-438">Этот уровень DevOps предпринимает согласованные усилия, использует все концепции каркаса Azure и обеспечивает последовательную и более безопасную среду, которая будет соответствовать вашим организациям для увеличения масштаба.</span><span class="sxs-lookup"><span data-stu-id="2184b-438">This level of DevOps takes a concerted effort and utilizes all the concepts of the Azure scaffold and provides a consistent and more secure environment that will meet your organizations to grow scale.</span></span>

> [!TIP]
> <span data-ttu-id="2184b-439">При разработке и подготовке сложных шаблонов ARM используйте [связанные шаблоны](/azure/azure-resource-manager/resource-group-linked-templates) для организации и реорганизации сложных отношений ресурсов из монолитных файлов JSON.</span><span class="sxs-lookup"><span data-stu-id="2184b-439">When designing and developing complex ARM templates, use [linked templates](/azure/azure-resource-manager/resource-group-linked-templates) to organize and refactor complex resource relationships from monolithic JSON files.</span></span> <span data-ttu-id="2184b-440">Это позволит вам управлять ресурсами по отдельности и сделать шаблоны более читабельными, пригодными для тестирования и повторного использования.</span><span class="sxs-lookup"><span data-stu-id="2184b-440">This will enable you to manage resources individually and make your templates more readable, testable and reusable.</span></span>

<span data-ttu-id="2184b-441">Служба Azure — поставщик облачных вычислений с гипермасштабированием, и когда вы перемещаете свою организацию из локальных серверов в облако, используя те же концепции, что и облачные провайдеры и приложения SaaS, она предоставит вашей организации возможность в полной мере реагировать на потребности бизнеса более эффективным способом.</span><span class="sxs-lookup"><span data-stu-id="2184b-441">Azure is a hyper scale cloud provider and as you move your organization from the world of on-premises servers to the cloud, utilizing the same concepts that cloud providers and SaaS applications use will provide your organization to react to the needs of the business in vastly more efficient way.</span></span>

## <a name="core-network"></a><span data-ttu-id="2184b-442">Основная сеть</span><span class="sxs-lookup"><span data-stu-id="2184b-442">Core network</span></span>

<span data-ttu-id="2184b-443">Заключительным компонентом эталонной модели каркаса Azure является основная возможность получения организацией доступа к Azure, в безопасном режиме.</span><span class="sxs-lookup"><span data-stu-id="2184b-443">The final component of the Azure scaffold reference model is core to how your organization accesses Azure, in a secure manner.</span></span> <span data-ttu-id="2184b-444">Доступ к ресурсам может быть внутренним (внутри корпоративной сети) или внешним (через Интернет).</span><span class="sxs-lookup"><span data-stu-id="2184b-444">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="2184b-445">Пользователи в вашей организации могут случайно помещать ресурсы в расположения, не предназначенные для них, тем самым потенциально открывая их для вредоносного доступа.</span><span class="sxs-lookup"><span data-stu-id="2184b-445">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="2184b-446">Как и в случае локальных устройств, предприятия должны добавить соответствующие элементы управления, чтобы гарантировать, что пользователи Azure принимают правильные решения.</span><span class="sxs-lookup"><span data-stu-id="2184b-446">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="2184b-447">Для управления подписками мы определяем основные ресурсы, обеспечивающие базовые элементы управления доступом.</span><span class="sxs-lookup"><span data-stu-id="2184b-447">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="2184b-448">К основным ресурсам относятся следующие.</span><span class="sxs-lookup"><span data-stu-id="2184b-448">The core resources consist of:</span></span>

* <span data-ttu-id="2184b-449">**Виртуальные сети** представляют собой объекты контейнеров для подсетей.</span><span class="sxs-lookup"><span data-stu-id="2184b-449">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="2184b-450">Хотя это не является обязательным, их часто используют при подключении приложений к внутренним корпоративным ресурсам.</span><span class="sxs-lookup"><span data-stu-id="2184b-450">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="2184b-451">**Пользовательские маршруты** дают возможность управлять таблицей маршрутов в подсети, позволяющей отправлять трафик через сетевой виртуальный модуль или удаленный шлюз в пиринговой виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="2184b-451">**User Defined Routes** allow you to manipulate the route table within a subnet enabling you to send traffic through a network virtual appliance or to a remote gateway on a peered virtual network.</span></span>
* <span data-ttu-id="2184b-452">**Пиринг виртуальных сетей** позволяет легко подключать две или более виртуальные сети Azure, создавая более сложные звездообразные разработки или сети общих служб.</span><span class="sxs-lookup"><span data-stu-id="2184b-452">**Virtual Network Peering** enables you to seamlessly connect two or more Azure virtual networks, creating more complex hub & spoke designs or shared services networks.</span></span>
* <span data-ttu-id="2184b-453">**Конечные точки службы**.</span><span class="sxs-lookup"><span data-stu-id="2184b-453">**Service Endpoints**.</span></span> <span data-ttu-id="2184b-454">Раньше службы PaaS использовали разные методы для обеспечения доступа к этим ресурсам из виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="2184b-454">In the past, PaaS services relied on different methods to secure access to those resources from your virtual networks.</span></span> <span data-ttu-id="2184b-455">Конечные точки службы позволяют вам защищать доступ к включенным службам PaaS ТОЛЬКО от подключенных конечных точек, повышая общую безопасность.</span><span class="sxs-lookup"><span data-stu-id="2184b-455">Service endpoints allow you to secure access to enabled PaaS services from ONLY connected endpoints, increasing overall security.</span></span>
* <span data-ttu-id="2184b-456">**Группы безопасности** — это обширный набор правил, которые предоставляют возможность разрешать или запрещать входящий и исходящий трафик в ресурсы Azure и обратно.</span><span class="sxs-lookup"><span data-stu-id="2184b-456">**Security groups** are an extensive set of rules which provide you the ability to allow or deny inbound and outbound traffic to/from Azure Resources.</span></span> <span data-ttu-id="2184b-457">[Группы безопасности](/azure/virtual-network/security-overview) состоят из правил безопасности, которые могут быть дополнены **тегами службы** (которые определяют общие службы Azure, такие как AzureKeyVault, Sql и другие) и **группами приложений** (которые определяют структуру приложения, такие как WebServers, AppServers и другие)</span><span class="sxs-lookup"><span data-stu-id="2184b-457">[Security Groups](/azure/virtual-network/security-overview) consist of Security Rules, which can be augmented with **Service Tags** (which define common Azure services such as AzureKeyVault, Sql and others) and **Application Groups** (which define and application structure, such as WebServers, AppServers and such)</span></span>

> [!TIP]
> <span data-ttu-id="2184b-458">Используйте теги служб и группы приложений в группах безопасности сети, чтобы не только повысить читабельность ваших правил, что имеет решающее значение для распознавания влияния, но также и обеспечить эффективную микросегментацию в рамках более крупной подсети, уменьшая расползание и увеличивая гибкость.</span><span class="sxs-lookup"><span data-stu-id="2184b-458">Use Service tags and Application groups in your network security groups to not only enhance the readability of your rules -which is crucial to understanding impact- but also to enable effective micro-segmentation within a larger subnet, reducing sprawl and increasing flexibility.</span></span>

### <a name="virtual-data-center"></a><span data-ttu-id="2184b-459">Виртуальный центр обработки данных</span><span class="sxs-lookup"><span data-stu-id="2184b-459">Virtual Data Center</span></span>

<span data-ttu-id="2184b-460">Azure предоставляет как внутренние возможности, так и возможности от сторонних производителей из нашей расширенной партнерской сети, которые позволяют иметь эффективную стратегию обеспечения безопасности.</span><span class="sxs-lookup"><span data-stu-id="2184b-460">Azure provides you both internal capabilities and third-party capabilities from our extensive partner network that enable you to have an effective security stance.</span></span> <span data-ttu-id="2184b-461">Что еще более важно, корпорация Майкрософт предоставляет рекомендации и руководящие указания в форме [виртуального центра обработки данных Azure](/azure/architecture/vdc/networking-virtual-datacenter).</span><span class="sxs-lookup"><span data-stu-id="2184b-461">More importantly, Microsoft provides best practices and guidance in the form of the [Azure Virtual Data Center](/azure/architecture/vdc/networking-virtual-datacenter).</span></span> <span data-ttu-id="2184b-462">Когда вы переходите от одной рабочей нагрузки к нескольким, которые используют гибридные возможности, руководство VDC предоставит вам "рецепт" для обеспечения гибкой сети, которая будет расширяться по мере увеличения рабочих нагрузок в Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-462">As you move from a single workload to multiple workloads which leverage hybrid capabilities, the VDC guidance will provide you with "recipe" to enable a flexible, network that will grow as your workloads in Azure grow.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="2184b-463">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="2184b-463">Next steps</span></span>

<span data-ttu-id="2184b-464">Управление крайне важно для успешной работы Azure.</span><span class="sxs-lookup"><span data-stu-id="2184b-464">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="2184b-465">В этой статье рассматривается техническая реализация корпоративного каркаса, но только затрагивается более широкий процесс и связи между компонентами.</span><span class="sxs-lookup"><span data-stu-id="2184b-465">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="2184b-466">Политики управления действуют сверху вниз и определяются целями бизнеса.</span><span class="sxs-lookup"><span data-stu-id="2184b-466">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="2184b-467">Естественно, в создании модели управления для Azure участвуют представители ИТ-отдела, но, что более важно, в нем должны активно участвовать представители руководителей бизнес-групп, а также специалисты по безопасности и управлению рисками.</span><span class="sxs-lookup"><span data-stu-id="2184b-467">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="2184b-468">В конечном счете задача корпоративного каркаса — уменьшить бизнес-риски и помочь в выполнении миссии и достижении целей организации</span><span class="sxs-lookup"><span data-stu-id="2184b-468">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives</span></span>

<span data-ttu-id="2184b-469">Теперь, когда вы узнали об управлении подписками, пришло время ознакомиться с этими рекомендациями на практике.</span><span class="sxs-lookup"><span data-stu-id="2184b-469">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="2184b-470">Ознакомьтесь с разделом [Примеры реализации корпоративного каркаса Azure](azure-scaffold-examples.md).</span><span class="sxs-lookup"><span data-stu-id="2184b-470">See [Examples of implementing Azure subscription governance](azure-scaffold-examples.md).</span></span>
