---
title: Миграция с мейнфреймов. Переход с мейнфреймов в Azure
description: Перенос приложений из среды мейнфреймов в проверенную, высокодоступную и масштабируемую инфраструктуру Azure с поддержкой систем, которые сейчас работают на мейнфреймах.
author: njray
ms.date: 12/26/2018
ms.openlocfilehash: 9243f757182f95cc227fd6cd7a5374f9c1371ccc
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58243115"
---
# <a name="make-the-switch-from-mainframes-to-azure"></a><span data-ttu-id="26e16-103">Переход с мейнфреймов в Azure</span><span class="sxs-lookup"><span data-stu-id="26e16-103">Make the switch from mainframes to Azure</span></span>

<span data-ttu-id="26e16-104">В качестве альтернативной платформы для выполнения приложений, традиционно работающих на мейнфреймах, Azure предлагает гипермасштабируемые ресурсы для вычислений и хранения в среде с высоким уровнем доступности.</span><span class="sxs-lookup"><span data-stu-id="26e16-104">As an alternative platform for running traditional mainframe applications, Azure offers hyperscale compute and storage in a high availability environment.</span></span> <span data-ttu-id="26e16-105">Вы получите все возможности и гибкость современной облачной платформы без затрат, связанных с использованием среды мейнфрейма.</span><span class="sxs-lookup"><span data-stu-id="26e16-105">You get the value and agility of a modern, cloud-based platform without the costs associated with a mainframe environment.</span></span>

<span data-ttu-id="26e16-106">Эта статья содержит технические рекомендации по переходу с мейнфреймов в Azure.</span><span class="sxs-lookup"><span data-stu-id="26e16-106">This section provides technical guidance for making the switch from a mainframe platform to Azure.</span></span>

![Сравнение мейнфреймов и Azure](../../_images/mainframe-migration/make-the-switch.png)

## <a name="mips-vs-vcpus"></a><span data-ttu-id="26e16-108">MIPS и виртуальные ЦП</span><span class="sxs-lookup"><span data-stu-id="26e16-108">MIPS vs. vCPUs</span></span>

<span data-ttu-id="26e16-109">Не существует универсальной формулы, позволяющей определить необходимое количество виртуальных ЦП для запуска рабочих нагрузок мейнфреймов.</span><span class="sxs-lookup"><span data-stu-id="26e16-109">There is no universal mapping formula that exists for determining the amount of virtual central processing units (vCPUs) needed to run mainframe workloads.</span></span> <span data-ttu-id="26e16-110">Но в качестве базовой метрики один миллион команд в секунду (MIPS) часто сопоставляется с виртуальными ЦП в Azure.</span><span class="sxs-lookup"><span data-stu-id="26e16-110">However, the metric of a million instructions per second (MIPS) is often mapped to vCPUs on Azure.</span></span> <span data-ttu-id="26e16-111">MIPS измеряет общую вычислительную мощность мейнфрейма путем сравнения с постоянным значением числа циклов в секунду для определенного компьютера.</span><span class="sxs-lookup"><span data-stu-id="26e16-111">MIPS measures the overall compute power of a mainframe by providing a constant value of the number of cycles per second for a given machine.</span></span>

<span data-ttu-id="26e16-112">Небольшой организации будет достаточно не более 500 MIPS, а крупные организации обычно используют более 5000 MIPS.</span><span class="sxs-lookup"><span data-stu-id="26e16-112">A small organization might require less than 500 MIPS, while a large organization typically uses more than 5,000 MIPS.</span></span> <span data-ttu-id="26e16-113">При цене в 1000 долл. США за единицу MIPS крупная организации расходует ежегодно около 5 миллионов долл. США на развертывание инфраструктуры мощностью 5000 MIPS.</span><span class="sxs-lookup"><span data-stu-id="26e16-113">At $1,000 per single MIPS, a large organization spends approximately $5 million annually to deploy a 5,000-MIPS infrastructure.</span></span> <span data-ttu-id="26e16-114">Оценка ежегодных затрат на типичное развертывание Azure такого масштаба составляет примерно одну десятую от стоимости инфраструктуры MIPS.</span><span class="sxs-lookup"><span data-stu-id="26e16-114">The annual cost estimate for a typical Azure deployment of this scale is approximately one-tenth the cost of a MIPS infrastructure.</span></span> <span data-ttu-id="26e16-115">Дополнительные сведения см. в таблице 4 из технического документа [Demystifying Mainframe-to-Azure Migration](https://azure.microsoft.com/resources/demystifying-mainframe-to-azure-migration) (Секреты перехода с мейнфрейма в Azure).</span><span class="sxs-lookup"><span data-stu-id="26e16-115">For details, see Table 4 in the [Demystifying Mainframe-to-Azure Migration](https://azure.microsoft.com/resources/demystifying-mainframe-to-azure-migration) white paper.</span></span>

<span data-ttu-id="26e16-116">Точное сопоставление MIPS с виртуальными ЦП в Azure зависит от типа виртуальных процессоров и характера выполняемой рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="26e16-116">An accurate calculation of MIPS to vCPUs with Azure depends on the type of vCPU and the exact workload you are running.</span></span> <span data-ttu-id="26e16-117">Тесты производительности дают неплохую основу для оценки количества и типа необходимых виртуальных ЦП.</span><span class="sxs-lookup"><span data-stu-id="26e16-117">However, benchmark studies provide a good basis for estimating the number and type of vCPUs you will need.</span></span> <span data-ttu-id="26e16-118">Недавний [тест HPE zREF](https://h20195.www2.hpe.com/v2/getpdf.aspx/4aa4-2452enw.pdf) дал следующие результаты:</span><span class="sxs-lookup"><span data-stu-id="26e16-118">A recent [HPE zREF benchmark](https://h20195.www2.hpe.com/v2/getpdf.aspx/4aa4-2452enw.pdf) provides the following estimates:</span></span>

- <span data-ttu-id="26e16-119">288 MIPS на одно ядро Intel, выполняемое на серверах HP Proliant для онлайн-заданий (CICS).</span><span class="sxs-lookup"><span data-stu-id="26e16-119">288 MIPS per Intel-based core running on HP Proliant servers for online (CICS) jobs.</span></span>

- <span data-ttu-id="26e16-120">170 MIPS на одно ядро Intel для пакетных заданий COBOL.</span><span class="sxs-lookup"><span data-stu-id="26e16-120">170 MIPS per Intel core for COBOL batch jobs.</span></span>

<span data-ttu-id="26e16-121">В этом руководстве используется оценка в 200 MIPS на один виртуальный ЦП для обработки в сети и 100 MIPS на один виртуальный ЦП для пакетной обработки.</span><span class="sxs-lookup"><span data-stu-id="26e16-121">This guide estimates 200 MIPS per vCPU for online processing and 100 MIPS per vCPU for batch processing.</span></span>

> [!NOTE]
> <span data-ttu-id="26e16-122">Эти оценки могут измениться, как только новая серия виртуальных машин станет доступна в Azure.</span><span class="sxs-lookup"><span data-stu-id="26e16-122">These estimates are subject to change as new virtual machine (VM) series become available in Azure.</span></span>

## <a name="high-availability-and-failover"></a><span data-ttu-id="26e16-123">Высокий уровень доступности и отработка отказа</span><span class="sxs-lookup"><span data-stu-id="26e16-123">High availability and failover</span></span>

<span data-ttu-id="26e16-124">Системы мейнфреймов часто предлагают доступность на уровне пяти девяток (99,999 %) при использовании взаимозависимости мейнфреймов и Parallel Sysplex.</span><span class="sxs-lookup"><span data-stu-id="26e16-124">Mainframe systems often offer five 9s availability (99.999 percent) when mainframe coupling and Parallel Sysplex are used.</span></span> <span data-ttu-id="26e16-125">Но системным операторам все равно придется запланировать время простоя для обслуживания и начальной загрузки программ (IPL).</span><span class="sxs-lookup"><span data-stu-id="26e16-125">Yet system operators still need to schedule downtime for maintenance and initial program loads (IPLs).</span></span> <span data-ttu-id="26e16-126">Фактический уровень доступности будет на уровне двух или трех девяток, что вполне сравнимо с мощными серверами на основе Intel.</span><span class="sxs-lookup"><span data-stu-id="26e16-126">The actual availability approaches two or three 9s, on par with high end, Intel-based servers.</span></span>

<span data-ttu-id="26e16-127">Для сравнения: Azure предлагает соглашения об уровне обслуживания на основе обязательства (SLA), где по умолчанию гарантируются несколько девяток для уровня доступности с оптимизацией для локальной или географической репликации служб.</span><span class="sxs-lookup"><span data-stu-id="26e16-127">By comparison, Azure offers commitment-based service level agreements (SLAs), where multiple 9s availability is the default, optimized with local or geo-based replication of services.</span></span>

<span data-ttu-id="26e16-128">Azure дополнительно повышает уровень доступности за счет репликации данных из нескольких устройств хранения локально или в другой географический регион.</span><span class="sxs-lookup"><span data-stu-id="26e16-128">Azure provides additional availability by replicating data from multiple storage devices, either locally or in other geographic regions.</span></span> <span data-ttu-id="26e16-129">В случае сбоя на платформе Azure вычислительные ресурсы смогут обратиться к реплицированным данных на локальном или региональном уровне.</span><span class="sxs-lookup"><span data-stu-id="26e16-129">In the event of an Azure-based failure, compute resources can access the replicated data on either the local or regional level.</span></span>

<span data-ttu-id="26e16-130">Если используются ресурсы Azure PaaS (платформа как услуга), например [База данных SQL Azure](/azure/sql-database/sql-database-technical-overview) или [база данных Azure Cosmos](/azure/cosmos-db/introduction), Azure автоматически выполняет отработку отказа.</span><span class="sxs-lookup"><span data-stu-id="26e16-130">When you use Azure platform as a service (PaaS) resources, such as [Azure SQL Database](/azure/sql-database/sql-database-technical-overview) and [Azure Cosmos Database](/azure/cosmos-db/introduction), Azure can automatically handle failovers.</span></span> <span data-ttu-id="26e16-131">При использовании инфраструктуры IaaS Azure отработка отказа зависит от определенных системных функций, например SQL Server AlwaysOn, экземпляров отказоустойчивого кластера и групп доступности.</span><span class="sxs-lookup"><span data-stu-id="26e16-131">When you use Azure infrastructure as a service (IaaS), failover relies on specific system functionality, such as SQL Server AlwaysOn features, failover clustering instances, and availability groups.</span></span>

## <a name="scalability"></a><span data-ttu-id="26e16-132">Масштабируемость</span><span class="sxs-lookup"><span data-stu-id="26e16-132">Scalability</span></span>

<span data-ttu-id="26e16-133">Мейнфреймы обычно масштабируются вертикально, а облачные среды — горизонтально. Для мейнфреймов горизонтальное масштабирование реализуется с помощью раздела обеспечения взаимодействия (CF), но высокая стоимость оборудования и хранилища делает горизонтальное масштабирование мейнфреймов невыгодным.</span><span class="sxs-lookup"><span data-stu-id="26e16-133">Mainframes typically scale up, while cloud environments scale out. Mainframes can scale out with the use of a coupling facility (CF), but the high costs of hardware and storage makes mainframes very expensive to scale out.</span></span>

<span data-ttu-id="26e16-134">Кроме того, CF предлагает тесно связанные вычислительные ресурсы, а функции горизонтального масштабирования Azure используют слабую связь.</span><span class="sxs-lookup"><span data-stu-id="26e16-134">In addition, a CF offers tightly coupled compute, whereas the scale-out features of Azure are loosely coupled.</span></span> <span data-ttu-id="26e16-135">Облако можно масштабировать для точного соответствия пользовательским спецификациям, предоставляя нужный объем вычислительной мощности, хранилища и служб с оплатой по мере использования.</span><span class="sxs-lookup"><span data-stu-id="26e16-135">The cloud can scale up or down to match exact user specifications, with compute power, storage, and services scaling on demand under a usage-based billing model.</span></span>

## <a name="backup-and-recovery"></a><span data-ttu-id="26e16-136">Архивация и восстановление</span><span class="sxs-lookup"><span data-stu-id="26e16-136">Backup and recovery</span></span>

<span data-ttu-id="26e16-137">Клиенты мейнфреймов обычно поддерживают сайты аварийного восстановления или привлекают независимых поставщиков мейнфреймов для аварийных ситуаций.</span><span class="sxs-lookup"><span data-stu-id="26e16-137">Mainframe customers typically maintain disaster recovery sites or make use or an independent mainframe provider for disaster contingencies.</span></span> <span data-ttu-id="26e16-138">Синхронизация с сайтом аварийного восстановления обычно осуществляется через копирование данных в автономном режиме.</span><span class="sxs-lookup"><span data-stu-id="26e16-138">Synchronization with a disaster recovery site is usually done through offline copies of data.</span></span> <span data-ttu-id="26e16-139">Оба варианта приводят к большим затратам.</span><span class="sxs-lookup"><span data-stu-id="26e16-139">Both options incur high costs.</span></span>

<span data-ttu-id="26e16-140">Автоматическую геоизбыточность можно обеспечить за счет применения взаимозависимости мейнфреймов, хотя и за высокую стоимость, и этот вариант обычно применяется только для критически важных систем.</span><span class="sxs-lookup"><span data-stu-id="26e16-140">Automated geo-redundancy is also available through the mainframe coupling facility, albeit at great expense, and is usually reserved for mission-critical systems.</span></span> <span data-ttu-id="26e16-141">Напротив, Azure предлагает простые и выгодные возможности [резервного копирования](/azure/backup/backup-introduction-to-azure-backup), [восстановления](/azure/site-recovery/site-recovery-overview) и [избыточности](/azure/storage/common/storage-redundancy) на локальном или региональном уровнях, а также географическую избыточность.</span><span class="sxs-lookup"><span data-stu-id="26e16-141">In contrast, Azure has easy-to-implement and cost-effective options for [backup](/azure/backup/backup-introduction-to-azure-backup), [recovery](/azure/site-recovery/site-recovery-overview), and [redundancy](/azure/storage/common/storage-redundancy) at local or regional levels, or via geo-redundancy.</span></span>

## <a name="storage"></a><span data-ttu-id="26e16-142">Хранилище</span><span class="sxs-lookup"><span data-stu-id="26e16-142">Storage</span></span>

<span data-ttu-id="26e16-143">Для хорошего понимания работы мейнфреймов важно различать несколько близких по значению терминов.</span><span class="sxs-lookup"><span data-stu-id="26e16-143">Part of understanding how mainframes work involves decoding various overlapping terms.</span></span> <span data-ttu-id="26e16-144">Например, центральное хранилище, реальная память, реальное хранилище и основное хранилище обычно обозначают хранилище, подключенное напрямую к процессору мейнфрейма.</span><span class="sxs-lookup"><span data-stu-id="26e16-144">For example, central storage, real memory, real storage, and main storage all generally refer to storage attached directly to the mainframe processor.</span></span>

<span data-ttu-id="26e16-145">Оборудование мейнфреймов включает процессоры и многие другие устройства, например запоминающие устройства с прямым доступом (DASD), накопители на магнитной ленте и несколько видов пользовательских консолей.</span><span class="sxs-lookup"><span data-stu-id="26e16-145">Mainframe hardware includes processors and many other devices, such as direct access storage devices (DASDs), magnetic tape drives, and several types of user consoles.</span></span> <span data-ttu-id="26e16-146">Магнитные ленты и DASD используются для системных функций и пользовательских программ.</span><span class="sxs-lookup"><span data-stu-id="26e16-146">Tapes and DASDs are used for system functions and by user programs.</span></span>

<span data-ttu-id="26e16-147">Для мейнфреймов используются следующие типы физического хранилища:</span><span class="sxs-lookup"><span data-stu-id="26e16-147">Types of physical storage for mainframes include:</span></span>

- <span data-ttu-id="26e16-148">Центральное хранилище. Расположено прямо в процессоре мейнфрейма. Также это хранилище называют процессорным или реальным хранилищем.</span><span class="sxs-lookup"><span data-stu-id="26e16-148">Central storage: Located directly on the mainframe processor, this is also known as processor or real storage.</span></span>

- <span data-ttu-id="26e16-149">Вспомогательное хранилище. Хранилища такого типа располагаются отдельно от мейнфрейма, и к ним относятся хранилища на DASD. Также их называют хранилищами страниц.</span><span class="sxs-lookup"><span data-stu-id="26e16-149">Auxiliary storage: Located separately from the mainframe, this type includes storage on DASDs and is also known as paging storage.</span></span>

<span data-ttu-id="26e16-150">В облаке предлагается несколько гибких и масштабируемых вариантов, при этом оплачивать вы будете только те, которые используются.</span><span class="sxs-lookup"><span data-stu-id="26e16-150">The cloud offers a range of flexible, scalable options, and you will pay only for those options that you need.</span></span> <span data-ttu-id="26e16-151">В [службе хранилища Azure](/azure/storage/common/storage-introduction) предоставляется хранилище с высокой масштабируемостью для объектов данных, служба файловой системы для облака, надежное хранилище сообщений, а также хранилище NoSQL.</span><span class="sxs-lookup"><span data-stu-id="26e16-151">[Azure Storage](/azure/storage/common/storage-introduction) offers a massively scalable object store for data objects, a file system service for the cloud, a reliable messaging store, and a NoSQL store.</span></span> <span data-ttu-id="26e16-152">Для виртуальных машин управляемые и неуправляемые диски предоставляют постоянное и безопасное дисковое хранилище.</span><span class="sxs-lookup"><span data-stu-id="26e16-152">For VMs, managed and unmanaged disks provide persistent, secure disk storage.</span></span>

## <a name="mainframe-development-and-testing"></a><span data-ttu-id="26e16-153">Разработка и тестирование мейнфреймов</span><span class="sxs-lookup"><span data-stu-id="26e16-153">Mainframe development and testing</span></span>

<span data-ttu-id="26e16-154">Важной причиной для переноса приложений с мейнфреймов будет изменение процесса разработки приложений.</span><span class="sxs-lookup"><span data-stu-id="26e16-154">A major driver in mainframe migration projects is the changing face of application development.</span></span> <span data-ttu-id="26e16-155">Организациям нужно, чтобы среда разработки стала более гибкой и быстрее реагировала на потребности бизнеса.</span><span class="sxs-lookup"><span data-stu-id="26e16-155">Organizations want their development environment to be more agile and responsive to business needs.</span></span>

<span data-ttu-id="26e16-156">Мейнфреймы обычно имеют отдельные логические разделы (LPAR) для разработки и тестирования, например логический раздел для контроля качества и промежуточный логический раздел.</span><span class="sxs-lookup"><span data-stu-id="26e16-156">Mainframes typically have separate logical partitions (LPARs) for development and testing, such as QA and staging LPARs.</span></span> <span data-ttu-id="26e16-157">Решения разработки для мейнфреймов содержат компиляторы (COBOL, PL/I, Assembler) и редакторы.</span><span class="sxs-lookup"><span data-stu-id="26e16-157">Mainframe development solutions include compilers (COBOL, PL/I, Assembler) and editors.</span></span> <span data-ttu-id="26e16-158">Самым распространенным решением является ISPF (Interactive System Productivity Facility — средство для производительности интерактивной системы) для операционной системы z/OS, которая работает на мейнфреймах IBM.</span><span class="sxs-lookup"><span data-stu-id="26e16-158">The most common is the Interactive System Productivity Facility (ISPF) for the z/OS operating system that runs on IBM mainframes.</span></span> <span data-ttu-id="26e16-159">Также широко применяются RPF (ROSCOE Programming Facility — программное средство ROSCOE) и средства Computer Associates, такие как CA Librarian и CA-Panvalet.</span><span class="sxs-lookup"><span data-stu-id="26e16-159">Others include ROSCOE Programming Facility (RPF) and Computer Associates tools, such as CA Librarian and CA-Panvalet.</span></span>

<span data-ttu-id="26e16-160">Компиляторы и среды эмуляции доступны для 32-разрядных платформ, поэтому разработка и тестирование обычно становятся первыми рабочими нагрузками, переносимыми с мейнфреймов в Azure.</span><span class="sxs-lookup"><span data-stu-id="26e16-160">Emulation environments and compilers are available on x86 platforms, so development and testing can typically be among the first workloads to migrate from a mainframe to Azure.</span></span> <span data-ttu-id="26e16-161">Доступность и широкое распространение [средств DevOps в Azure](https://azure.microsoft.com/solutions/devops/) ускоряют процесс миграции сред разработки и тестирования.</span><span class="sxs-lookup"><span data-stu-id="26e16-161">The availability and widespread use of [DevOps tools in Azure](https://azure.microsoft.com/solutions/devops/) is accelerating the migration of development and testing environments.</span></span>

<span data-ttu-id="26e16-162">Когда решения будут разработаны и протестированы в Azure, для развертывания на мейнфрейме потребуется скопировать код на мейнфрейм и скомпилировать его.</span><span class="sxs-lookup"><span data-stu-id="26e16-162">When solutions are developed and tested on Azure and are ready for deployment to the mainframe, you will need to copy the code to the mainframe and compile it there.</span></span>

## <a name="next-steps"></a><span data-ttu-id="26e16-163">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="26e16-163">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="26e16-164">Перенос приложений с мейнфреймов</span><span class="sxs-lookup"><span data-stu-id="26e16-164">Mainframe application migration</span></span>](application-strategies.md)
