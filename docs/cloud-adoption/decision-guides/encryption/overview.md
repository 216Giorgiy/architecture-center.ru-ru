---
title: CAF. Шифрование
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
ms.date: 02/11/2019
description: Сведения о шифровании как основной службе для миграции в Azure.
author: rotycenh
ms.openlocfilehash: 660206d57ded9a93d73c57ba9cb8058020d87525
ms.sourcegitcommit: 273e690c0cfabbc3822089c7d8bc743ef41d2b6e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2019
ms.locfileid: "55901456"
---
# <a name="encryption-decision-guide"></a>Руководство по принятию решений о шифровании

Шифрование данных защищает их от несанкционированного доступа. Правильно реализованная политика шифрования обеспечивает дополнительные уровни безопасности для облачных рабочих нагрузок, а также защиту от злоумышленников и других неавторизованных пользователей как внутри, так вне организации и ее сетей.

В общем случае шифрование ресурсов всегда желательно, но оно сопряжено с некоторыми затратами, а также увеличением задержки и интенсивности потребления ресурсов. Для ресурсоемких рабочих нагрузок важно найти правильный баланс между поддержкой шифрования и производительностью.

![Схема вариантов применения шифрования, отсортированных в порядке увеличения сложности, со ссылками для быстрого перехода](../../_images/discovery-guides/discovery-guide-encryption.png)

Перейти к разделу: [Управление ключами](#key-management) | [Шифрование данных](#data-encryption) | [Подробнее](#learn-more)

Важным фактором при выборе стратегии шифрования для облака является корпоративная политика и требования соответствия.

Есть несколько способов разной сложности и стоимости, позволяющих реализовать шифрование в облачной среде. Корпоративная политика и сторонние требования соответствия служат основными причинами для создания стратегии шифрования. Большинство облачных решений предоставляют стандартные механизмы шифрования данных при хранении и передаче. Но если конкретные политики и нормативные требования диктуют более строгие средства контроля, например стандартизированное управление для секретов и ключей, шифрование при использовании или шифрование с учетом характеристик данных, скорее всего, потребуется реализовать более сложное решение.

## <a name="key-management"></a>Управление ключами

Современные системы управления ключами должны поддерживать хранение ключей в аппаратных модулях безопасности (HSM) для дополнительной защиты. Это означает, что система управления ключами предоставляет организации важную возможность создавать и хранить криптографические ключи, важные пароли, строки подключения и другие конфиденциальные данные.

При планировании миграции в облако следует рассмотреть варианты, перечисленные в следующей таблице. Здесь описаны возможности для хранения ключей шифрования, сертификатов и секретов и для управления ими, что очень важно для создания безопасных и управляемых облачных развертываний.

| Вопрос | Полностью облачные решения | Гибридная среда | Локальная система |
|---------------------------------------------------------------------------------------------------------------------------------------|--------------|--------|-------------|
| В вашей организации нет централизованного управления ключами и секретами?                                                                    | Yes          | Нет      | Нет           |
| Потребуется ли вам ограничение на создание ключей и секретов только с корпоративного оборудования при использовании ключей в облаке? | Нет            | Yes    | Нет           |
| Есть ли у вашей организации правила или политики, запрещающее хранение ключей и секретов вне организации?                | Нет            | Нет      | Yes         |

### <a name="cloud-native"></a>Собственные решения в облаке

При использовании полностью облачного управления ключами все ключи и секретные данные создаются, управляются и хранятся в облачном хранилище. Такой подход упрощает многие ИТ-задачи, связанные с управлением ключами.

Допущения для полностью облачного управления ключами. При использования полностью облачной системы управления ключами предполагается следующее:

- Вы доверяете облачному решению по управлению ключами создавать, хранить секреты и ключи организации, а также управлять ими.
- Вы разрешаете доступ к облачной системе управления ключами всем локальным приложениям и службам, которые зависят от служб шифрования или секретов.

### <a name="hybrid-bring-your-own-key"></a>Гибридный подход (создание собственных ключей)

Если используется создание собственных ключей, вы создаете ключи в выделенном аппаратном модуле безопасности в локальной среде, а затем передаете их в защищенную облачную систему управления ключами для использования с облачными ресурсами.

Допущения для гибридного управления ключами. Для использования гибридной системы управления ключами предполагается следующее:

- Вы доверяете системам безопасности и контроля доступа на облачной платформе размещать и использовать ваши ключи и секреты.
- Политика соответствия требованиям или корпоративная политика требуют создавать все секреты и ключи организации, а также управлять ими, только в локальной среде.

### <a name="on-premises-hold-your-own-key"></a>Локальная среда (хранение собственных ключей)

Иногда нормативные или технические требования либо политики не позволяют хранить ключи в системе управления ключами, предоставленной службой общедоступного облака. В таких случаях для организации ключей необходимо использовать локальное оборудование и подготовить механизм, предоставляющий облачным ресурсам доступ к этим ключам для шифрования. Обратите внимание, что хранение собственных ключей поддерживается не всеми облачными службами.

Допущения для локального управления ключами. Для использования локальной системы управления ключами предполагается следующее:

- Политика соответствия требованиям или корпоративная политика требуют создавать и хранить все секреты и ключи организации, а также управлять ими только в локальной среде.
- Доступ к локальной системе управления ключами разрешается всем локальным приложениям и службам, которые зависят от служб шифрования или секретов.

## <a name="data-encryption"></a>Шифрование данных

Есть несколько состояний данных с разными потребностями в шифровании, которые нужно учитывать при планировании политики шифрования.

| Состояние данных | Данные |
|-----|-----|
| Передаваемые данные | Внутренний трафик, подключения к Интернету, соединения между центрами обработки данных или виртуальными сетями |
| Неактивные данные    | Базы данных, файлы, виртуальные диски, хранилище PaaS |
| Используемые данные     | Данные, загруженные в ОЗУ или кэш ЦП |

### <a name="data-in-transit"></a>Передаваемые данные

Передаваемыми называются данные, которые перемещаются между ресурсами во внутренней (между центрами обработки данных) сети, внешних сетях или через Интернет.

Для шифрования передаваемых данных для трафика обычно принудительно применяются протоколы SSL/TLS. Транзитный трафик между размещенными в облаке ресурсами и внешней сетью или общедоступным Интернетом всегда должен шифроваться. Ресурсы PaaS обычно по умолчанию требуют для трафика шифрование SSL/TLS. Применять ли шифрование для трафика между ресурсами IaaS, размещенными внутри виртуальных сетей, нужно решить вашей группе внедрения облака и ответственному за рабочую нагрузку. В общем случае мы рекомендуем применять шифрование.

**Допущения для шифрования передаваемых данных.** При реализации правильной политики шифрования для передаваемых данных предполагается следующее:

- Все общедоступные конечные точки в облачной среде будут взаимодействовать с общедоступным Интернетом с использованием протоколов SSL/TLS.
- При подключении облачных сетей к локальной или другой внешней сети через общедоступный Интернет следует использовать зашифрованные протоколы VPN.
- При подключении облачных сетей к локальным или другим внешним сетям через выделенное подключение глобальной сети, такое как ExpressRoute, потребуется локальный VPN-маршрутизатор или другое устройство шифрования, соединенное с совместимым виртуальным VPN или устройством шифрования, которое развернуто в облачной сети.
- Если у вас есть конфиденциальные данные, которые не должны попадать в журналы трафика или другие диагностические отчеты, предоставляемые ИТ-специалистам, следует шифровать весь трафик между ресурсами в виртуальной сети.

### <a name="data-at-rest"></a>Неактивные данные

Неактивными называют любые данные, которые сейчас не перемещаются и не обрабатываются, включая файлы, базы данных, диски виртуальной машины, учетные записи хранения PaaS или аналогичные ресурсы. Шифрование хранимых данных защищает виртуальные устройства и файлы от несанкционированного доступа при проникновениях из внешней сети, вредоносных действиях внутренних пользователей или случайном выпуске.

Ресурсы хранилища и базы данных PaaS обычно применяют шифрование по умолчанию. Виртуальные ресурсы IaaS можно защитить с помощью шифрования виртуальных дисков и криптографических ключей, хранящихся в системе управления ключами.

Шифрование неактивных данных также можно выполнять более современными методами шифрования баз данных, например на уровне столбцов и строк, что дает более строгий контроль над определением защищаемых данных.

При выборе ресурсов для защиты следует учитывать общие требования политики и соответствия, уровень конфиденциальности хранимых данных и требования к производительности рабочих нагрузок.

**Допущения для шифрования неактивных данных.** При шифровании неактивных данных предполагается следующее:

- Вы храните данные, которые не предназначены для предоставления широкой публике.
- Рабочие нагрузки имеют запас на дополнительную задержку, вызванную шифрованием дисков.

### <a name="data-in-use"></a>Используемые данные

Шифрование используемых данных включает в себя защиту данных во временных хранилищах, например в ОЗУ и кэшах ЦП. Используются такие технологии, как шифрование всей памяти и технологии внутренней зоны, например Intel Secure Guard Extensions (SGX). Сюда входят и криптографические методы, например гомоморфное шифрование, которое позволяет создать безопасные и доверенные среды выполнения.

**Допущения для шифрования используемых данных.** При шифровании используемых данных предполагается следующее:

- Вы постоянно сохраняете независимость прав собственности на данные от базовой облачной платформы, даже на уровне ОЗУ и ЦП.

## <a name="learn-more"></a>Подробнее

Дополнительные сведения о шифровании и управлении ключами на платформе Azure см. в следующих статьях.

- [Общие сведения о шифровании в Azure](/azure/security/security-azure-encryption-overview). Подробное описание того, как Azure использует шифрование для защиты неактивных данных и передаваемых данных.
- [Azure Key Vault.](/azure/key-vault/key-vault-overview) Azure Key Vault является основной системой управления ключами Azure, которая позволяет хранить в Azure криптографические ключи, секреты и сертификаты, а также управлять ими.
- [Конфиденциальные вычисления в Azure](/solutions/confidential-compute). Инициатива конфиденциальных вычислений Azure предоставляет средства и технологии для создания сред доверенного выполнения и других механизмов шифрования, позволяющих защищать используемые данные.

## <a name="next-steps"></a>Дополнительная информация

Узнайте, как сети SDN поддерживают функции виртуализированных сетей для развертываний в облаке.

> [!div class="nextstepaction"]
> [CAF: Software Defined Network decision guide](../software-defined-network/overview.md) (CAF. Руководство по принятию решений для программно-определяемой сети)
