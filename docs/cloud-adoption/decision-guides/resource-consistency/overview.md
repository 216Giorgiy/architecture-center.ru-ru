---
title: CAF. Руководство по принятию решений касательно согласованности ресурсов
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
ms.date: 02/11/2019
description: Сведения о согласованности ресурсов при планировании миграции в Azure.
author: rotycenh
ms.openlocfilehash: 8170bfd09218a451e086a57e0631b7e567eb2b82
ms.sourcegitcommit: 273e690c0cfabbc3822089c7d8bc743ef41d2b6e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2019
ms.locfileid: "55901537"
---
# <a name="caf-resource-consistency-decision-guide"></a><span data-ttu-id="5a59c-103">CAF. Руководство по принятию решений касательно согласованности ресурсов</span><span class="sxs-lookup"><span data-stu-id="5a59c-103">CAF: Resource consistency decision guide</span></span>

<span data-ttu-id="5a59c-104">[Проект подписки](../subscriptions/overview.md) Azure определяет, как организовать облачные ресурсы по отношению к общей структуре организации.</span><span class="sxs-lookup"><span data-stu-id="5a59c-104">Azure [subscription design](../subscriptions/overview.md) defines how you organize your cloud assets in relation to your organization's overall structure.</span></span> <span data-ttu-id="5a59c-105">Кроме того, интеграция существующих стандартов управления ИТ-ресурсами и политик организации зависит от развертывания и организации облачных ресурсов в подписке.</span><span class="sxs-lookup"><span data-stu-id="5a59c-105">In addition, integrating your existing IT management standards and your organizational policies depends on how you deploy and organize cloud resources within a subscription.</span></span>

<span data-ttu-id="5a59c-106">Средства, доступные для реализации проектов развертывания и группирования ресурсов, а также управления ими, зависят от облачной платформы.</span><span class="sxs-lookup"><span data-stu-id="5a59c-106">The tools available to implement your resource deployment, grouping, and management designs vary by cloud platform.</span></span> <span data-ttu-id="5a59c-107">Как правило, каждое решение включает следующие возможности:</span><span class="sxs-lookup"><span data-stu-id="5a59c-107">In general, each solution includes the following features:</span></span>

- <span data-ttu-id="5a59c-108">Механизм логического группирования ниже уровня подписки или учетной записи.</span><span class="sxs-lookup"><span data-stu-id="5a59c-108">A logical grouping mechanism below the subscription or account level.</span></span>
- <span data-ttu-id="5a59c-109">Возможность развертывания ресурсов программным образом с помощью API.</span><span class="sxs-lookup"><span data-stu-id="5a59c-109">The ability to deploy resources programmatically with APIs.</span></span>
- <span data-ttu-id="5a59c-110">Шаблоны для создания стандартизированных развертываний.</span><span class="sxs-lookup"><span data-stu-id="5a59c-110">Templates for creating standardized deployments.</span></span>
- <span data-ttu-id="5a59c-111">Возможность развертывания правил политики на уровнях подписки, учетной записи и группирования ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-111">The ability to deploy policy rules at the subscription, account, and resource grouping levels.</span></span>

![Схема вариантов обеспечения согласованности ресурсов, отсортированных в порядке увеличения сложности, со ссылками для быстрого перехода.](../../_images/discovery-guides/discovery-guide-resource-consistency.png)

<span data-ttu-id="5a59c-113">Перейти к разделу: [Простое группирование](#basic-grouping) | [Согласованность развертывания](#deployment-consistency) | [Согласованность политики](#policy-consistency) | [Иерархическая согласованность](#hierarchical-consistency) | [Автоматическая согласованность](#automated-consistency)</span><span class="sxs-lookup"><span data-stu-id="5a59c-113">Jump to: [Basic grouping](#basic-grouping) | [Deployment consistency](#deployment-consistency) | [Policy consistency](#policy-consistency) | [Hierarchical consistency](#hierarchical-consistency) | [Automated consistency](#automated-consistency)</span></span>

<span data-ttu-id="5a59c-114">Решения развертывания и группирования ресурсов в основном обусловлены следующими факторами: размером цифровых активов после миграции, сложностью среды или организации, которая не соответствует в полной мере в рамках существующего подхода к проекту подписки, или необходимостью применять управление после развертывания ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-114">Resource deployment and grouping decisions are primarily driven by these factors: post-migration digital estate size, business or environmental complexity that doesn't fit neatly within your existing subscription design approaches, or the need to enforce governance over time after resources have been deployed.</span></span> <span data-ttu-id="5a59c-115">Более современная структура группирования ресурсов требует повышенного усилия, чтобы гарантировать точное группирование. В результате увеличивается время, затрачиваемое на отслеживание изменений и управление ими.</span><span class="sxs-lookup"><span data-stu-id="5a59c-115">More advanced resource grouping designs require an increased effort to ensure accurate grouping, and this results in an increase in the time spent on change management and tracking.</span></span>

## <a name="basic-grouping"></a><span data-ttu-id="5a59c-116">Простое группирование</span><span class="sxs-lookup"><span data-stu-id="5a59c-116">Basic grouping</span></span>

<span data-ttu-id="5a59c-117">В Azure [группы ресурсов](/azure/azure-resource-manager/resource-group-overview#resource-groups) представляют собой базовый механизм организации ресурсов, позволяющий логически группировать ресурсы в подписке.</span><span class="sxs-lookup"><span data-stu-id="5a59c-117">In Azure, [resource groups](/azure/azure-resource-manager/resource-group-overview#resource-groups) are a core resource organization mechanism to logically group resources within a subscription.</span></span>

<span data-ttu-id="5a59c-118">Это контейнеры для ресурсов с общим жизненным циклом или общими ограничениями управления, такими как требования управления доступом на основе ролей (RBAC) или требования политики.</span><span class="sxs-lookup"><span data-stu-id="5a59c-118">Resource groups act as containers for resources with a common lifecycle or shared management constraints such as policy or role-based access control (RBAC) requirements.</span></span> <span data-ttu-id="5a59c-119">Группы ресурсов не могут быть вложенными, и ресурсы могут принадлежать только одной группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-119">Resource groups can't be nested, and resources can only belong to one resource group.</span></span> <span data-ttu-id="5a59c-120">Определенные действия могут применяться для всех ресурсов в группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-120">Some actions can act on all resources in a resource group.</span></span> <span data-ttu-id="5a59c-121">Например, при удалении группы ресурсов удаляются все входящие в нее ресурсы.</span><span class="sxs-lookup"><span data-stu-id="5a59c-121">For example, deleting a resource group removes all resources within that group.</span></span> <span data-ttu-id="5a59c-122">Существуют распространенные шаблоны создания групп ресурсов, которые разделены на две общие категории:</span><span class="sxs-lookup"><span data-stu-id="5a59c-122">There are common patterns when creating resource groups, commonly divided into two categories:</span></span>

- <span data-ttu-id="5a59c-123">Традиционные рабочие нагрузки ИТ. Чаще всего группируются по элементам в рамках одного жизненного цикла, например приложения.</span><span class="sxs-lookup"><span data-stu-id="5a59c-123">Traditional IT workloads: Most often grouped by items within the same lifecycle, such as an application.</span></span> <span data-ttu-id="5a59c-124">Группирование по приложениям позволяет управлять отдельными приложениями.</span><span class="sxs-lookup"><span data-stu-id="5a59c-124">Grouping by application allows for individual application management.</span></span>
- <span data-ttu-id="5a59c-125">Гибкие рабочие нагрузки ИТ. Сосредотачиваются на облачных приложениях для внешних клиентов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-125">Agile IT workloads: Focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="5a59c-126">Эти группы ресурсов часто отражают функциональные уровни развертывания (например, уровень Интернета или уровень приложений) и управления.</span><span class="sxs-lookup"><span data-stu-id="5a59c-126">These resource groups often reflect the functional layers of deployment (such as web tier or app tier) and management.</span></span>

## <a name="deployment-consistency"></a><span data-ttu-id="5a59c-127">Согласованность развертывания</span><span class="sxs-lookup"><span data-stu-id="5a59c-127">Deployment consistency</span></span>

<span data-ttu-id="5a59c-128">Основываясь на базовом механизме группирования ресурсов, большинство облачных платформ предоставляют систему использования шаблонов для развертывания ресурсов в облачной среде.</span><span class="sxs-lookup"><span data-stu-id="5a59c-128">Building on top of the base resource grouping mechanism, most cloud platforms provide a system for using templates to deploy your resources to the cloud environment.</span></span> <span data-ttu-id="5a59c-129">Вы можете использовать шаблоны для создания согласованной структуры и соглашений об именовании при развертывании рабочих нагрузок, применяя эти аспекты развертывания и контроля ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-129">You can use templates to create consistent organization and naming conventions when deploying workloads, enforcing those aspects of your resource deployment and management design.</span></span>

<span data-ttu-id="5a59c-130">[Шаблоны Azure Resource Manager](/azure/azure-resource-manager/resource-group-overview#template-deployment) позволяют многократно развертывать ресурсы в согласованном состоянии с использованием предопределенной структуры группы ресурсов и конфигурации.</span><span class="sxs-lookup"><span data-stu-id="5a59c-130">[Azure Resource Manager templates](/azure/azure-resource-manager/resource-group-overview#template-deployment) allow you to repeatedly deploy your resources in a consistent state using a predetermined configuration and resource group structure.</span></span> <span data-ttu-id="5a59c-131">Эти шаблоны помогают задать набор стандартов в качестве основы для ваших развертываний.</span><span class="sxs-lookup"><span data-stu-id="5a59c-131">Resource Manager templates help you define a set of standards as a basis for your deployments.</span></span>

<span data-ttu-id="5a59c-132">Например, у вас может быть стандартный шаблон для развертывания рабочей нагрузки веб-сервера, который содержит две виртуальные машины в качестве веб-серверов и подсистему балансировки нагрузки для управления трафиком между серверами.</span><span class="sxs-lookup"><span data-stu-id="5a59c-132">For example, you can have a standard template for deploying a web server workload that contains two virtual machines as web servers combined with a load balancer to manage traffic between the servers.</span></span> <span data-ttu-id="5a59c-133">Затем вы можете повторно использовать этот шаблон для создания структурно идентичных развертываний всякий раз, когда требуется новая рабочая нагрузка веб-сервера. Вам нужно изменить только имя развертывания и IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5a59c-133">You can then reuse this template to create structurally identical deployments whenever a new web server workload is needed, only changing the deployment name and IP addresses involved.</span></span>

<span data-ttu-id="5a59c-134">Обратите внимание, что можно также развертывать эти шаблоны программным способом и интегрировать их в свои системы CI/CD.</span><span class="sxs-lookup"><span data-stu-id="5a59c-134">Note that you can also programmatically deploy these templates and integrate them with your CI/CD systems.</span></span>

## <a name="policy-consistency"></a><span data-ttu-id="5a59c-135">Согласованность политик</span><span class="sxs-lookup"><span data-stu-id="5a59c-135">Policy consistency</span></span>

<span data-ttu-id="5a59c-136">Чтобы обеспечить применение политик управления во время создания ресурсов, как часть проекта группирования ресурсов при развертывании ресурсов необходимо использовать типичную конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="5a59c-136">To ensure that governance policies are applied when resources are created, part of resource grouping design involves using a common configuration when deploying resources.</span></span>

<span data-ttu-id="5a59c-137">Объединяя группы ресурсов и стандартизированные шаблоны Resource Manager, можно применять стандарты для параметров, необходимых в развертывании, и правил [Политики Azure](/azure/governance/policy/overview), применяемых к каждой группе ресурсов или ресурсу.</span><span class="sxs-lookup"><span data-stu-id="5a59c-137">By combining resource groups and standardized Resource Manager templates, you can enforce standards for what settings are required in a deployment and what [Azure Policy](/azure/governance/policy/overview) rules are applied to each resource group or resource.</span></span>

<span data-ttu-id="5a59c-138">Например, может существовать требование подключения всех виртуальных машин, развернутых в рамках вашей подписки, к общей подсети, управляемой центральным ИТ-отделом.</span><span class="sxs-lookup"><span data-stu-id="5a59c-138">For example, you may have a requirement that all virtual machines deployed within your subscription connect to a common subnet managed by your central IT team.</span></span> <span data-ttu-id="5a59c-139">Вы можете создать стандартный шаблон для развертывания виртуальных машин рабочей нагрузки, который будет создавать отдельную группу ресурсов для рабочей нагрузки и развертывать в ней виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="5a59c-139">You can create a standard template for deploying workload VMs which would create a separate resource group for the workload and deploy the required VMs there.</span></span> <span data-ttu-id="5a59c-140">У этой группы ресурсов будет правило политики, которое разрешает присоединение к общей подсети только тех сетевых интерфейсов, которые находятся внутри группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-140">This resource group would have a policy rule to only allow network interfaces within the resource group to be joined to the shared subnet.</span></span>

<span data-ttu-id="5a59c-141">Более подробное рассмотрение принудительного применения решений политики в рамках облачного развертывания см. в [этой статье](../policy-enforcement/overview.md).</span><span class="sxs-lookup"><span data-stu-id="5a59c-141">For a more in-depth discussion of enforcing your policy decisions within a cloud deployment, see [Policy enforcement](../policy-enforcement/overview.md).</span></span>

## <a name="hierarchical-consistency"></a><span data-ttu-id="5a59c-142">Иерархическая согласованность</span><span class="sxs-lookup"><span data-stu-id="5a59c-142">Hierarchical consistency</span></span>

<span data-ttu-id="5a59c-143">По мере роста облачной инфраструктуры может потребоваться поддержка более сложных нормативных требований, которую можно реализовать с помощью иерархии "предприятие — подразделение — учетная запись — подписка" Соглашения Azure Enterprise.</span><span class="sxs-lookup"><span data-stu-id="5a59c-143">As the size of your cloud estate grows, you may need to support more complicated governance requirements than can be supported using the Azure Enterprise Agreement's Enterprise/Department/Account/Subscription hierarchy.</span></span> <span data-ttu-id="5a59c-144">Группы ресурсов позволяют поддерживать дополнительные уровни иерархии в вашей организации, применяя правила Политики Azure и элементы управления доступом на уровне группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-144">Resource groups allows you to support additional levels of hierarchy within your organization, applying Azure Policy rules and access controls at a resource group level.</span></span>

<span data-ttu-id="5a59c-145">[Группы управления Azure](../subscriptions/overview.md#management-groups) могут поддерживать более сложные организационные структуры путем наложения альтернативной иерархии поверх структуры Соглашения Enterprise.</span><span class="sxs-lookup"><span data-stu-id="5a59c-145">[Azure management groups](../subscriptions/overview.md#management-groups) can support more complicated organizational structures by overlaying an alternative hierarchy on top of your enterprise agreement's structure.</span></span> <span data-ttu-id="5a59c-146">Благодаря этому подписки и содержащиеся в них ресурсы могут поддерживать механизмы управления доступом и принудительного применения политики, созданные для соответствия требованиям организации.</span><span class="sxs-lookup"><span data-stu-id="5a59c-146">This allows subscriptions, and the resources they contain, to support access control and policy enforcement mechanisms organized to match your business organizational requirements.</span></span>

## <a name="automated-consistency"></a><span data-ttu-id="5a59c-147">Автоматическая согласованность</span><span class="sxs-lookup"><span data-stu-id="5a59c-147">Automated consistency</span></span>

<span data-ttu-id="5a59c-148">Для больших облачных развертываний глобальное управление становится более важным и более сложным.</span><span class="sxs-lookup"><span data-stu-id="5a59c-148">For large cloud deployments, global governance becomes both more important and more complex.</span></span> <span data-ttu-id="5a59c-149">Очень важно автоматически принудительно применять нормативные требования при развертывании ресурсов, а также выполнять обновленные требования для существующих развертываний.</span><span class="sxs-lookup"><span data-stu-id="5a59c-149">It is crucial to automatically apply and enforce governance requirements when deploying resources, as well as meet updated requirements for existing deployments.</span></span>

<span data-ttu-id="5a59c-150">Служба [Azure Blueprints](/azure/governance/blueprints/overview) позволяет организациям поддерживать глобальное управление большими облачными инфраструктурами в Azure.</span><span class="sxs-lookup"><span data-stu-id="5a59c-150">[Azure Blueprints](/azure/governance/blueprints/overview) enable organizations to support global governance of large cloud estates in Azure.</span></span> <span data-ttu-id="5a59c-151">Схемы выходят за рамки возможностей, предоставляемых стандартными шаблонами Azure Resource Manager. Они позволяют создавать полные оркестрации развертываний, поддерживающие правила развертывания ресурсов и применение правил политики.</span><span class="sxs-lookup"><span data-stu-id="5a59c-151">Blueprints move beyond the capabilities provided by standard Azure Resource Manager templates to create complete deployment orchestrations capable of deploying resources and applying policy rules.</span></span> <span data-ttu-id="5a59c-152">Схемы поддерживают управление версиями, возможность применения обновлений для всех подписок, где использовалась схема, и возможность блокировки развернутых подписок во избежание несанкционированного создания и изменения ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5a59c-152">Blueprints supports versioning, the ability to make apply updates to all subscriptions where the blueprint was used, and the ability to lock down deployed subscriptions to avoid the unauthorized creation and modification of resources.</span></span>

<span data-ttu-id="5a59c-153">Эти пакеты развертывания позволяют ИТ-специалистам и командам разработчиков быстро развертывать новые рабочие нагрузки и сетевые ресурсы, которые соответствуют меняющимся требованиям политики организации.</span><span class="sxs-lookup"><span data-stu-id="5a59c-153">These deployment packages allow IT and development teams to rapidly deploy new workloads and networking assets that comply with changing organizational policy requirements.</span></span> <span data-ttu-id="5a59c-154">Схемы также можно интегрировать в конвейеры CI/CD для применения пересмотренных стандартов управления к развертываниям по мере их обновления.</span><span class="sxs-lookup"><span data-stu-id="5a59c-154">Blueprints can also be integrated into CI/CD pipelines to apply revised governance standards to deployments as they are updated.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5a59c-155">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="5a59c-155">Next steps</span></span>

<span data-ttu-id="5a59c-156">Ознакомьтесь со сведениями об именовании ресурсов и добавлении к ним тегов для дальнейшей организации облачных ресурсов и управления ими.</span><span class="sxs-lookup"><span data-stu-id="5a59c-156">Learn how resource naming and tagging are used to further organize and manage your cloud resources.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="5a59c-157">Именование ресурсов и добавление к ним тегов</span><span class="sxs-lookup"><span data-stu-id="5a59c-157">Resource naming and tagging</span></span>](../resource-tagging/overview.md)
