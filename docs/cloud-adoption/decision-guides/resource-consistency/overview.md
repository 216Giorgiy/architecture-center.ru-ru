---
title: CAF. Руководство по принятию решений касательно согласованности ресурсов
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
ms.date: 02/11/2019
description: Сведения о согласованности ресурсов при планировании миграции в Azure.
author: rotycenh
ms.openlocfilehash: 8170bfd09218a451e086a57e0631b7e567eb2b82
ms.sourcegitcommit: 273e690c0cfabbc3822089c7d8bc743ef41d2b6e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2019
ms.locfileid: "55901537"
---
# <a name="caf-resource-consistency-decision-guide"></a>CAF. Руководство по принятию решений касательно согласованности ресурсов

[Проект подписки](../subscriptions/overview.md) Azure определяет, как организовать облачные ресурсы по отношению к общей структуре организации. Кроме того, интеграция существующих стандартов управления ИТ-ресурсами и политик организации зависит от развертывания и организации облачных ресурсов в подписке.

Средства, доступные для реализации проектов развертывания и группирования ресурсов, а также управления ими, зависят от облачной платформы. Как правило, каждое решение включает следующие возможности:

- Механизм логического группирования ниже уровня подписки или учетной записи.
- Возможность развертывания ресурсов программным образом с помощью API.
- Шаблоны для создания стандартизированных развертываний.
- Возможность развертывания правил политики на уровнях подписки, учетной записи и группирования ресурсов.

![Схема вариантов обеспечения согласованности ресурсов, отсортированных в порядке увеличения сложности, со ссылками для быстрого перехода.](../../_images/discovery-guides/discovery-guide-resource-consistency.png)

Перейти к разделу: [Простое группирование](#basic-grouping) | [Согласованность развертывания](#deployment-consistency) | [Согласованность политики](#policy-consistency) | [Иерархическая согласованность](#hierarchical-consistency) | [Автоматическая согласованность](#automated-consistency)

Решения развертывания и группирования ресурсов в основном обусловлены следующими факторами: размером цифровых активов после миграции, сложностью среды или организации, которая не соответствует в полной мере в рамках существующего подхода к проекту подписки, или необходимостью применять управление после развертывания ресурсов. Более современная структура группирования ресурсов требует повышенного усилия, чтобы гарантировать точное группирование. В результате увеличивается время, затрачиваемое на отслеживание изменений и управление ими.

## <a name="basic-grouping"></a>Простое группирование

В Azure [группы ресурсов](/azure/azure-resource-manager/resource-group-overview#resource-groups) представляют собой базовый механизм организации ресурсов, позволяющий логически группировать ресурсы в подписке.

Это контейнеры для ресурсов с общим жизненным циклом или общими ограничениями управления, такими как требования управления доступом на основе ролей (RBAC) или требования политики. Группы ресурсов не могут быть вложенными, и ресурсы могут принадлежать только одной группе ресурсов. Определенные действия могут применяться для всех ресурсов в группе ресурсов. Например, при удалении группы ресурсов удаляются все входящие в нее ресурсы. Существуют распространенные шаблоны создания групп ресурсов, которые разделены на две общие категории:

- Традиционные рабочие нагрузки ИТ. Чаще всего группируются по элементам в рамках одного жизненного цикла, например приложения. Группирование по приложениям позволяет управлять отдельными приложениями.
- Гибкие рабочие нагрузки ИТ. Сосредотачиваются на облачных приложениях для внешних клиентов. Эти группы ресурсов часто отражают функциональные уровни развертывания (например, уровень Интернета или уровень приложений) и управления.

## <a name="deployment-consistency"></a>Согласованность развертывания

Основываясь на базовом механизме группирования ресурсов, большинство облачных платформ предоставляют систему использования шаблонов для развертывания ресурсов в облачной среде. Вы можете использовать шаблоны для создания согласованной структуры и соглашений об именовании при развертывании рабочих нагрузок, применяя эти аспекты развертывания и контроля ресурсов.

[Шаблоны Azure Resource Manager](/azure/azure-resource-manager/resource-group-overview#template-deployment) позволяют многократно развертывать ресурсы в согласованном состоянии с использованием предопределенной структуры группы ресурсов и конфигурации. Эти шаблоны помогают задать набор стандартов в качестве основы для ваших развертываний.

Например, у вас может быть стандартный шаблон для развертывания рабочей нагрузки веб-сервера, который содержит две виртуальные машины в качестве веб-серверов и подсистему балансировки нагрузки для управления трафиком между серверами. Затем вы можете повторно использовать этот шаблон для создания структурно идентичных развертываний всякий раз, когда требуется новая рабочая нагрузка веб-сервера. Вам нужно изменить только имя развертывания и IP-адрес.

Обратите внимание, что можно также развертывать эти шаблоны программным способом и интегрировать их в свои системы CI/CD.

## <a name="policy-consistency"></a>Согласованность политик

Чтобы обеспечить применение политик управления во время создания ресурсов, как часть проекта группирования ресурсов при развертывании ресурсов необходимо использовать типичную конфигурацию.

Объединяя группы ресурсов и стандартизированные шаблоны Resource Manager, можно применять стандарты для параметров, необходимых в развертывании, и правил [Политики Azure](/azure/governance/policy/overview), применяемых к каждой группе ресурсов или ресурсу.

Например, может существовать требование подключения всех виртуальных машин, развернутых в рамках вашей подписки, к общей подсети, управляемой центральным ИТ-отделом. Вы можете создать стандартный шаблон для развертывания виртуальных машин рабочей нагрузки, который будет создавать отдельную группу ресурсов для рабочей нагрузки и развертывать в ней виртуальные машины. У этой группы ресурсов будет правило политики, которое разрешает присоединение к общей подсети только тех сетевых интерфейсов, которые находятся внутри группы ресурсов.

Более подробное рассмотрение принудительного применения решений политики в рамках облачного развертывания см. в [этой статье](../policy-enforcement/overview.md).

## <a name="hierarchical-consistency"></a>Иерархическая согласованность

По мере роста облачной инфраструктуры может потребоваться поддержка более сложных нормативных требований, которую можно реализовать с помощью иерархии "предприятие — подразделение — учетная запись — подписка" Соглашения Azure Enterprise. Группы ресурсов позволяют поддерживать дополнительные уровни иерархии в вашей организации, применяя правила Политики Azure и элементы управления доступом на уровне группы ресурсов.

[Группы управления Azure](../subscriptions/overview.md#management-groups) могут поддерживать более сложные организационные структуры путем наложения альтернативной иерархии поверх структуры Соглашения Enterprise. Благодаря этому подписки и содержащиеся в них ресурсы могут поддерживать механизмы управления доступом и принудительного применения политики, созданные для соответствия требованиям организации.

## <a name="automated-consistency"></a>Автоматическая согласованность

Для больших облачных развертываний глобальное управление становится более важным и более сложным. Очень важно автоматически принудительно применять нормативные требования при развертывании ресурсов, а также выполнять обновленные требования для существующих развертываний.

Служба [Azure Blueprints](/azure/governance/blueprints/overview) позволяет организациям поддерживать глобальное управление большими облачными инфраструктурами в Azure. Схемы выходят за рамки возможностей, предоставляемых стандартными шаблонами Azure Resource Manager. Они позволяют создавать полные оркестрации развертываний, поддерживающие правила развертывания ресурсов и применение правил политики. Схемы поддерживают управление версиями, возможность применения обновлений для всех подписок, где использовалась схема, и возможность блокировки развернутых подписок во избежание несанкционированного создания и изменения ресурсов.

Эти пакеты развертывания позволяют ИТ-специалистам и командам разработчиков быстро развертывать новые рабочие нагрузки и сетевые ресурсы, которые соответствуют меняющимся требованиям политики организации. Схемы также можно интегрировать в конвейеры CI/CD для применения пересмотренных стандартов управления к развертываниям по мере их обновления.

## <a name="next-steps"></a>Дополнительная информация

Ознакомьтесь со сведениями об именовании ресурсов и добавлении к ним тегов для дальнейшей организации облачных ресурсов и управления ими.

> [!div class="nextstepaction"]
> [Именование ресурсов и добавление к ним тегов](../resource-tagging/overview.md)
