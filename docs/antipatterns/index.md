---
title: Антишаблоны производительности для облачных приложений
titleSuffix: Azure Architecture Center
description: Распространенная практика, которая, скорее всего, приведет к проблемам масштабируемости.
author: dragon119
ms.date: 06/05/2017
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: 212930368942728fc0be0c9b2af1a90293906b39
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58344841"
---
# <a name="performance-antipatterns-for-cloud-applications"></a>Антишаблоны производительности для облачных приложений

*Антишаблон производительности* — это распространенная практика, которая приводит к проблемам масштабируемости, если приложение испытывает нагрузку.

Один из распространенных сценариев — приложение нормально функционирует при тестировании производительности. Затем оно помещается в рабочую среду и начинает обрабатывать реальные рабочие нагрузки. На этом этапе приложение начинает хуже работать &mdash; отклоняются запросы пользователя, замедляется работа или вызываются исключения. Перед командой разработчиков возникают два вопроса:

- Почему во время тестирования такое поведение не наблюдалось?
- Как это исправить?

Ответ на первый вопрос достаточно прост. В тестовой среде очень сложно сымитировать реальных пользователей, шаблоны их поведения и объемы работы, которую они могут выполнять. Наблюдение за системой в рабочей среде — это единственный способ понять ее поведение под нагрузкой. Мы не предлагаем пропускать тестирование производительности. Это важный этап для получения базовых показателей производительности. Однако вы должны быть готовы к появлению проблем с производительностью в действующей системе. Вам также необходимо знать, как их устранить.

Ответ на второй вопрос (Как решить проблему?) не так прост. Любое количество факторов может способствовать возникновению проблемы, а иногда она проявляется только при определенных обстоятельствах. Инструментирование и ведение журнала являются ключом для поиска первопричины, но вам также необходимо знать, что именно вы ищете.

Исходя из отзывов наших клиентов Microsoft Azure, мы определили наиболее распространенные проблемы с производительностью в рабочей среде, а также описали причины возникновения, признаки и способы устранения проблемы для каждого антишаблона. Мы предоставили образец кода, демонстрирующий антишаблон и предлагаемое решение.

Во время чтения описания некоторые из этих антишаблонов могут показаться вам очевидными, но они встречаются чаще, чем вы думаете. Иногда приложение наследует архитектуру, которая работает в локальной среде, но не выполняет масштабирование в облаке. А иногда приложение может иметь идеальную архитектуру, но по мере добавления новых функций начинают появляться антишаблоны. В любом случае данное руководство поможет вам определить и устранить эти антишаблоны.

Ниже приведен список антишаблонов, которые мы определили:

| Антишаблон | ОПИСАНИЕ |
|-------------|-------------|
| [Занятость базы данных][BusyDatabase] | Разгрузка слишком большого объема обработки в хранилище данных. |
| [Занятость внешнего интерфейса][BusyFrontEnd] | Перемещение ресурсоемких задач в фоновые потоки. |
| [Отправка множественных операций ввода-вывода][ChattyIO] | Постоянная отправка большого количества небольших сетевых запросов. |
| [Лишняя выборка][ExtraneousFetching] | Получение большего объема данных, чем требуется. Это приводит к ненужным операциям ввода-вывода. |
| [Неправильное создание экземпляров][ImproperInstantiation] | Многократное создание и удаление объектов, которые предназначены для общего доступа и повторного использования. |
| [Монолитная сохраняемость][MonolithicPersistence] | Использование одного хранилища для данных с совершенно разными шаблонами потребления. |
| [Без кэширования][NoCaching] | Нет возможности выполнить кэширование данных. |
| [Синхронный ввод-вывод][SynchronousIO] | Блокировка вызывающего потока до завершения операций ввода-вывода. |

[BusyDatabase]: ./busy-database/index.md
[BusyFrontEnd]: ./busy-front-end/index.md
[ChattyIO]: ./chatty-io/index.md
[ExtraneousFetching]: ./extraneous-fetching/index.md
[ImproperInstantiation]: ./improper-instantiation/index.md
[MonolithicPersistence]: ./monolithic-persistence/index.md
[NoCaching]: ./no-caching/index.md
[SynchronousIO]: ./synchronous-io/index.md
