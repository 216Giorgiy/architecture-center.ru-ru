---
title: Шаблон материализованного представления
titleSuffix: Cloud Design Patterns
description: Создание предварительно заполненных представлений на основе данных из одного или нескольких хранилищ данных, когда данные не отформатированы для требуемых операций запросов.
keywords: Конструктивный шаблон
author: dragon119
ms.date: 06/23/2017
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: 638c4cacfba3f170fdf1c967d783d60c8c6c6b6f
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58241495"
---
# <a name="materialized-view-pattern"></a><span data-ttu-id="f5f15-104">Шаблон материализованного представления</span><span class="sxs-lookup"><span data-stu-id="f5f15-104">Materialized View pattern</span></span>

[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="f5f15-105">Создание предварительно заполненных представлений на основе данных из одного или нескольких хранилищ данных, когда данные не отформатированы для требуемых операций запросов.</span><span class="sxs-lookup"><span data-stu-id="f5f15-105">Generate prepopulated views over the data in one or more data stores when the data isn't ideally formatted for required query operations.</span></span> <span data-ttu-id="f5f15-106">Это позволяет эффективно отправлять запросы и извлекать данные, а также повысить производительность приложения.</span><span class="sxs-lookup"><span data-stu-id="f5f15-106">This can help support efficient querying and data extraction, and improve application performance.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="f5f15-107">Контекст и проблема</span><span class="sxs-lookup"><span data-stu-id="f5f15-107">Context and problem</span></span>

<span data-ttu-id="f5f15-108">При сохранении данных разработчики и администраторы часто уделяют основное внимание способу хранения, а не способу чтения.</span><span class="sxs-lookup"><span data-stu-id="f5f15-108">When storing data, the priority for developers and data administrators is often focused on how the data is stored, as opposed to how it's read.</span></span> <span data-ttu-id="f5f15-109">Выбор формата хранилища обычно зависит от формата данных, требований к управлению размером данных и их целостностью, а также от используемого вида хранилища.</span><span class="sxs-lookup"><span data-stu-id="f5f15-109">The chosen storage format is usually closely related to the format of the data, requirements for managing data size and data integrity, and the kind of store in use.</span></span> <span data-ttu-id="f5f15-110">Например, при использовании хранилища документов NoSQL данные часто представляют собою серию агрегатов, каждый из которых содержит всю информацию для данной сущности.</span><span class="sxs-lookup"><span data-stu-id="f5f15-110">For example, when using NoSQL document store, the data is often represented as a series of aggregates, each containing all of the information for that entity.</span></span>

<span data-ttu-id="f5f15-111">Однако это может отрицательно влиять на запросы.</span><span class="sxs-lookup"><span data-stu-id="f5f15-111">However, this can have a negative effect on queries.</span></span> <span data-ttu-id="f5f15-112">Если для запроса требуется только подмножество данных из нескольких объектов, например сводка о заказах нескольких клиентов без подробностей о самом заказе, чтобы получить необходимую информацию, запросу необходимо извлечь все данные для соответствующих объектов.</span><span class="sxs-lookup"><span data-stu-id="f5f15-112">When a query only needs a subset of the data from some entities, such as a summary of orders for several customers without all of the order details, it must extract all of the data for the relevant entities in order to obtain the required information.</span></span>

## <a name="solution"></a><span data-ttu-id="f5f15-113">Решение</span><span class="sxs-lookup"><span data-stu-id="f5f15-113">Solution</span></span>

<span data-ttu-id="f5f15-114">Для эффективного выполнения запросов обычно заранее создается представление, которое материализует данные в формате, подходящем для необходимого набора результатов.</span><span class="sxs-lookup"><span data-stu-id="f5f15-114">To support efficient querying, a common solution is to generate, in advance, a view that materializes the data in a format suited to the required results set.</span></span> <span data-ttu-id="f5f15-115">Шаблон материализованного представления описывает создание заполненных представлений данных в тех случаях, когда формат исходных данных не подходит для запросов, когда сложно создать подходящий запрос или в случае низкой производительности запроса из-за типа данных или хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="f5f15-115">The Materialized View pattern describes generating prepopulated views of data in environments where the source data isn't in a suitable format for querying, where generating a suitable query is difficult, or where query performance is poor due to the nature of the data or the data store.</span></span>

<span data-ttu-id="f5f15-116">Материализованные представления, содержащие только данные, необходимые для запроса, позволяют приложениям быстро получить необходимую информацию.</span><span class="sxs-lookup"><span data-stu-id="f5f15-116">These materialized views, which only contain data required by a query, allow applications to quickly obtain the information they need.</span></span> <span data-ttu-id="f5f15-117">Помимо соединения таблиц или объединения сущностей данных, материализованные представления могут включать текущие значения вычисляемых столбцов или элементов данных, результаты объединения значений или преобразования элементов данных, а также значения, указанные как часть запроса.</span><span class="sxs-lookup"><span data-stu-id="f5f15-117">In addition to joining tables or combining data entities, materialized views can include the current values of calculated columns or data items, the results of combining values or executing transformations on the data items, and values specified as part of the query.</span></span> <span data-ttu-id="f5f15-118">Материализованное представление можно даже оптимизировать для одного запроса.</span><span class="sxs-lookup"><span data-stu-id="f5f15-118">A materialized view can even be optimized for just a single query.</span></span>

<span data-ttu-id="f5f15-119">Важно отметить, что материализованное представление и содержащиеся в нем данные можно удалить и полностью создать заново из хранилищ исходных данных.</span><span class="sxs-lookup"><span data-stu-id="f5f15-119">A key point is that a materialized view and the data it contains is completely disposable because it can be entirely rebuilt from the source data stores.</span></span> <span data-ttu-id="f5f15-120">Материализованное представление не обновляется приложением напрямую, оно представляет собой специализированный кэш.</span><span class="sxs-lookup"><span data-stu-id="f5f15-120">A materialized view is never updated directly by an application, and so it's a specialized cache.</span></span>

<span data-ttu-id="f5f15-121">Если исходные данные представления изменяются, его необходимо обновить, чтобы добавить новую информацию.</span><span class="sxs-lookup"><span data-stu-id="f5f15-121">When the source data for the view changes, the view must be updated to include the new information.</span></span> <span data-ttu-id="f5f15-122">Для этого можно настроить автоматическое обновление по графику или по мере обнаружения системой изменений в исходных данных.</span><span class="sxs-lookup"><span data-stu-id="f5f15-122">You can schedule this to happen automatically, or when the system detects a change to the original data.</span></span> <span data-ttu-id="f5f15-123">Иногда может понадобиться вручную создать представление повторно.</span><span class="sxs-lookup"><span data-stu-id="f5f15-123">In some cases it might be necessary to regenerate the view manually.</span></span> <span data-ttu-id="f5f15-124">На рисунке показан пример использования шаблона материализованного представления.</span><span class="sxs-lookup"><span data-stu-id="f5f15-124">The figure shows an example of how the Materialized View pattern might be used.</span></span>

![На рисунке 1 показан пример использования шаблона материализованного представления.](./_images/materialized-view-pattern-diagram.png)

## <a name="issues-and-considerations"></a><span data-ttu-id="f5f15-126">Проблемы и рекомендации</span><span class="sxs-lookup"><span data-stu-id="f5f15-126">Issues and considerations</span></span>

<span data-ttu-id="f5f15-127">При принятии решения о реализации этого шаблона необходимо учитывать следующие моменты.</span><span class="sxs-lookup"><span data-stu-id="f5f15-127">Consider the following points when deciding how to implement this pattern:</span></span>

<span data-ttu-id="f5f15-128">Как и когда представление будет обновляться.</span><span class="sxs-lookup"><span data-stu-id="f5f15-128">How and when the view will be updated.</span></span> <span data-ttu-id="f5f15-129">В идеале оно должно повторно создаваться в ответ на событие, обозначающее изменение исходных данных. Хотя, если данные изменяются быстро, такое поведение может привести к слишком большой нагрузке.</span><span class="sxs-lookup"><span data-stu-id="f5f15-129">Ideally it'll regenerate in response to an event indicating a change to the source data, although this can lead to excessive overhead if the source data changes rapidly.</span></span> <span data-ttu-id="f5f15-130">Кроме того, для повторного создания представления можно использовать запланированную задачу, внешний триггер или сделать это вручную.</span><span class="sxs-lookup"><span data-stu-id="f5f15-130">Alternatively, consider using a scheduled task, an external trigger, or a manual action to regenerate the view.</span></span>

<span data-ttu-id="f5f15-131">В некоторых системах использование материализованного представления необходимо. Например, при использовании шаблона источников событий для хранения только событий изменения данных.</span><span class="sxs-lookup"><span data-stu-id="f5f15-131">In some systems, such as when using the Event Sourcing pattern to maintain a store of only the events that modified the data, materialized views are necessary.</span></span> <span data-ttu-id="f5f15-132">Предварительное заполнение представлений путем проверки всех событий для определения текущего состояния может быть единственным способом получить данные из хранилища событий.</span><span class="sxs-lookup"><span data-stu-id="f5f15-132">Prepopulating views by examining all events to determine the current state might be the only way to obtain information from the event store.</span></span> <span data-ttu-id="f5f15-133">Если источники событий не используются, необходимо рассмотреть целесообразность использования материализованного представления.</span><span class="sxs-lookup"><span data-stu-id="f5f15-133">If you're not using Event Sourcing, you need to consider whether a materialized view is helpful or not.</span></span> <span data-ttu-id="f5f15-134">Как правило, материализованные представления предназначены для одного запроса или небольшого количества запросов.</span><span class="sxs-lookup"><span data-stu-id="f5f15-134">Materialized views tend to be specifically tailored to one, or a small number of queries.</span></span> <span data-ttu-id="f5f15-135">При использовании большого количества запросов материализованные представления могут привести к неприемлемым требованиям к емкости хранилища и затратам на него.</span><span class="sxs-lookup"><span data-stu-id="f5f15-135">If many queries are used, materialized views can result in unacceptable storage capacity requirements and storage cost.</span></span>

<span data-ttu-id="f5f15-136">Следует учитывать влияние на согласованность данных при создании и обновлении представления, если обновление происходит по расписанию.</span><span class="sxs-lookup"><span data-stu-id="f5f15-136">Consider the impact on data consistency when generating the view, and when updating the view if this occurs on a schedule.</span></span> <span data-ttu-id="f5f15-137">Если в момент создания представления происходит изменение исходных данных, копия данных в представлении не будет полностью соответствовать исходным данным.</span><span class="sxs-lookup"><span data-stu-id="f5f15-137">If the source data is changing at the point when the view is generated, the copy of the data in the view won't be fully consistent with the original data.</span></span>

<span data-ttu-id="f5f15-138">Необходимо учитывать место для хранения представления.</span><span class="sxs-lookup"><span data-stu-id="f5f15-138">Consider where you'll store the view.</span></span> <span data-ttu-id="f5f15-139">Представление не обязательно должно находиться в том же хранилище или разделе, что и исходные данные.</span><span class="sxs-lookup"><span data-stu-id="f5f15-139">The view doesn't have to be located in the same store or partition as the original data.</span></span> <span data-ttu-id="f5f15-140">Оно может представлять собой подмножество, объединенное из нескольких различных разделов.</span><span class="sxs-lookup"><span data-stu-id="f5f15-140">It can be a subset from a few different partitions combined.</span></span>

<span data-ttu-id="f5f15-141">В случае утраты представление можно повторно создать.</span><span class="sxs-lookup"><span data-stu-id="f5f15-141">A view can be rebuilt if lost.</span></span> <span data-ttu-id="f5f15-142">Поэтому, если представление является временным и используется только для повышения производительности запросов, отражая текущее состояние данных, или используется для повышения масштабируемости, оно может храниться в кэше или в менее надежном расположении.</span><span class="sxs-lookup"><span data-stu-id="f5f15-142">Because of that, if the view is transient and is only used to improve query performance by reflecting the current state of the data, or to improve scalability, it can be stored in a cache or in a less reliable location.</span></span>

<span data-ttu-id="f5f15-143">При определении материализованного представления его эффективность можно повысить, добавив в него элементы данных или столбцы с результатами вычисления или преобразования существующих элементов данных, столбцы со значениями, передаваемыми в запросе, или сочетаниями этих значений (при необходимости).</span><span class="sxs-lookup"><span data-stu-id="f5f15-143">When defining a materialized view, maximize its value by adding data items or columns to it based on computation or transformation of existing data items, on values passed in the query, or on combinations of these values when appropriate.</span></span>

<span data-ttu-id="f5f15-144">Если механизм хранилища поддерживает такую возможность, рекомендуется индексировать материализованное представление для еще большего повышения производительности.</span><span class="sxs-lookup"><span data-stu-id="f5f15-144">Where the storage mechanism supports it, consider indexing the materialized view to further increase performance.</span></span> <span data-ttu-id="f5f15-145">Большинство реляционных баз данных, а также решения для обработки больших объемов данных на основе Apache Hadoop поддерживают индексирование представлений.</span><span class="sxs-lookup"><span data-stu-id="f5f15-145">Most relational databases support indexing for views, as do big data solutions based on Apache Hadoop.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="f5f15-146">Когда следует использовать этот шаблон</span><span class="sxs-lookup"><span data-stu-id="f5f15-146">When to use this pattern</span></span>

<span data-ttu-id="f5f15-147">Этот шаблон полезен в следующих сценариях.</span><span class="sxs-lookup"><span data-stu-id="f5f15-147">This pattern is useful when:</span></span>

- <span data-ttu-id="f5f15-148">Создание материализованных представлений данных, для которых сложно создать прямой запрос. Также можно использовать этот шаблон, когда запросы должны быть очень сложными, чтобы извлечь данные, хранящиеся в нормализованном, частично структурированном или неструктурированном виде.</span><span class="sxs-lookup"><span data-stu-id="f5f15-148">Creating materialized views over data that's difficult to query directly, or where queries must be very complex to extract data that's stored in a normalized, semi-structured, or unstructured way.</span></span>
- <span data-ttu-id="f5f15-149">Создание временных представлений, способных значительно повысить производительность запроса либо способных выступать непосредственно в качестве исходных представлений или объектов передачи данных для пользовательского интерфейса, создания отчетов или отображения.</span><span class="sxs-lookup"><span data-stu-id="f5f15-149">Creating temporary views that can dramatically improve query performance, or can act directly as source views or data transfer objects for the UI, for reporting, or for display.</span></span>
- <span data-ttu-id="f5f15-150">Поддержка сценариев временного подключения или временного отключения, когда подключение к хранилищу данных не всегда доступно.</span><span class="sxs-lookup"><span data-stu-id="f5f15-150">Supporting occasionally connected or disconnected scenarios where connection to the data store isn't always available.</span></span> <span data-ttu-id="f5f15-151">В этом случае представление можно кэшировать локально.</span><span class="sxs-lookup"><span data-stu-id="f5f15-151">The view can be cached locally in this case.</span></span>
- <span data-ttu-id="f5f15-152">Упрощение запросов и предоставление данных для экспериментов таким образом, чтобы информация о формате исходных данных не требовалась.</span><span class="sxs-lookup"><span data-stu-id="f5f15-152">Simplifying queries and exposing data for experimentation in a way that doesn't require knowledge of the source data format.</span></span> <span data-ttu-id="f5f15-153">Например, это делается путем объединения разных таблиц в одну или несколько баз данных либо одного или нескольких доменов в хранилищах NoSQL и последующего форматирования данных в соответствии со способом использования.</span><span class="sxs-lookup"><span data-stu-id="f5f15-153">For example, by joining different tables in one or more databases, or one or more domains in NoSQL stores, and then formatting the data to fit its eventual use.</span></span>
- <span data-ttu-id="f5f15-154">Предоставление доступа к определенным подмножествам исходных данных, которые из соображений безопасности или конфиденциальности не должны быть общедоступными, доступными для изменений или полностью открытыми для пользователей.</span><span class="sxs-lookup"><span data-stu-id="f5f15-154">Providing access to specific subsets of the source data that, for security or privacy reasons, shouldn't be generally accessible, open to modification, or fully exposed to users.</span></span>
- <span data-ttu-id="f5f15-155">Использования моста для различных хранилищ данных для воспользоваться конкретными возможностями каждого из них.</span><span class="sxs-lookup"><span data-stu-id="f5f15-155">Bridging different data stores, to take advantage of their individual capabilities.</span></span> <span data-ttu-id="f5f15-156">Например, использование облачного хранилища, эффективного для записи в качестве ссылочного хранилища данных, и реляционной базы данных, предлагающей хорошую производительность запросов и операций чтения для хранения материализованных представлений.</span><span class="sxs-lookup"><span data-stu-id="f5f15-156">For example, using a cloud store that's efficient for writing as the reference data store, and a relational database that offers good query and read performance to hold the materialized views.</span></span>

<span data-ttu-id="f5f15-157">Этот шаблон не будет полезен в следующих сценариях.</span><span class="sxs-lookup"><span data-stu-id="f5f15-157">This pattern isn't useful in the following situations:</span></span>

- <span data-ttu-id="f5f15-158">Используются простые исходные данные, для которых легко создавать запросы.</span><span class="sxs-lookup"><span data-stu-id="f5f15-158">The source data is simple and easy to query.</span></span>
- <span data-ttu-id="f5f15-159">Исходные данные меняются очень быстро или доступ к ним можно осуществлять без использования представления.</span><span class="sxs-lookup"><span data-stu-id="f5f15-159">The source data changes very quickly, or can be accessed without using a view.</span></span> <span data-ttu-id="f5f15-160">В таких случаях следует избегать дополнительной нагрузки в виде создания представлений.</span><span class="sxs-lookup"><span data-stu-id="f5f15-160">In these cases, you should avoid the processing overhead of creating views.</span></span>
- <span data-ttu-id="f5f15-161">Согласованность имеет высокий приоритет.</span><span class="sxs-lookup"><span data-stu-id="f5f15-161">Consistency is a high priority.</span></span> <span data-ttu-id="f5f15-162">Представления могут быть не всегда полностью согласованными с исходными данными.</span><span class="sxs-lookup"><span data-stu-id="f5f15-162">The views might not always be fully consistent with the original data.</span></span>

## <a name="example"></a><span data-ttu-id="f5f15-163">Пример</span><span class="sxs-lookup"><span data-stu-id="f5f15-163">Example</span></span>

<span data-ttu-id="f5f15-164">На рисунке ниже показан пример использования шаблона материализованного представления для создания сводки о продажах.</span><span class="sxs-lookup"><span data-stu-id="f5f15-164">The following figure shows an example of using the Materialized View pattern to generate a summary of sales.</span></span> <span data-ttu-id="f5f15-165">Данные в таблицах Order (Заказ), OrderItem (Товар заказа) и Customer (Клиент) в разных разделах учетной записи хранения Azure объединены в представление, которое содержит значение общих продаж для каждого товара в категории "Электроника", а также количество клиентов, купивших каждый товар.</span><span class="sxs-lookup"><span data-stu-id="f5f15-165">Data in the Order, OrderItem, and Customer tables in separate partitions in an Azure storage account are combined to generate a view containing the total sales value for each product in the Electronics category, along with a count of the number of customers who made purchases of each item.</span></span>

![Рис. 2. Использование шаблона материализованного представления для создания сводки о продажах](./_images/materialized-view-summary-diagram.png)

<span data-ttu-id="f5f15-167">Для создания этого материализованного представления необходимы сложные запросы.</span><span class="sxs-lookup"><span data-stu-id="f5f15-167">Creating this materialized view requires complex queries.</span></span> <span data-ttu-id="f5f15-168">Получив результаты запроса в виде материализованного представления, пользователи могут легко использовать их напрямую или встроить в другой запрос.</span><span class="sxs-lookup"><span data-stu-id="f5f15-168">However, by exposing the query result as a materialized view, users can easily obtain the results and use them directly or incorporate them in another query.</span></span> <span data-ttu-id="f5f15-169">Представление можно использовать в системе отчетности или панели мониторинга. Его можно обновлять по определенному графику, например каждую неделю.</span><span class="sxs-lookup"><span data-stu-id="f5f15-169">The view is likely to be used in a reporting system or dashboard, and can be updated on a scheduled basis such as weekly.</span></span>

> <span data-ttu-id="f5f15-170">Хотя в этом примере используется хранилище таблиц Azure, многие системы управления реляционными базами данных также предоставляют встроенную поддержку материализованных представлений.</span><span class="sxs-lookup"><span data-stu-id="f5f15-170">Although this example utilizes Azure table storage, many relational database management systems also provide native support for materialized views.</span></span>

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="f5f15-171">Связанные шаблоны и рекомендации</span><span class="sxs-lookup"><span data-stu-id="f5f15-171">Related patterns and guidance</span></span>

<span data-ttu-id="f5f15-172">При реализации этого шаблона следует принять во внимание следующие шаблоны и рекомендации.</span><span class="sxs-lookup"><span data-stu-id="f5f15-172">The following patterns and guidance might also be relevant when implementing this pattern:</span></span>

- <span data-ttu-id="f5f15-173">[Руководство по согласованности данных](https://msdn.microsoft.com/library/dn589800.aspx).</span><span class="sxs-lookup"><span data-stu-id="f5f15-173">[Data Consistency Primer](https://msdn.microsoft.com/library/dn589800.aspx).</span></span> <span data-ttu-id="f5f15-174">Необходимо поддерживать актуальность сводных данных в материализованном представлении, чтобы оно точно отражало значения базовых данных.</span><span class="sxs-lookup"><span data-stu-id="f5f15-174">The summary information in a materialized view has to be maintained so that it reflects the underlying data values.</span></span> <span data-ttu-id="f5f15-175">По мере изменения значений данных обновление сводных данных в режиме реального времени может оказаться нецелесообразным. Вместо этого необходимо будет использовать другой подход, обеспечивающий согласованность.</span><span class="sxs-lookup"><span data-stu-id="f5f15-175">As the data values change, it might not be practical to update the summary data in real time, and instead you'll have to adopt an eventually consistent approach.</span></span> <span data-ttu-id="f5f15-176">Здесь кратко описаны проблемы, связанные с поддержанием согласованности распределенных данных, и описываются преимущества и недостатки различных моделей согласованности.</span><span class="sxs-lookup"><span data-stu-id="f5f15-176">Summarizes the issues surrounding maintaining consistency over distributed data, and describes the benefits and tradeoffs of different consistency models.</span></span>
- <span data-ttu-id="f5f15-177">[Шаблон выделения ответственности команды и запроса (CQRS)](./cqrs.md).</span><span class="sxs-lookup"><span data-stu-id="f5f15-177">[Command and Query Responsibility Segregation (CQRS) pattern](./cqrs.md).</span></span> <span data-ttu-id="f5f15-178">Используйте для обновления сведений в материализованном представлении в ответ на события, возникающие при изменении значений данных.</span><span class="sxs-lookup"><span data-stu-id="f5f15-178">Use to update the information in a materialized view by responding to events that occur when the underlying data values change.</span></span>
- <span data-ttu-id="f5f15-179">[Шаблон источников событий](./event-sourcing.md).</span><span class="sxs-lookup"><span data-stu-id="f5f15-179">[Event Sourcing pattern](./event-sourcing.md).</span></span> <span data-ttu-id="f5f15-180">Используйте этот шаблон вместе с шаблоном выделения ответственности команды и запроса для поддержания актуальности информации в материализованном представлении.</span><span class="sxs-lookup"><span data-stu-id="f5f15-180">Use in conjunction with the CQRS pattern to maintain the information in a materialized view.</span></span> <span data-ttu-id="f5f15-181">При изменении значений данных, на которых основывается материализованное представление, система может выдать события, описывающие эти изменения, и сохранить их в хранилище событий.</span><span class="sxs-lookup"><span data-stu-id="f5f15-181">When the data values a materialized view is based on are changed, the system can raise events that describe these changes and save them in an event store.</span></span>
- <span data-ttu-id="f5f15-182">[Шаблон таблицы индексов](./index-table.md).</span><span class="sxs-lookup"><span data-stu-id="f5f15-182">[Index Table pattern](./index-table.md).</span></span> <span data-ttu-id="f5f15-183">Данные в материализованном представлении обычно организованы по первичному ключу, но для выполнения запросов может понадобиться получение сведений из этого представления путем проверки данных в других полях.</span><span class="sxs-lookup"><span data-stu-id="f5f15-183">The data in a materialized view is typically organized by a primary key, but queries might need to retrieve information from this view by examining data in other fields.</span></span> <span data-ttu-id="f5f15-184">Используйте этот шаблон для создания вторичных индексов на основе наборов данных для хранилищ данных, которые не поддерживают собственные вторичные индексы.</span><span class="sxs-lookup"><span data-stu-id="f5f15-184">Use to create secondary indexes over data sets for data stores that don't support native secondary indexes.</span></span>
