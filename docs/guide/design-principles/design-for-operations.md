---
title: Разработка с учетом эксплуатации
titleSuffix: Azure Application Architecture Guide
description: Разработайте приложение так, чтобы группа эксплуатации получила все необходимые средства.
author: MikeWasson
ms.date: 08/30/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 75eaa7f8e322c66a83d2b43d180780a2fdcd745b
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58245635"
---
# <a name="design-for-operations"></a><span data-ttu-id="6063f-103">Разработка с учетом эксплуатации</span><span class="sxs-lookup"><span data-stu-id="6063f-103">Design for operations</span></span>

## <a name="design-an-application-so-that-the-operations-team-has-the-tools-they-need"></a><span data-ttu-id="6063f-104">Разработайте приложение так, чтобы группа эксплуатации получила все необходимые средства.</span><span class="sxs-lookup"><span data-stu-id="6063f-104">Design an application so that the operations team has the tools they need</span></span>

<span data-ttu-id="6063f-105">Облако значительно изменило функции специалистов из группы эксплуатации.</span><span class="sxs-lookup"><span data-stu-id="6063f-105">The cloud has dramatically changed the role of the operations team.</span></span> <span data-ttu-id="6063f-106">Теперь им больше не нужно заниматься оборудованием и инфраструктурой для размещения приложения.</span><span class="sxs-lookup"><span data-stu-id="6063f-106">They are no longer responsible for managing the hardware and infrastructure that hosts the application.</span></span>  <span data-ttu-id="6063f-107">С другой стороны, этап эксплуатации остается критически важной частью успешной работы облачного приложения.</span><span class="sxs-lookup"><span data-stu-id="6063f-107">That said, operations is still a critical part of running a successful cloud application.</span></span> <span data-ttu-id="6063f-108">Ниже перечислены некоторые основные задачи группы эксплуатации:</span><span class="sxs-lookup"><span data-stu-id="6063f-108">Some of the important functions of the operations team include:</span></span>

- <span data-ttu-id="6063f-109">Развертывание</span><span class="sxs-lookup"><span data-stu-id="6063f-109">Deployment</span></span>
- <span data-ttu-id="6063f-110">Мониторинг</span><span class="sxs-lookup"><span data-stu-id="6063f-110">Monitoring</span></span>
- <span data-ttu-id="6063f-111">Escalation (Эскалация);</span><span class="sxs-lookup"><span data-stu-id="6063f-111">Escalation</span></span>
- <span data-ttu-id="6063f-112">реагирование на инциденты.</span><span class="sxs-lookup"><span data-stu-id="6063f-112">Incident response</span></span>
- <span data-ttu-id="6063f-113">Аудит безопасности.</span><span class="sxs-lookup"><span data-stu-id="6063f-113">Security auditing</span></span>

<span data-ttu-id="6063f-114">Для облачных приложений особенно важны надежные механизмы ведения журнала и трассировки.</span><span class="sxs-lookup"><span data-stu-id="6063f-114">Robust logging and tracing are particularly important in cloud applications.</span></span> <span data-ttu-id="6063f-115">Взаимодействуйте с группой эксплуатации на этапах планирования и разработки, чтобы приложение могло предоставить им нужные данные и рекомендации для успешной работы.</span><span class="sxs-lookup"><span data-stu-id="6063f-115">Involve the operations team in design and planning, to ensure the application gives them the data and insight thay need to be successful.</span></span>  <!-- to do: Link to DevOps checklist -->

## <a name="recommendations"></a><span data-ttu-id="6063f-116">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="6063f-116">Recommendations</span></span>

<span data-ttu-id="6063f-117">**Обеспечьте полную отслеживаемость.**</span><span class="sxs-lookup"><span data-stu-id="6063f-117">**Make all things observable**.</span></span> <span data-ttu-id="6063f-118">Когда решение развернуто и работает, основными инструментами для анализа системы становятся журналы и трассировки.</span><span class="sxs-lookup"><span data-stu-id="6063f-118">Once a solution is deployed and running, logs and traces are your primary insight into the system.</span></span> <span data-ttu-id="6063f-119">*Трассировка* позволяет изучать пути процессов в системе и выявлять узкие места, проблемы с производительностью и точки сбоя.</span><span class="sxs-lookup"><span data-stu-id="6063f-119">*Tracing* records a path through the system, and is useful to pinpoint bottlenecks, performance issues, and failure points.</span></span> <span data-ttu-id="6063f-120">*Ведение журнала* обеспечивает сведения об отдельных событиях, например об изменении состояния приложения, ошибках и исключениях.</span><span class="sxs-lookup"><span data-stu-id="6063f-120">*Logging* captures individual events such as application state changes, errors, and exceptions.</span></span> <span data-ttu-id="6063f-121">Обязательно ведите журнал в рабочей среде, иначе у вас не будет важных сведений в тот момент, когда они больше всего нужны.</span><span class="sxs-lookup"><span data-stu-id="6063f-121">Log in production, or else you lose insight at the very times when you need it the most.</span></span>

<span data-ttu-id="6063f-122">**Обеспечьте средство мониторинга.**</span><span class="sxs-lookup"><span data-stu-id="6063f-122">**Instrument for monitoring**.</span></span> <span data-ttu-id="6063f-123">Мониторинг позволяет понять, насколько хорошо (или плохо) работает приложение с точки зрения доступности, производительности и работоспособности.</span><span class="sxs-lookup"><span data-stu-id="6063f-123">Monitoring gives insight into how well (or poorly) an application is performing, in terms of availability, performance, and system health.</span></span> <span data-ttu-id="6063f-124">Например, мониторинг дает возможность проверить соблюдение соглашений об уровне обслуживания.</span><span class="sxs-lookup"><span data-stu-id="6063f-124">For example, monitoring tells you whether you are meeting your SLA.</span></span> <span data-ttu-id="6063f-125">Мониторинг выполняется во время обычной работы системы.</span><span class="sxs-lookup"><span data-stu-id="6063f-125">Monitoring happens during the normal operation of the system.</span></span> <span data-ttu-id="6063f-126">Он должен быть максимально приближен к режиму реального времени, чтобы группа эксплуатации могла быстро реагировать на любые проблемы.</span><span class="sxs-lookup"><span data-stu-id="6063f-126">It should be as close to real-time as possible, so that the operations staff can react to issues quickly.</span></span> <span data-ttu-id="6063f-127">Идеально реализованный мониторинг позволит предотвратить проблемы до того, как они приведут к критическому сбою.</span><span class="sxs-lookup"><span data-stu-id="6063f-127">Ideally, monitoring can help avert problems before they lead to a critical failure.</span></span> <span data-ttu-id="6063f-128">Дополнительные сведения см. в статье [Monitoring and diagnostics][monitoring] (Мониторинг и диагностика).</span><span class="sxs-lookup"><span data-stu-id="6063f-128">For more information, see [Monitoring and diagnostics][monitoring].</span></span>

<span data-ttu-id="6063f-129">**Обеспечьте средство анализа первопричин.**</span><span class="sxs-lookup"><span data-stu-id="6063f-129">**Instrument for root cause analysis**.</span></span> <span data-ttu-id="6063f-130">Анализ первопричин — это процесс поиска основной причины ошибки.</span><span class="sxs-lookup"><span data-stu-id="6063f-130">Root cause analysis is the process of finding the underlying cause of failures.</span></span> <span data-ttu-id="6063f-131">Он выполняется уже после того, как произошел сбой.</span><span class="sxs-lookup"><span data-stu-id="6063f-131">It occurs after a failure has already happened.</span></span>

<span data-ttu-id="6063f-132">**Используйте распределенную трассировку.**</span><span class="sxs-lookup"><span data-stu-id="6063f-132">**Use distributed tracing**.</span></span> <span data-ttu-id="6063f-133">Примените систему распределенной трассировки, охватывающую параллелизм, асинхронность и облачные масштабы.</span><span class="sxs-lookup"><span data-stu-id="6063f-133">Use a distributed tracing system that is designed for concurrency, asynchrony, and cloud scale.</span></span> <span data-ttu-id="6063f-134">При трассировке должен использоваться идентификатор корреляции, единый для всех служб приложения.</span><span class="sxs-lookup"><span data-stu-id="6063f-134">Traces should include a correlation ID that flows across service boundaries.</span></span> <span data-ttu-id="6063f-135">Одна операция может содержать множество вызовов к разным службам приложения.</span><span class="sxs-lookup"><span data-stu-id="6063f-135">A single operation may involve calls to multiple application services.</span></span> <span data-ttu-id="6063f-136">В случае сбоя такой операции идентификатор корреляции поможет найти причину сбоя.</span><span class="sxs-lookup"><span data-stu-id="6063f-136">If an operation fails, the correlation ID helps to pinpoint the cause of the failure.</span></span>

<span data-ttu-id="6063f-137">**Стандартизируйте журналы и метрики.**</span><span class="sxs-lookup"><span data-stu-id="6063f-137">**Standardize logs and metrics**.</span></span> <span data-ttu-id="6063f-138">Группой эксплуатации будут собираться журналы из нескольких служб, развернутых в решении.</span><span class="sxs-lookup"><span data-stu-id="6063f-138">The operations team will need to aggregate logs from across the various services in your solution.</span></span> <span data-ttu-id="6063f-139">Если в каждой службе используется индивидуальный формат журнала, будет сложно или даже невозможно получить полезные сведения из таких журналов.</span><span class="sxs-lookup"><span data-stu-id="6063f-139">If every service uses its own logging format, it becomes difficult or impossible to get useful information from them.</span></span> <span data-ttu-id="6063f-140">Создайте общую схему и описания полей, например идентификатор корреляции, имя события, IP-адрес отправителя и т. д.</span><span class="sxs-lookup"><span data-stu-id="6063f-140">Define a common schema that includes fields such as correlation ID, event name, IP address of the sender, and so forth.</span></span> <span data-ttu-id="6063f-141">Для отдельных служб можно создавать пользовательские схемы, которые наследуют формат базовой схемы и содержат дополнительные поля.</span><span class="sxs-lookup"><span data-stu-id="6063f-141">Individual services can derive custom schemas that inherit the base schema, and contain additional fields.</span></span>

<span data-ttu-id="6063f-142">**Автоматизируйте задачи управления**, в том числе процессы подготовки, развертывания и мониторинга.</span><span class="sxs-lookup"><span data-stu-id="6063f-142">**Automate management tasks**, including provisioning, deployment, and monitoring.</span></span> <span data-ttu-id="6063f-143">Автоматизация задач позволяет легко повторять их с меньшей вероятностью ошибок оператора.</span><span class="sxs-lookup"><span data-stu-id="6063f-143">Automating a task makes it repeatable and less prone to human errors.</span></span>

<span data-ttu-id="6063f-144">**Считайте конфигурацию собственным кодом.**</span><span class="sxs-lookup"><span data-stu-id="6063f-144">**Treat configuration as code**.</span></span> <span data-ttu-id="6063f-145">Включите файлы конфигурации в систему управления версиями, чтобы отслеживать изменения в них, вести учет версий и отменять изменения при необходимости.</span><span class="sxs-lookup"><span data-stu-id="6063f-145">Check configuration files into a version control system, so that you can track and version your changes, and roll back if needed.</span></span>

<!-- links -->

[monitoring]: ../../best-practices/monitoring.md
