---
title: Выбор правильного хранилища данных
titleSuffix: Azure Application Architecture Guide
description: Общие сведения о выборе хранилищ данных в Azure
author: MikeWasson
ms.date: 06/01/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 91a551025ae697d5828fc1e398b204d2901d17f6
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58242025"
---
# <a name="choose-the-right-data-store"></a><span data-ttu-id="1f9db-103">Выбор правильного хранилища данных</span><span class="sxs-lookup"><span data-stu-id="1f9db-103">Choose the right data store</span></span>

<span data-ttu-id="1f9db-104">Объем обрабатываемых данных в современных бизнес-системах постоянно растет.</span><span class="sxs-lookup"><span data-stu-id="1f9db-104">Modern business systems manage increasingly large volumes of data.</span></span> <span data-ttu-id="1f9db-105">Эти данные могут поступать из внешних служб, создаваться самой системой или пользователями.</span><span class="sxs-lookup"><span data-stu-id="1f9db-105">Data may be ingested from external services, generated by the system itself, or created by users.</span></span> <span data-ttu-id="1f9db-106">Наборы данных могут имеют очень разные характеристики и требования к обработке.</span><span class="sxs-lookup"><span data-stu-id="1f9db-106">These data sets may have extremely varied characteristics and processing requirements.</span></span> <span data-ttu-id="1f9db-107">Организации используют данные для оценки тенденций, запуска бизнес-процессов, аудита операций, анализа поведения клиентов и многих других задач.</span><span class="sxs-lookup"><span data-stu-id="1f9db-107">Businesses use data to assess trends, trigger business processes, audit their operations, analyze customer behavior, and many other things.</span></span>

<span data-ttu-id="1f9db-108">Такая разнородность означает, что единственное хранилище данных редко будет оптимальным решением.</span><span class="sxs-lookup"><span data-stu-id="1f9db-108">This heterogeneity means that a single data store is usually not the best approach.</span></span> <span data-ttu-id="1f9db-109">Вместо этого данные разных типов лучше хранить в разных хранилищах данных, каждое из которых оптимизировано под конкретный шаблон использования или конкретную рабочую нагрузку.</span><span class="sxs-lookup"><span data-stu-id="1f9db-109">Instead, it's often better to store different types of data in different data stores, each focused towards a specific workload or usage pattern.</span></span> <span data-ttu-id="1f9db-110">Термин *многоязычное хранение* обозначает решения, в которых сочетаются разные технологии хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-110">The term *polyglot persistence* is used to describe solutions that use a mix of data store technologies.</span></span>

<span data-ttu-id="1f9db-111">Выбор правильного хранилища данных, соответствующего всем требованиям, является для проекта ключевым решением.</span><span class="sxs-lookup"><span data-stu-id="1f9db-111">Selecting the right data store for your requirements is a key design decision.</span></span> <span data-ttu-id="1f9db-112">Выбирать приходится буквально из сотен реализаций баз данных SQL и NoSQL.</span><span class="sxs-lookup"><span data-stu-id="1f9db-112">There are literally hundreds of implementations to choose from among SQL and NoSQL databases.</span></span> <span data-ttu-id="1f9db-113">Хранилища данных обычно различают по методам структурирования данных и типам поддерживаемых операций.</span><span class="sxs-lookup"><span data-stu-id="1f9db-113">Data stores are often categorized by how they structure data and the types of operations they support.</span></span> <span data-ttu-id="1f9db-114">В этой статье описаны несколько самых распространенных моделей хранилища.</span><span class="sxs-lookup"><span data-stu-id="1f9db-114">This article describes several of the most common storage models.</span></span> <span data-ttu-id="1f9db-115">Обратите внимание, что некоторые технологии хранилища данных поддерживают несколько моделей хранилища.</span><span class="sxs-lookup"><span data-stu-id="1f9db-115">Note that a particular data store technology may support multiple storage models.</span></span> <span data-ttu-id="1f9db-116">Например, реляционная СУБД поддерживает технологии хранилища пар "ключ — значение" или графов.</span><span class="sxs-lookup"><span data-stu-id="1f9db-116">For example, a relational database management systems (RDBMS) may also support key/value or graph storage.</span></span> <span data-ttu-id="1f9db-117">В настоящее время существует тенденция применять *многомодельные* системы баз данных, которые поддерживают несколько моделей хранилища.</span><span class="sxs-lookup"><span data-stu-id="1f9db-117">In fact, there is a general trend for so-called *multimodel* support, where a single database system supports several models.</span></span> <span data-ttu-id="1f9db-118">Но узнать о других моделях будет полезно в любом случае.</span><span class="sxs-lookup"><span data-stu-id="1f9db-118">But it's still useful to understand the different models at a high level.</span></span>

<span data-ttu-id="1f9db-119">Хранилища данных, включенные в одну категорию, не обязательно предоставляют одинаковый набор возможностей.</span><span class="sxs-lookup"><span data-stu-id="1f9db-119">Not all data stores in a given category provide the same feature-set.</span></span> <span data-ttu-id="1f9db-120">Большинство хранилищ данных выполняют обработку запросов и данных на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="1f9db-120">Most data stores provide server-side functionality to query and process data.</span></span> <span data-ttu-id="1f9db-121">Иногда эта функция встроена в подсистему хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-121">Sometimes this functionality is built into the data storage engine.</span></span> <span data-ttu-id="1f9db-122">В других случаях функции обработки данных вынесены в отдельный модуль или несколько модулей для обработки и анализа.</span><span class="sxs-lookup"><span data-stu-id="1f9db-122">In other cases, the data storage and processing capabilities are separated, and there may be several options for processing and analysis.</span></span> <span data-ttu-id="1f9db-123">Хранилища данных также поддерживают разные интерфейсы программного доступа и управления.</span><span class="sxs-lookup"><span data-stu-id="1f9db-123">Data stores also support different programmatic and management interfaces.</span></span>

<span data-ttu-id="1f9db-124">Для начала вам следует решить, какая модель хранилища отвечает вашим требованиям.</span><span class="sxs-lookup"><span data-stu-id="1f9db-124">Generally, you should start by considering which storage model is best suited for your requirements.</span></span> <span data-ttu-id="1f9db-125">Затем найдите конкретное хранилище данных в этой категории, учитывая такие факторы, как набор функций, стоимость и простота управления.</span><span class="sxs-lookup"><span data-stu-id="1f9db-125">Then consider a particular data store within that category, based on factors such as feature set, cost, and ease of management.</span></span>

## <a name="relational-database-management-systems"></a><span data-ttu-id="1f9db-126">Реляционные СУБД</span><span class="sxs-lookup"><span data-stu-id="1f9db-126">Relational database management systems</span></span>

<span data-ttu-id="1f9db-127">Реляционные базы данных хранят данные в наборе двумерных таблиц со строками и столбцами.</span><span class="sxs-lookup"><span data-stu-id="1f9db-127">Relational databases organize data as a series of two-dimensional tables with rows and columns.</span></span> <span data-ttu-id="1f9db-128">Каждая таблица имеет собственный набор столбцов, который применяется для каждой строки в этой таблице.</span><span class="sxs-lookup"><span data-stu-id="1f9db-128">Each table has its own columns, and every row in a table has the same set of columns.</span></span> <span data-ttu-id="1f9db-129">Эта модель основана на математических алгоритмах. Большинство поставщиков предлагает один из диалектов языка структурированных запросов (SQL) для извлечения данных и управления ими.</span><span class="sxs-lookup"><span data-stu-id="1f9db-129">This model is mathematically based, and most vendors provide a dialect of the Structured Query Language (SQL) for retrieving and managing data.</span></span> <span data-ttu-id="1f9db-130">Как правило, реляционная СУБД реализует для обновления информации транзакционно согласованный механизм, который соответствует модели ACID (Atomic = атомарность, Consistent = согласованность, Isolated = изоляция, Durable = устойчивость).</span><span class="sxs-lookup"><span data-stu-id="1f9db-130">An RDBMS typically implements a transactionally consistent mechanism that conforms to the ACID (Atomic, Consistent, Isolated, Durable) model for updating information.</span></span>

<span data-ttu-id="1f9db-131">Реляционная СУБД часто поддерживает модель "схема для записи". В этой схеме сначала определяется структура данных, а затем она применяется для всех операций чтения или записи.</span><span class="sxs-lookup"><span data-stu-id="1f9db-131">An RDBMS typically supports a schema-on-write model, where the data structure is defined ahead of time, and all read or write operations must use the schema.</span></span> <span data-ttu-id="1f9db-132">Это важное отличие от большинства хранилищ данных NoSQL, особенно от хранилищ данных формата "ключ — значение". Такие хранилища используют модель "схема для чтения", при которой клиент использует собственную схему для интерпретации поступающих данных из базы данных, но не имеет никакой информации о формате данных, которые записываются.</span><span class="sxs-lookup"><span data-stu-id="1f9db-132">This is in contrast to most NoSQL data stores, particularly key/value types, where the schema-on-read model assumes that the client will be imposing its own interpretive schema on data coming out of the database, and is agnostic to the data format being written.</span></span>

<span data-ttu-id="1f9db-133">Реляционная СУБД очень удобна для сценариев, в которых важна строгая согласованность. Все изменения являются атомарными, а каждая транзакция сохраняет согласованность данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-133">An RDBMS is very useful when strong consistency guarantees are important &mdash; where all changes are atomic, and transactions always leave the data in a consistent state.</span></span> <span data-ttu-id="1f9db-134">Однако базовые структуры этой модели не поддерживают горизонтальное масштабирование, при котором хранение и обработка данных распределяются между несколькими компьютерами.</span><span class="sxs-lookup"><span data-stu-id="1f9db-134">However, the underlying structures do not lend themselves to scaling out by distributing storage and processing across machines.</span></span> <span data-ttu-id="1f9db-135">Кроме того, сохраняемые в реляционной СУБД должны быть нормализованы для соответствия реляционной структуре.</span><span class="sxs-lookup"><span data-stu-id="1f9db-135">Also, information stored in an RDBMS, must be put into a relational structure by following the normalization process.</span></span> <span data-ttu-id="1f9db-136">Этот процесс хорошо известен, но может снижать эффективность работы. Сохраняемые логические сущности разделяются на строки в отдельных таблицах, а при выполнении запросов данные собираются снова.</span><span class="sxs-lookup"><span data-stu-id="1f9db-136">While this process is well understood, it can lead to inefficiencies, because of the need to disassemble logical entities into rows in separate tables, and then reassemble the data when running queries.</span></span>

<span data-ttu-id="1f9db-137">Соответствующие службы Azure:</span><span class="sxs-lookup"><span data-stu-id="1f9db-137">Relevant Azure service:</span></span>

- <span data-ttu-id="1f9db-138">[База данных SQL Azure][sql-db]</span><span class="sxs-lookup"><span data-stu-id="1f9db-138">[Azure SQL Database][sql-db]</span></span>
- <span data-ttu-id="1f9db-139">[База данных Azure для MySQL][mysql]</span><span class="sxs-lookup"><span data-stu-id="1f9db-139">[Azure Database for MySQL][mysql]</span></span>
- <span data-ttu-id="1f9db-140">[База данных Azure для PostgreSQL][postgres]</span><span class="sxs-lookup"><span data-stu-id="1f9db-140">[Azure Database for PostgreSQL][postgres]</span></span>

## <a name="keyvalue-stores"></a><span data-ttu-id="1f9db-141">Хранилище пар "ключ — значение"</span><span class="sxs-lookup"><span data-stu-id="1f9db-141">Key/value stores</span></span>

<span data-ttu-id="1f9db-142">Хранилище пар "ключ — значение" по сути представляет собой большую хэш-таблицу.</span><span class="sxs-lookup"><span data-stu-id="1f9db-142">A key/value store is essentially a large hash table.</span></span> <span data-ttu-id="1f9db-143">Каждое значение сопоставляется с уникальным ключом, и хранилище ключей использует этот ключ для хранения данных, применяя к нему некоторую функцию хэширования.</span><span class="sxs-lookup"><span data-stu-id="1f9db-143">You associate each data value with a unique key, and the key/value store uses this key to store the data by using an appropriate hashing function.</span></span> <span data-ttu-id="1f9db-144">Выбор функции хэширования должен обеспечить равномерное распределение хэшированных ключей по хранилищу данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-144">The hashing function is selected to provide an even distribution of hashed keys across the data storage.</span></span>

<span data-ttu-id="1f9db-145">Большинство хранилищ пар "ключ — значение" поддерживают только самые простые операции запроса, вставки и удаления.</span><span class="sxs-lookup"><span data-stu-id="1f9db-145">Most key/value stores only support simple query, insert, and delete operations.</span></span> <span data-ttu-id="1f9db-146">Чтобы частично или полностью изменить значение, приложение всегда перезаписывает существующее значение целиком.</span><span class="sxs-lookup"><span data-stu-id="1f9db-146">To modify a value (either partially or completely), an application must overwrite the existing data for the entire value.</span></span> <span data-ttu-id="1f9db-147">В большинстве реализаций атомарной операцией считается чтение или запись одного значения.</span><span class="sxs-lookup"><span data-stu-id="1f9db-147">In most implementations, reading or writing a single value is an atomic operation.</span></span> <span data-ttu-id="1f9db-148">Запись больших значений занимает относительно долгое время.</span><span class="sxs-lookup"><span data-stu-id="1f9db-148">If the value is large, writing may take some time.</span></span>

<span data-ttu-id="1f9db-149">Приложение может хранить в наборе значений произвольные данные, но некоторые хранилища пар "ключ — значение" накладывают ограничения на максимальный размер значений.</span><span class="sxs-lookup"><span data-stu-id="1f9db-149">An application can store arbitrary data as a set of values, although some key/value stores impose limits on the maximum size of values.</span></span> <span data-ttu-id="1f9db-150">Программное обеспечение хранилища ничего не знает о значениях, которые в нем хранятся.</span><span class="sxs-lookup"><span data-stu-id="1f9db-150">The stored values are opaque to the storage system software.</span></span> <span data-ttu-id="1f9db-151">Все сведения о схеме поддерживаются и применяются на уровне приложения.</span><span class="sxs-lookup"><span data-stu-id="1f9db-151">Any schema information must be provided and interpreted by the application.</span></span> <span data-ttu-id="1f9db-152">Эти значения по существу являются большими двоичными объектами, которые хранилище извлекает и сохраняет по соответствующему ключу.</span><span class="sxs-lookup"><span data-stu-id="1f9db-152">Essentially, values are blobs and the key/value store simply retrieves or stores the value by key.</span></span>

![Схема хранилища пар "ключ — значение"](./images/key-value.png)

<span data-ttu-id="1f9db-154">Хранилища пар "ключ — значение" хорошо оптимизированы для приложений, выполняющих простой поиск, но не очень подходят для систем, которым нужно выполнять запросы к нескольким хранилищам пар "ключ — значение".</span><span class="sxs-lookup"><span data-stu-id="1f9db-154">Key/value stores are highly optimized for applications performing simple lookups, but are less suitable for systems that need to query data across different key/value stores.</span></span> <span data-ttu-id="1f9db-155">Также хранилища пар "ключ — значение" неудобны для сценариев, где могут выполняться запросы по значению, а не только по ключам.</span><span class="sxs-lookup"><span data-stu-id="1f9db-155">Key/value stores are also not optimized for scenarios where querying by value is important, rather than performing lookups based only on keys.</span></span> <span data-ttu-id="1f9db-156">Например, в реляционной базе данных вы можете найти определенную запись с помощью предложения WHERE, но хранилища пар "ключ — значение" обычно не поддерживают такие возможности.</span><span class="sxs-lookup"><span data-stu-id="1f9db-156">For example, with a relational database, you can find a record by using a WHERE clause, but key/values stores usually do not have this type of lookup capability for values.</span></span>

<span data-ttu-id="1f9db-157">Одно хранилище пар "ключ — значение" очень легко масштабируется, поскольку позволяет удобно распределить данные среди нескольких узлов на разных компьютерах.</span><span class="sxs-lookup"><span data-stu-id="1f9db-157">A single key/value store can be extremely scalable, as the data store can easily distribute data across multiple nodes on separate machines.</span></span>

<span data-ttu-id="1f9db-158">Соответствующие службы Azure:</span><span class="sxs-lookup"><span data-stu-id="1f9db-158">Relevant Azure services:</span></span>

- <span data-ttu-id="1f9db-159">[Cosmos DB][cosmosdb]</span><span class="sxs-lookup"><span data-stu-id="1f9db-159">[Cosmos DB][cosmosdb]</span></span>
- <span data-ttu-id="1f9db-160">[Кэш Azure Redis][redis-cache]</span><span class="sxs-lookup"><span data-stu-id="1f9db-160">[Azure Redis Cache][redis-cache]</span></span>

## <a name="document-databases"></a><span data-ttu-id="1f9db-161">Базы данных документов</span><span class="sxs-lookup"><span data-stu-id="1f9db-161">Document databases</span></span>

<span data-ttu-id="1f9db-162">База данных документов организационно близка к хранилищу пар "ключ — значение", но поддерживает хранение коллекции именованных полей и данных (которые здесь называются документами), которые могут быть простыми скалярными элементами или составными элементами, например списком или дочерней коллекцией.</span><span class="sxs-lookup"><span data-stu-id="1f9db-162">A document database is conceptually similar to a key/value store, except that it stores a collection of named fields and data (known as documents), each of which could be simple scalar items or compound elements such as lists and child collections.</span></span> <span data-ttu-id="1f9db-163">Данные в полях документа можно закодировать разными способами, например в формате XML, YAML, JSON, BSON, или хранить в виде обычного текста.</span><span class="sxs-lookup"><span data-stu-id="1f9db-163">The data in the fields of a document can be encoded in a variety of ways, including XML, YAML, JSON, BSON,or even stored as plain text.</span></span> <span data-ttu-id="1f9db-164">В отличие от хранилища пар "ключ — значение", поля документов доступны системе управления хранилищем, что позволяет приложению выполнять запросы и применять фильтры, основанные на значениях этих полей.</span><span class="sxs-lookup"><span data-stu-id="1f9db-164">Unlike key/value stores, the fields in documents are exposed to the storage management system, enabling an application to query and filter data by using the values in these fields.</span></span>

<span data-ttu-id="1f9db-165">Как правило, документ содержит все данные одной сущности.</span><span class="sxs-lookup"><span data-stu-id="1f9db-165">Typically, a document contains the entire data for an entity.</span></span> <span data-ttu-id="1f9db-166">Состав элементов для каждой сущности зависит от конкретного приложения.</span><span class="sxs-lookup"><span data-stu-id="1f9db-166">What items constitute an entity are application specific.</span></span> <span data-ttu-id="1f9db-167">Например, сущность может содержать сведения о клиенте, заказе или и те, и другие.</span><span class="sxs-lookup"><span data-stu-id="1f9db-167">For example, an entity could contain the details of a customer, an order, or a combination of both.</span></span> <span data-ttu-id="1f9db-168">Один документ может содержать сведения, которые в реляционной СУБД обычно распределяются по нескольким реляционным таблицам.</span><span class="sxs-lookup"><span data-stu-id="1f9db-168">A single document may contain information that would be spread across several relational tables in an RDBMS.</span></span>

<span data-ttu-id="1f9db-169">Хранилище документов не обязывает использовать одинаковую структуру для всех документов.</span><span class="sxs-lookup"><span data-stu-id="1f9db-169">A document store does not require that all documents have the same structure.</span></span> <span data-ttu-id="1f9db-170">Поддержка свободной формы обеспечивает большую гибкость.</span><span class="sxs-lookup"><span data-stu-id="1f9db-170">This free-form approach provides a great deal of flexibility.</span></span> <span data-ttu-id="1f9db-171">Приложения могут хранить в документах разные данные в соответствии с текущими требованиями компании.</span><span class="sxs-lookup"><span data-stu-id="1f9db-171">Applications can store different data in documents as business requirements change.</span></span>

![Схема хранилища документов](./images/document.png)

<span data-ttu-id="1f9db-173">Приложение может получать документы по ключу документа.</span><span class="sxs-lookup"><span data-stu-id="1f9db-173">The application can retrieve documents by using the document key.</span></span> <span data-ttu-id="1f9db-174">Это уникальный идентификатор документа. Часто к нему применяется хэширование для равномерного распределения данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-174">This is a unique identifier for the document, which is often hashed, to help distribute data evenly.</span></span> <span data-ttu-id="1f9db-175">Некоторые базы данных документов создают ключ документа автоматически.</span><span class="sxs-lookup"><span data-stu-id="1f9db-175">Some document databases create the document key automatically.</span></span> <span data-ttu-id="1f9db-176">Другие позволяют указать, какой атрибут документа следует использовать в качестве ключа.</span><span class="sxs-lookup"><span data-stu-id="1f9db-176">Others enable you to specify an attribute of the document to use as the key.</span></span> <span data-ttu-id="1f9db-177">Также приложение может запрашивать документы по значениям одного или нескольких полей.</span><span class="sxs-lookup"><span data-stu-id="1f9db-177">The application can also query documents based on the value of one or more fields.</span></span> <span data-ttu-id="1f9db-178">Некоторые базы данных документов поддерживают индексирование, что ускоряет поиск документов по одному или нескольким индексированным полям.</span><span class="sxs-lookup"><span data-stu-id="1f9db-178">Some document databases support indexing to facilitate fast lookup of documents based on one or more indexed fields.</span></span>

<span data-ttu-id="1f9db-179">Многие базы данных документов поддерживают обновления "на месте", то есть позволяют приложению изменять значения отдельных полей без перезаписи всего документа.</span><span class="sxs-lookup"><span data-stu-id="1f9db-179">Many document databases support in-place updates, enabling an application to modify the values of specific fields in a document without rewriting the entire document.</span></span> <span data-ttu-id="1f9db-180">Операции чтения и записи в нескольких полях одного документа обычно являются атомарными.</span><span class="sxs-lookup"><span data-stu-id="1f9db-180">Read and write operations over multiple fields in a single document are usually atomic.</span></span>

<span data-ttu-id="1f9db-181">Соответствующие службы Azure: [Cosmos DB][cosmosdb]</span><span class="sxs-lookup"><span data-stu-id="1f9db-181">Relevant Azure service: [Cosmos DB][cosmosdb]</span></span>

## <a name="graph-databases"></a><span data-ttu-id="1f9db-182">Базы данных графов</span><span class="sxs-lookup"><span data-stu-id="1f9db-182">Graph databases</span></span>

<span data-ttu-id="1f9db-183">База данных графов хранит сведения двух типов: узлы и грани.</span><span class="sxs-lookup"><span data-stu-id="1f9db-183">A graph database stores two types of information, nodes and edges.</span></span> <span data-ttu-id="1f9db-184">Узлы в этой модели можно считать сущностями.</span><span class="sxs-lookup"><span data-stu-id="1f9db-184">You can think of nodes as entities.</span></span> <span data-ttu-id="1f9db-185">Грани определяют связи между узлами.</span><span class="sxs-lookup"><span data-stu-id="1f9db-185">Edges which specify the relationships between nodes.</span></span> <span data-ttu-id="1f9db-186">Узлы и грани имеют свойства, которые предоставляют сведения о конкретном узле или грани, примерно как столбцы в реляционной таблице.</span><span class="sxs-lookup"><span data-stu-id="1f9db-186">Both nodes and edges can have properties that provide information about that node or edge, similar to columns in a table.</span></span> <span data-ttu-id="1f9db-187">Грани могут иметь направление, указывающее на характер связи.</span><span class="sxs-lookup"><span data-stu-id="1f9db-187">Edges can also have a direction indicating the nature of the relationship.</span></span>

<span data-ttu-id="1f9db-188">База данных графов позволяет приложениям эффективно выполнять запросы, которые проходят через сеть узлов и граней, а также анализировать связи между сущностями.</span><span class="sxs-lookup"><span data-stu-id="1f9db-188">The purpose of a graph database is to allow an application to efficiently perform queries that traverse the network of nodes and edges, and to analyze the relationships between entities.</span></span> <span data-ttu-id="1f9db-189">На следующей схеме представлена база данных персонала организации, структурированная в виде графа.</span><span class="sxs-lookup"><span data-stu-id="1f9db-189">The following diagram shows an organization's personnel database structured as a graph.</span></span> <span data-ttu-id="1f9db-190">Сущностями здесь являются сотрудники и отделы, а грани определяют отношения подчинения и отдел, в котором работает каждый сотрудник.</span><span class="sxs-lookup"><span data-stu-id="1f9db-190">The entities are employees and departments, and the edges indicate reporting relationships and the department in which employees work.</span></span> <span data-ttu-id="1f9db-191">На этом графе грани имеют строгое направление, которое на схеме обозначено стрелками.</span><span class="sxs-lookup"><span data-stu-id="1f9db-191">In this graph, the arrows on the edges show the direction of the relationships.</span></span>

![Схема базы данных документов](./images/graph.png)

<span data-ttu-id="1f9db-193">Такая структура позволяет легко выполнять такие запросы, как "найти всех сотрудников, которые прямо или косвенно подчиняются Светлане" или "найти всех, кто работает в одном отделе с Дмитрием".</span><span class="sxs-lookup"><span data-stu-id="1f9db-193">This structure makes it straightforward to perform queries such as "Find all employees who report directly or indirectly to Sarah" or "Who works in the same department as John?"</span></span> <span data-ttu-id="1f9db-194">Процессы сложного анализа выполняются очень быстро, даже на больших графах с большим количеством сущностей и связей.</span><span class="sxs-lookup"><span data-stu-id="1f9db-194">For large graphs with lots of entities and relationships, you can perform very complex analyses very quickly.</span></span> <span data-ttu-id="1f9db-195">Многие базы данных графов предоставляют язык запросов, который можно использовать для эффективного обхода сети связей.</span><span class="sxs-lookup"><span data-stu-id="1f9db-195">Many graph databases provide a query language that you can use to traverse a network of relationships efficiently.</span></span>

<span data-ttu-id="1f9db-196">Соответствующие службы Azure: [Cosmos DB][cosmosdb]</span><span class="sxs-lookup"><span data-stu-id="1f9db-196">Relevant Azure service: [Cosmos DB][cosmosdb]</span></span>

## <a name="column-family-databases"></a><span data-ttu-id="1f9db-197">Базы данных столбцов</span><span class="sxs-lookup"><span data-stu-id="1f9db-197">Column-family databases</span></span>

<span data-ttu-id="1f9db-198">Базы данных столбцов хранят распределяют данные по строкам и столбцам.</span><span class="sxs-lookup"><span data-stu-id="1f9db-198">A column-family database organizes data into rows and columns.</span></span> <span data-ttu-id="1f9db-199">База данных столбцов в простейшей форме почти неотличима от реляционной базы данных, по крайней мере организационно.</span><span class="sxs-lookup"><span data-stu-id="1f9db-199">In its simplest form, a column-family database can appear very similar to a relational database, at least conceptually.</span></span> <span data-ttu-id="1f9db-200">Настоящим преимуществом базы данных столбцов является способность денормализованно структурировать разреженные данные.</span><span class="sxs-lookup"><span data-stu-id="1f9db-200">The real power of a column-family database lies in its denormalized approach to structuring sparse data.</span></span>

<span data-ttu-id="1f9db-201">Базу данных столбцов можно представить как набор табличных данных со строками и столбцами, в которых столбцы разделяются на определенные группы или *семейства столбцов*.</span><span class="sxs-lookup"><span data-stu-id="1f9db-201">You can think of a column-family database as holding tabular data with rows and columns, but the columns are divided into groups known as *column families*.</span></span> <span data-ttu-id="1f9db-202">Каждое семейство столбцов включает набор логически связанных столбцов, которые обычно извлекаются или управляются как единое целое.</span><span class="sxs-lookup"><span data-stu-id="1f9db-202">Each column family holds a set of columns that are logically related together and are typically retrieved or manipulated as a unit.</span></span> <span data-ttu-id="1f9db-203">Другие данные, которые используются в других процессах, хранятся отдельно в других семействах столбцов.</span><span class="sxs-lookup"><span data-stu-id="1f9db-203">Other data that is accessed separately can be stored in separate column families.</span></span> <span data-ttu-id="1f9db-204">В семейство столбцов можно динамически добавить новые столбцы, а строки могут быть разреженными (то есть строки не обязаны иметь значение для каждого столбца).</span><span class="sxs-lookup"><span data-stu-id="1f9db-204">Within a column family, new columns can be added dynamically, and rows can be sparse (that is, a row doesn't need to have a value for every column).</span></span>

<span data-ttu-id="1f9db-205">На следующей диаграмме представлен пример таблицы с двумя семействами столбцов: `Identity` и `Contact Info`.</span><span class="sxs-lookup"><span data-stu-id="1f9db-205">The following diagram shows an example with two column families, `Identity` and `Contact Info`.</span></span> <span data-ttu-id="1f9db-206">Данные для одной сущности имеют одинаковые ключи строк во всех семействах столбцов.</span><span class="sxs-lookup"><span data-stu-id="1f9db-206">The data for a single entity has the same row key in each column-family.</span></span> <span data-ttu-id="1f9db-207">Такая структура, в которой строки любого объекта в семействе столбцов могут динамически изменяться, определяет важное преимущество этой категории баз данных. Семейства столбцов очень хорошо подходят для хранения структурированных изменчивых данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-207">This structure, where the rows for any given object in a column family can vary dynamically, is an important benefit of the column-family approach, making this form of data store highly suited for storing structured, volatile data.</span></span>

![Схема базы данных семейства столбцов](./images/column-family.png)

<span data-ttu-id="1f9db-209">В отличие от хранилища пар "ключ — значение" и баз данных документов, большинство хранилищ столбцов используют для упорядоченного хранения данных сами значения ключей, а не хэш-коды от них.</span><span class="sxs-lookup"><span data-stu-id="1f9db-209">Unlike a key/value store or a document database, most column-family databases store data in key order, rather than by computing a hash.</span></span> <span data-ttu-id="1f9db-210">Многие реализации позволяют создавать индексы по определенным столбцам в семействе столбцов.</span><span class="sxs-lookup"><span data-stu-id="1f9db-210">Many implementations allow you to create indexes over specific columns in a column-family.</span></span> <span data-ttu-id="1f9db-211">Индексы позволяют получать данные по значениям столбцов, а не ключам строки.</span><span class="sxs-lookup"><span data-stu-id="1f9db-211">Indexes let you retrieve data by columns value, rather than row key.</span></span>

<span data-ttu-id="1f9db-212">Чтение и запись одной строки для одного семейства столбцов обычно являются атомарными операциями. Но некоторые реализации поддерживают атомарность для всей строки, распределенной по нескольким семействам столбцов.</span><span class="sxs-lookup"><span data-stu-id="1f9db-212">Read and write operations for a row are usually atomic with a single column-family, although some implementations provide atomicity across the entire row, spanning multiple column-families.</span></span>

<span data-ttu-id="1f9db-213">Соответствующие службы Azure: [Использование HBase в HDInsight][hbase]</span><span class="sxs-lookup"><span data-stu-id="1f9db-213">Relevant Azure service: [HBase in HDInsight][hbase]</span></span>

## <a name="data-analytics"></a><span data-ttu-id="1f9db-214">Аналитика данных</span><span class="sxs-lookup"><span data-stu-id="1f9db-214">Data analytics</span></span>

<span data-ttu-id="1f9db-215">Хранилища аналитики данных предоставляют решения для масштабной параллельной обработки, хранения и анализа данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-215">Data analytics stores provide massively parallel solutions for ingesting, storing, and analyzing data.</span></span> <span data-ttu-id="1f9db-216">Данные в них распределяются по нескольким серверам с полностью автономной архитектурой, что позволяет добиться максимальной масштабируемости и минимизировать зависимости.</span><span class="sxs-lookup"><span data-stu-id="1f9db-216">This data is distributed across multiple servers using a share-nothing architecture to maximize scalability and minimize dependencies.</span></span> <span data-ttu-id="1f9db-217">Скорее всего, эти данные не будут статическими, поэтому такие хранилища должны уметь обрабатывать большие объемы информации, поступающей несколькими потоками в разных форматах, не прекращая обработки запросов.</span><span class="sxs-lookup"><span data-stu-id="1f9db-217">The data is unlikely to be static, so these stores must be able to handle large quantities of information, arriving in a variety of formats from multiple streams, while continuing to process new queries.</span></span>

<span data-ttu-id="1f9db-218">Соответствующие службы Azure:</span><span class="sxs-lookup"><span data-stu-id="1f9db-218">Relevant Azure services:</span></span>

- <span data-ttu-id="1f9db-219">[Хранилище данных SQL][sql-dw]</span><span class="sxs-lookup"><span data-stu-id="1f9db-219">[SQL Data Warehouse][sql-dw]</span></span>
- <span data-ttu-id="1f9db-220">[Azure Data Lake][data-lake]</span><span class="sxs-lookup"><span data-stu-id="1f9db-220">[Azure Data Lake][data-lake]</span></span>

## <a name="search-engine-databases"></a><span data-ttu-id="1f9db-221">Базы данных поисковой системы</span><span class="sxs-lookup"><span data-stu-id="1f9db-221">Search Engine Databases</span></span>  

<span data-ttu-id="1f9db-222">База данных поисковой системы позволяет выполнять поиск информации, которая хранится во внешних хранилищах и службах.</span><span class="sxs-lookup"><span data-stu-id="1f9db-222">A search engine database supports the ability to search for information held in external data stores and services.</span></span> <span data-ttu-id="1f9db-223">База данных поисковой системы способна индексировать огромные объемы данных и предоставляет доступ к этим индексам почти в реальном времени.</span><span class="sxs-lookup"><span data-stu-id="1f9db-223">A search engine database can be used to index massive volumes of data and provide near real-time access to these indexes.</span></span> <span data-ttu-id="1f9db-224">Обычно считается, что базы данных поисковой системы созданы исключительно для веб-сайтов, но многие крупные системы используют их для предоставления функций структурированного и поиска ad-hoc по собственным базам данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-224">Although search engine databases are commonly thought of as being synonymous with the web, many large-scale systems use them to provide structured and ad-hoc search capabilities on top of their own databases.</span></span>

<span data-ttu-id="1f9db-225">Ключевые характеристики базы данных поисковой системы — это возможность очень быстро сохранять и индексировать информацию, а также быстро отвечать на поисковые запросы.</span><span class="sxs-lookup"><span data-stu-id="1f9db-225">The key characteristics of a search engine database are the ability to store and index information very quickly, and provide fast response times for search requests.</span></span> <span data-ttu-id="1f9db-226">В некоторых системах поддерживаются многомерные индексы и полнотекстовый поиск по большим объемам текстовых данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-226">Indexes can be multi-dimensional and may support free-text searches across large volumes of text data.</span></span> <span data-ttu-id="1f9db-227">Индексирование может выполняться по модели извлечения, то есть по требованию базы данных, или по модели передачи, то есть по команде из кода внешнего приложения.</span><span class="sxs-lookup"><span data-stu-id="1f9db-227">Indexing can be performed using a pull model, triggered by the search engine database, or using a push model, initiated by external application code.</span></span>

<span data-ttu-id="1f9db-228">Поддерживается точный или нечеткий поиск.</span><span class="sxs-lookup"><span data-stu-id="1f9db-228">Searching can be exact or fuzzy.</span></span> <span data-ttu-id="1f9db-229">Нечеткий поиск находит документы, которые соответствуют набору условий, и вычисляет для них коэффициент совпадения с этим набором.</span><span class="sxs-lookup"><span data-stu-id="1f9db-229">A fuzzy search finds documents that match a set of terms and calculates how closely they match.</span></span> <span data-ttu-id="1f9db-230">Некоторые поисковые системы поддерживают лингвистический анализ, который возвращает соответствия с учетом синонимов, категорий (например, `dogs` будет считаться соответствием для `pets`) и морфологии (поиск любых однокоренных слов).</span><span class="sxs-lookup"><span data-stu-id="1f9db-230">Some search engines also support linguistic analysis that can return matches based on synonyms, genre expansions (for example, matching `dogs` to `pets`), and stemming (matching words with the same root).</span></span>

<span data-ttu-id="1f9db-231">Соответствующие службы Azure: [Поиск Azure][search]</span><span class="sxs-lookup"><span data-stu-id="1f9db-231">Relevant Azure service: [Azure Search][search]</span></span>

## <a name="time-series-databases"></a><span data-ttu-id="1f9db-232">Базы данных временных рядов</span><span class="sxs-lookup"><span data-stu-id="1f9db-232">Time Series Databases</span></span>

<span data-ttu-id="1f9db-233">Данными временных рядов называются наборы значений, которые упорядочены по времени. Соответственно базы данных временных рядов оптимизированы для хранения данных именно такого типа.</span><span class="sxs-lookup"><span data-stu-id="1f9db-233">Time series data is a set of values organized by time, and a time series database is a database that is optimized for this type of data.</span></span> <span data-ttu-id="1f9db-234">Базы данных временных рядов должны поддерживать очень большое число операций записи, поскольку обычно в них в режиме реального времени собирается большой объем данных из большого количества источников.</span><span class="sxs-lookup"><span data-stu-id="1f9db-234">Time series databases must support a very high number of writes, as they typically collect large amounts of data in real time from a large number of sources.</span></span> <span data-ttu-id="1f9db-235">Обновления в таких базах данных выполняются редко, а удаление чаще всего является массовой операцией.</span><span class="sxs-lookup"><span data-stu-id="1f9db-235">Updates are rare, and deletes are often done as bulk operations.</span></span> <span data-ttu-id="1f9db-236">Размер отдельных записей в базе данных временных рядов обычно невелик, но их очень много, а значит общий размер данных быстро увеличивается.</span><span class="sxs-lookup"><span data-stu-id="1f9db-236">Although the records written to a time-series database are generally small,  there are often a large number of records, and total data size can grow rapidly.</span></span>

<span data-ttu-id="1f9db-237">Базы данных временных рядов хорошо подходят для хранения данных телеметрии.</span><span class="sxs-lookup"><span data-stu-id="1f9db-237">Time series databases are good for storing telemetry data.</span></span> <span data-ttu-id="1f9db-238">Например, для сбора данных от датчиков Интернета вещей или счетчиков в приложениях или системах.</span><span class="sxs-lookup"><span data-stu-id="1f9db-238">Scenarios include IoT sensors or application/system counters.</span></span>

<span data-ttu-id="1f9db-239">Соответствующие службы Azure: [Аналитика временных рядов][time-series]</span><span class="sxs-lookup"><span data-stu-id="1f9db-239">Relevant Azure service: [Time Series Insights][time-series]</span></span>

## <a name="object-storage"></a><span data-ttu-id="1f9db-240">Хранилище объектов</span><span class="sxs-lookup"><span data-stu-id="1f9db-240">Object storage</span></span>  

<span data-ttu-id="1f9db-241">Хранилище объектов оптимизировано для хранения и извлечения больших двоичных объектов (изображения, файлы, видео- и аудиопотоки, объекты данных и документы приложений большого размера, образы дисков для виртуальных машин).</span><span class="sxs-lookup"><span data-stu-id="1f9db-241">Object storage is optimized for storing and retrieving large binary objects (images, files, video and audio streams, large application data objects and documents, virtual machine disk images).</span></span> <span data-ttu-id="1f9db-242">В хранилище эти типы объекты содержат сохраненные данные, метаданные и уникальный идентификатор для доступа к объекту.</span><span class="sxs-lookup"><span data-stu-id="1f9db-242">Objects in these store types are composed of the stored data, some metadata, and a unique ID for accessing the object.</span></span> <span data-ttu-id="1f9db-243">Хранилища объектов позволяют управлять чрезвычайно большими объемами неструктурированных данных.</span><span class="sxs-lookup"><span data-stu-id="1f9db-243">Object stores enables the management of extremely large amounts of unstructured data.</span></span>

<span data-ttu-id="1f9db-244">Соответствующие службы Azure: [Хранилище BLOB-объектов][blob]</span><span class="sxs-lookup"><span data-stu-id="1f9db-244">Relevant Azure service: [Blob Storage][blob]</span></span>

## <a name="shared-files"></a><span data-ttu-id="1f9db-245">Общие файлы</span><span class="sxs-lookup"><span data-stu-id="1f9db-245">Shared files</span></span>

<span data-ttu-id="1f9db-246">В некоторых случаях самой эффективной системой хранения и извлечения данных будут простые неструктурированные файлы.</span><span class="sxs-lookup"><span data-stu-id="1f9db-246">Sometimes, using simple flat files can be the most effective means of storing and retrieving information.</span></span> <span data-ttu-id="1f9db-247">Использование общих файловых ресурсов позволяет использовать их совместно через компьютерную сеть.</span><span class="sxs-lookup"><span data-stu-id="1f9db-247">Using file shares enables files to be accessed across a network.</span></span> <span data-ttu-id="1f9db-248">Если созданы необходимые механизмы для поддержки безопасности и одновременного доступа, такое совместное использование данных позволяет распределенным службам с высокой степенью масштабируемости предоставлять доступ к данным для базовых низкоуровневых операций, то есть для простых запросов на чтение и запись.</span><span class="sxs-lookup"><span data-stu-id="1f9db-248">Given appropriate security and concurrent access control mechanisms, sharing data in this way can enable distributed services to provide highly scalable data access for performing basic, low-level operations such as simple read and write requests.</span></span>

<span data-ttu-id="1f9db-249">Соответствующие службы Azure: [Хранилище файлов][file-storage]</span><span class="sxs-lookup"><span data-stu-id="1f9db-249">Relevant Azure service: [File Storage][file-storage]</span></span>

<!-- links -->

[blob]: https://azure.microsoft.com/services/storage/blobs/
[cosmosdb]: https://azure.microsoft.com/services/cosmos-db/
[data-lake]: https://azure.microsoft.com/solutions/data-lake/
[file-storage]: https://azure.microsoft.com/services/storage/files/
[hbase]: /azure/hdinsight/hdinsight-hbase-overview
[mysql]: https://azure.microsoft.com/services/mysql/
[postgres]: https://azure.microsoft.com/services/postgresql/
[redis-cache]: https://azure.microsoft.com/services/cache/
[search]: https://azure.microsoft.com/services/search/
[sql-db]: https://azure.microsoft.com/services/sql-database
[sql-dw]: https://azure.microsoft.com/services/sql-data-warehouse/
[time-series]: https://azure.microsoft.com/services/time-series-insights/
