---
title: Запуск виртуальной машины Linux в Azure
description: Сведения о выполнении одной виртуальной машины Linux в Azure с учетом требований к масштабируемости, устойчивости, управляемости и безопасности.
author: telmosampaio
ms.date: 04/03/2018
ms.openlocfilehash: eb695f668367a1ca559ebfd054474c8609212dde
ms.sourcegitcommit: 94d50043db63416c4d00cebe927a0c88f78c3219
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/28/2018
ms.locfileid: "47429083"
---
# <a name="run-a-linux-vm-on-azure"></a><span data-ttu-id="688a6-103">Запуск виртуальной машины Linux в Azure</span><span class="sxs-lookup"><span data-stu-id="688a6-103">Run a Linux VM on Azure</span></span>

<span data-ttu-id="688a6-104">В этой статье описаны проверенные способы запуска виртуальных машин Linux в Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-104">This article describes a set of proven practices for running a Linux virtual machine (VM) on Azure.</span></span> <span data-ttu-id="688a6-105">Она содержит рекомендации для подготовки виртуальной машины, а также компоненты хранилища и сетевые компоненты.</span><span class="sxs-lookup"><span data-stu-id="688a6-105">It includes recommendations for provisioning the VM along with networking and storage components.</span></span> [<span data-ttu-id="688a6-106">**Разверните это решение**.</span><span class="sxs-lookup"><span data-stu-id="688a6-106">**Deploy this solution.**</span></span>](#deploy-the-solution)

<span data-ttu-id="688a6-107">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="688a6-107">![[0]][0]</span></span>

## <a name="components"></a><span data-ttu-id="688a6-108">Компоненты</span><span class="sxs-lookup"><span data-stu-id="688a6-108">Components</span></span>

<span data-ttu-id="688a6-109">Для подготовки виртуальной машины Azure требуются некоторые дополнительные компоненты, помимо самой виртуальной машины, такие как сеть и хранилище.</span><span class="sxs-lookup"><span data-stu-id="688a6-109">Provisioning an Azure VM requires some additional components besides the VM itself, including networking and storage resources.</span></span>

* <span data-ttu-id="688a6-110">**Группа ресурсов.**</span><span class="sxs-lookup"><span data-stu-id="688a6-110">**Resource group.**</span></span> <span data-ttu-id="688a6-111">[Группа ресурсов][resource-manager-overview] представляет собой логический контейнер, содержащий связанные ресурсы Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-111">A [resource group][resource-manager-overview] is a logical container that holds related Azure resources.</span></span> <span data-ttu-id="688a6-112">Как правило, группы ресурсов создаются в зависимости от времени существования ресурсов и пользователя, который ими управляет.</span><span class="sxs-lookup"><span data-stu-id="688a6-112">In general, group resources based on their lifetime and who will manage them.</span></span> 

* <span data-ttu-id="688a6-113">**Виртуальная машина**.</span><span class="sxs-lookup"><span data-stu-id="688a6-113">**VM**.</span></span> <span data-ttu-id="688a6-114">Виртуальную машину можно подготовить на основе списка опубликованных образов, пользовательского управляемого образа или файла виртуального жесткого диска (VHD), передав его в хранилище BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-114">You can provision a VM from a list of published images, or from a custom managed image or virtual hard disk (VHD) file uploaded to Azure Blob storage.</span></span> <span data-ttu-id="688a6-115">Azure поддерживает ряд популярных дистрибутивов Linux, включая CentOS, Debian, Red Hat Enterprise, Ubuntu и FreeBSD.</span><span class="sxs-lookup"><span data-stu-id="688a6-115">Azure supports running various popular Linux distributions, including CentOS, Debian, Red Hat Enterprise, Ubuntu, and FreeBSD.</span></span> <span data-ttu-id="688a6-116">См. дополнительные сведения о [взаимодействии Azure и Linux][azure-linux].</span><span class="sxs-lookup"><span data-stu-id="688a6-116">For more information, see [Azure and Linux][azure-linux].</span></span>

* <span data-ttu-id="688a6-117">**Управляемые диски.**</span><span class="sxs-lookup"><span data-stu-id="688a6-117">**Managed Disks**.</span></span> <span data-ttu-id="688a6-118">Служба [Управляемые диски Azure][managed-disks] упрощает управление дисками благодаря автоматической обработке хранилища.</span><span class="sxs-lookup"><span data-stu-id="688a6-118">[Azure Managed Disks][managed-disks] simplify disk management by handling the storage for you.</span></span> <span data-ttu-id="688a6-119">Диск операционной системы — это диск VHD, расположенный в [службе хранилища Azure][azure-storage], поэтому он работает, даже если хост-компьютер отключен.</span><span class="sxs-lookup"><span data-stu-id="688a6-119">The OS disk is a VHD stored in [Azure Storage][azure-storage], so it persists even when the host machine is down.</span></span> <span data-ttu-id="688a6-120">Для виртуальных машин Linux диск ОС — это `/dev/sda1`.</span><span class="sxs-lookup"><span data-stu-id="688a6-120">For Linux VMs, the OS disk is `/dev/sda1`.</span></span> <span data-ttu-id="688a6-121">Кроме того, рекомендуем создать один или несколько [дисков данных][data-disk] на постоянных виртуальных жестких дисках, которые используются для данных приложений.</span><span class="sxs-lookup"><span data-stu-id="688a6-121">We also recommend creating one or more [data disks][data-disk], which are persistent VHDs used for application data.</span></span> 

* <span data-ttu-id="688a6-122">**Временный диск.**</span><span class="sxs-lookup"><span data-stu-id="688a6-122">**Temporary disk.**</span></span> <span data-ttu-id="688a6-123">Виртуальная машина создается с временным диском.</span><span class="sxs-lookup"><span data-stu-id="688a6-123">The VM is created with a temporary disk.</span></span> <span data-ttu-id="688a6-124">Временный диск хранится на физическом диске хост-компьютера.</span><span class="sxs-lookup"><span data-stu-id="688a6-124">This disk is stored on a physical drive on the host machine.</span></span> <span data-ttu-id="688a6-125">Он *не* хранится в службе хранилища Azure и может быть удален во время перезагрузки и других событий жизненного цикла виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="688a6-125">It is *not* saved in Azure Storage and may be deleted during reboots and other VM lifecycle events.</span></span> <span data-ttu-id="688a6-126">Используйте этот диск только для временных данных, таких как данные страниц или файлы подкачки.</span><span class="sxs-lookup"><span data-stu-id="688a6-126">Use this disk only for temporary data, such as page or swap files.</span></span> <span data-ttu-id="688a6-127">Для виртуальных машин Linux временный диск — это `/dev/sdb1`. Он подключен как `/mnt/resource` или `/mnt`.</span><span class="sxs-lookup"><span data-stu-id="688a6-127">For Linux VMs, the temporary disk is `/dev/sdb1` and is mounted at `/mnt/resource` or `/mnt`.</span></span>

* <span data-ttu-id="688a6-128">**Виртуальная сеть.**</span><span class="sxs-lookup"><span data-stu-id="688a6-128">**Virtual network (VNet).**</span></span> <span data-ttu-id="688a6-129">Каждая виртуальная машина Azure развертывается в виртуальной сети, которую можно разделить на несколько подсетей.</span><span class="sxs-lookup"><span data-stu-id="688a6-129">Every Azure VM is deployed into a VNet that can be segmented into multiple subnets.</span></span>

* <span data-ttu-id="688a6-130">**Сетевой интерфейс (сетевой адаптер)**.</span><span class="sxs-lookup"><span data-stu-id="688a6-130">**Network interface (NIC)**.</span></span> <span data-ttu-id="688a6-131">Сетевой адаптер обеспечивает взаимодействие виртуальной машины и виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="688a6-131">The NIC enables the VM to communicate with the virtual network.</span></span>

* <span data-ttu-id="688a6-132">**Общедоступный IP-адрес.**</span><span class="sxs-lookup"><span data-stu-id="688a6-132">**Public IP address.**</span></span> <span data-ttu-id="688a6-133">Общедоступный IP-адрес используется для обмена данных с виртуальной машиной &mdash;, например, по протоколу SSH.</span><span class="sxs-lookup"><span data-stu-id="688a6-133">A public IP address is needed to communicate with the VM &mdash; for example, via SSH.</span></span>

* <span data-ttu-id="688a6-134">**Azure DNS**.</span><span class="sxs-lookup"><span data-stu-id="688a6-134">**Azure DNS**.</span></span> <span data-ttu-id="688a6-135">[Azure DNS][azure-dns] — это служба размещения для доменов DNS, которая предоставляет разрешение имен с помощью инфраструктуры Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-135">[Azure DNS][azure-dns] is a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="688a6-136">Размещая домены в Azure, вы можете управлять своими записями DNS с помощью тех же учетных данных, API и инструментов и оплачивать использование, как и другие службы Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-136">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>

* <span data-ttu-id="688a6-137">**Группа безопасности сети**.</span><span class="sxs-lookup"><span data-stu-id="688a6-137">**Network security group (NSG)**.</span></span> <span data-ttu-id="688a6-138">[Группы безопасности сети][nsg] позволяют разрешать или запрещать сетевой трафик к виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="688a6-138">[Network security groups][nsg] are used to allow or deny network traffic to VMs.</span></span> <span data-ttu-id="688a6-139">Группы безопасности сети могут быть связаны с подсетями или отдельными экземплярами виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="688a6-139">NSGs can be associated either with subnets or with individual VM instances.</span></span>

* <span data-ttu-id="688a6-140">**Диагностика.**</span><span class="sxs-lookup"><span data-stu-id="688a6-140">**Diagnostics.**</span></span> <span data-ttu-id="688a6-141">Ведение журналов диагностики очень важно для устранения неполадок виртуальной машины и управления ею.</span><span class="sxs-lookup"><span data-stu-id="688a6-141">Diagnostic logging is crucial for managing and troubleshooting the VM.</span></span>

## <a name="vm-recommendations"></a><span data-ttu-id="688a6-142">Рекомендации по виртуальным машинам</span><span class="sxs-lookup"><span data-stu-id="688a6-142">VM recommendations</span></span>

<span data-ttu-id="688a6-143">В Azure доступны виртуальные машины разных размеров.</span><span class="sxs-lookup"><span data-stu-id="688a6-143">Azure offers many different virtual machine sizes.</span></span> <span data-ttu-id="688a6-144">Дополнительные сведения см. в статье [Размеры виртуальных машин Windows в Azure][virtual-machine-sizes].</span><span class="sxs-lookup"><span data-stu-id="688a6-144">For more information, see [Sizes for virtual machines in Azure][virtual-machine-sizes].</span></span> <span data-ttu-id="688a6-145">При перемещении имеющейся рабочей нагрузки в Azure выберите начальный размер виртуальной машины, который точнее всего соответствует характеристикам локальных серверов.</span><span class="sxs-lookup"><span data-stu-id="688a6-145">If you are moving an existing workload to Azure, start with the VM size that's the closest match to your on-premises servers.</span></span> <span data-ttu-id="688a6-146">Затем измерьте производительность фактической рабочей нагрузки по таким показателям, как потребление ЦП, памяти и дисковых операций ввода-вывода в секунду, и при необходимости измените размер виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="688a6-146">Then measure the performance of your actual workload with respect to CPU, memory, and disk input/output operations per second (IOPS), and adjust the size as needed.</span></span> <span data-ttu-id="688a6-147">Если для виртуальной машины требуется несколько сетевых адаптеров, помните, что их максимально возможное число зависит от [размера каждой виртуальной машины][vm-size-tables].</span><span class="sxs-lookup"><span data-stu-id="688a6-147">If you require multiple NICs for your VM, be aware that a maximum number of NICs is defined for each [VM size][vm-size-tables].</span></span>

<span data-ttu-id="688a6-148">Обычно следует выбирать регион Azure, расположенный как можно ближе к внутренним пользователям или клиентам.</span><span class="sxs-lookup"><span data-stu-id="688a6-148">Generally, choose an Azure region that is closest to your internal users or customers.</span></span> <span data-ttu-id="688a6-149">Но виртуальные машины некоторых размеров доступны не во всех регионах.</span><span class="sxs-lookup"><span data-stu-id="688a6-149">However, not all VM sizes are available in all regions.</span></span> <span data-ttu-id="688a6-150">См. дополнительные сведения о [доступности служб в разных регионах][services-by-region].</span><span class="sxs-lookup"><span data-stu-id="688a6-150">For more information, see [Services by region][services-by-region].</span></span> <span data-ttu-id="688a6-151">Чтобы получить список размеров виртуальных машин, доступных в определенном регионе, выполните следующую команду в интерфейсе командной строки Azure:</span><span class="sxs-lookup"><span data-stu-id="688a6-151">For a list of the VM sizes available in a specific region, run the following command from the Azure command-line interface (CLI):</span></span>

```
az vm list-sizes --location <location>
```

<span data-ttu-id="688a6-152">Дополнительные сведения о том, как выбрать опубликованный образ виртуальной машины, см. в руководстве по [поиску образов виртуальных машин Linux][select-vm-image].</span><span class="sxs-lookup"><span data-stu-id="688a6-152">For information about choosing a published VM image, see [Find Linux VM images][select-vm-image].</span></span>

<span data-ttu-id="688a6-153">Включите мониторинг и диагностику, в том числе базовые метрики работоспособности, а также ведение журналов инфраструктуры диагностики и [диагностику загрузки][boot-diagnostics].</span><span class="sxs-lookup"><span data-stu-id="688a6-153">Enable monitoring and diagnostics, including basic health metrics, diagnostics infrastructure logs, and [boot diagnostics][boot-diagnostics].</span></span> <span data-ttu-id="688a6-154">Если виртуальную машину невозможно загрузить, для обнаружения неисправностей можно использовать диагностику загрузки.</span><span class="sxs-lookup"><span data-stu-id="688a6-154">Boot diagnostics can help you diagnose boot failure if your VM gets into a non-bootable state.</span></span> <span data-ttu-id="688a6-155">Дополнительные сведения см. в статье [Включение мониторинга и диагностики][enable-monitoring].</span><span class="sxs-lookup"><span data-stu-id="688a6-155">For more information, see [Enable monitoring and diagnostics][enable-monitoring].</span></span>  

## <a name="disk-and-storage-recommendations"></a><span data-ttu-id="688a6-156">Рекомендации по дискам и хранилищам</span><span class="sxs-lookup"><span data-stu-id="688a6-156">Disk and storage recommendations</span></span>

<span data-ttu-id="688a6-157">Чтобы обеспечить оптимальную производительность дисковых операций ввода-вывода, рекомендуем использовать [хранилище класса Premium][premium-storage], в котором данные хранятся на твердотельных накопителях (SSD).</span><span class="sxs-lookup"><span data-stu-id="688a6-157">For best disk I/O performance, we recommend [Premium Storage][premium-storage], which stores data on solid-state drives (SSDs).</span></span> <span data-ttu-id="688a6-158">Цена зависит от производительности подготовленного диска.</span><span class="sxs-lookup"><span data-stu-id="688a6-158">Cost is based on the capacity of the provisioned disk.</span></span> <span data-ttu-id="688a6-159">Скорость выполнения операций ввода-вывода и пропускная способность (т. е. скорость передачи данных) также зависят от размера диска. Поэтому во время подготовки диска следует учитывать все эти факторы.</span><span class="sxs-lookup"><span data-stu-id="688a6-159">IOPS and throughput (that is, data transfer rate) also depend on disk size, so when you provision a disk, consider all three factors (capacity, IOPS, and throughput).</span></span> 

<span data-ttu-id="688a6-160">Мы также рекомендуем использовать [Управляемые диски][managed-disks].</span><span class="sxs-lookup"><span data-stu-id="688a6-160">We also recommend using [Managed Disks][managed-disks].</span></span> <span data-ttu-id="688a6-161">Управляемым дискам не требуется учетная запись хранения.</span><span class="sxs-lookup"><span data-stu-id="688a6-161">Managed disks do not require a storage account.</span></span> <span data-ttu-id="688a6-162">Просто укажите размер и тип диска, и он будет развернут как высокодоступный ресурс.</span><span class="sxs-lookup"><span data-stu-id="688a6-162">You simply specify the size and type of disk and it is deployed as a highly available resource.</span></span>

<span data-ttu-id="688a6-163">Добавьте один или несколько дисков данных.</span><span class="sxs-lookup"><span data-stu-id="688a6-163">Add one or more data disks.</span></span> <span data-ttu-id="688a6-164">Создаваемый диск VHD не форматируется.</span><span class="sxs-lookup"><span data-stu-id="688a6-164">When you create a VHD, it is unformatted.</span></span> <span data-ttu-id="688a6-165">Чтобы отформатировать диск, войдите в систему виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="688a6-165">Log into the VM to format the disk.</span></span> <span data-ttu-id="688a6-166">В оболочке Linux диски данных отображаются как `/dev/sdc`, `/dev/sdd` и т. д.</span><span class="sxs-lookup"><span data-stu-id="688a6-166">In the Linux shell, data disks are displayed as `/dev/sdc`, `/dev/sdd`, and so on.</span></span> <span data-ttu-id="688a6-167">Можно выполнить `lsblk` , чтобы вывести список блочных устройств, включая диски.</span><span class="sxs-lookup"><span data-stu-id="688a6-167">You can run `lsblk` to list the block devices, including the disks.</span></span> <span data-ttu-id="688a6-168">Чтобы использовать диск данных, создайте раздел и файловую систему, а затем подключите этот диск.</span><span class="sxs-lookup"><span data-stu-id="688a6-168">To use a data disk, create a partition and file system, and mount the disk.</span></span> <span data-ttu-id="688a6-169">Например: </span><span class="sxs-lookup"><span data-stu-id="688a6-169">For example:</span></span>

```bat
# Create a partition.
sudo fdisk /dev/sdc     # Enter 'n' to partition, 'w' to write the change.

# Create a file system.
sudo mkfs -t ext3 /dev/sdc1

# Mount the drive.
sudo mkdir /data1
sudo mount /dev/sdc1 /data1
```

<span data-ttu-id="688a6-170">При добавлении диска данных ему назначается логический номер устройства (LUN).</span><span class="sxs-lookup"><span data-stu-id="688a6-170">When you add a data disk, a logical unit number (LUN) ID is assigned to the disk.</span></span> <span data-ttu-id="688a6-171">При необходимости можно указать идентификатор LUN &mdash; например, если при замене диска нужно сохранить тот же идентификатор LUN или если у вас есть приложение, которое ищет определенный идентификатор LUN.</span><span class="sxs-lookup"><span data-stu-id="688a6-171">Optionally, you can specify the LUN ID &mdash; for example, if you're replacing a disk and want to retain the same LUN ID, or you have an application that looks for a specific LUN ID.</span></span> <span data-ttu-id="688a6-172">Однако следует помнить, что идентификаторы LUN для каждого диска должны быть уникальными.</span><span class="sxs-lookup"><span data-stu-id="688a6-172">However, remember that LUN IDs must be unique for each disk.</span></span>

<span data-ttu-id="688a6-173">Возможно, вам нужно изменить планировщик операций ввода-вывода, чтобы оптимизировать производительность твердотельных накопителей (используемых с учетными записями хранения класса Premium для виртуальных машин).</span><span class="sxs-lookup"><span data-stu-id="688a6-173">You may want to change the I/O scheduler to optimize for performance on SSDs because the disks for VMs with premium storage accounts are SSDs.</span></span> <span data-ttu-id="688a6-174">Обычно для SSD рекомендуется использовать планировщик NOOP, но для мониторинга производительности дискового ввода-вывода рабочей нагрузки следует использовать такой инструмент, как [iostat].</span><span class="sxs-lookup"><span data-stu-id="688a6-174">A common recommendation is to use the NOOP scheduler for SSDs, but you should use a tool such as [iostat] to monitor disk I/O performance for your workload.</span></span>

<span data-ttu-id="688a6-175">Создайте учетную запись хранения для хранения журналов диагностики.</span><span class="sxs-lookup"><span data-stu-id="688a6-175">Create a storage account to hold diagnostic logs.</span></span> <span data-ttu-id="688a6-176">Учетной записи локально избыточного хранилища достаточно для хранения журналов диагностики.</span><span class="sxs-lookup"><span data-stu-id="688a6-176">A standard locally redundant storage (LRS) account is sufficient for diagnostic logs.</span></span>

> [!NOTE]
> <span data-ttu-id="688a6-177">Если вы не используете Управляемые диски, создайте отдельные учетные записи хранения Azure для виртуальных жестких дисков (VHD) каждой виртуальной машины, чтобы не превышать [ограничения по операциям ввода-вывода][vm-disk-limits] для учетных записей хранения.</span><span class="sxs-lookup"><span data-stu-id="688a6-177">If you aren't using Managed Disks, create separate Azure storage accounts for each VM to hold the virtual hard disks (VHDs), in order to avoid hitting the [(IOPS) limits][vm-disk-limits] for storage accounts.</span></span> <span data-ttu-id="688a6-178">Учтите общие ограничения на количество операций ввода-вывода для учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="688a6-178">Be aware of the total I/O limits of the storage account.</span></span> <span data-ttu-id="688a6-179">Дополнительные сведения см. в разделе [Ограничения для дисков виртуальной машины][vm-disk-limits].</span><span class="sxs-lookup"><span data-stu-id="688a6-179">For more information, see [virtual machine disk limits][vm-disk-limits].</span></span>

## <a name="network-recommendations"></a><span data-ttu-id="688a6-180">Рекомендации по сети</span><span class="sxs-lookup"><span data-stu-id="688a6-180">Network recommendations</span></span>

<span data-ttu-id="688a6-181">Общедоступный IP-адрес может быть динамическим или статическим.</span><span class="sxs-lookup"><span data-stu-id="688a6-181">The public IP address can be dynamic or static.</span></span> <span data-ttu-id="688a6-182">По умолчанию используется динамический IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="688a6-182">The default is dynamic.</span></span>

* <span data-ttu-id="688a6-183">Зарезервируйте [статический IP-адрес][static-ip], если вам нужен постоянный IP-адрес &mdash; например, для создания записи А в DNS или добавления IP-адреса в список надежных отправителей.</span><span class="sxs-lookup"><span data-stu-id="688a6-183">Reserve a [static IP address][static-ip] if you need a fixed IP address that won't change &mdash; for example, if you need to create an A record in DNS, or need the IP address to be added to a safe list.</span></span>
* <span data-ttu-id="688a6-184">Можно также создать полное доменное имя для IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="688a6-184">You can also create a fully qualified domain name (FQDN) for the IP address.</span></span> <span data-ttu-id="688a6-185">Затем вы сможете зарегистрировать в DNS [запись CNAME][cname-record], которая указывает на полное доменное имя.</span><span class="sxs-lookup"><span data-stu-id="688a6-185">You can then register a [CNAME record][cname-record] in DNS that points to the FQDN.</span></span> <span data-ttu-id="688a6-186">Дополнительные сведения см. в руководстве по [созданию полного доменного имени на портале Azure][fqdn].</span><span class="sxs-lookup"><span data-stu-id="688a6-186">For more information, see [Create a fully qualified domain name in the Azure portal][fqdn].</span></span> <span data-ttu-id="688a6-187">Можно использовать [Azure DNS][azure-dns] или другую службу DNS.</span><span class="sxs-lookup"><span data-stu-id="688a6-187">You can use [Azure DNS][azure-dns] or another DNS service.</span></span>

<span data-ttu-id="688a6-188">Все группы безопасности сети содержат набор [правил по умолчанию][nsg-default-rules], включая правило, которое блокирует весь входящий интернет-трафик.</span><span class="sxs-lookup"><span data-stu-id="688a6-188">All NSGs contain a set of [default rules][nsg-default-rules], including a rule that blocks all inbound Internet traffic.</span></span> <span data-ttu-id="688a6-189">Правила по умолчанию нельзя удалить, но их можно переопределить другими правилами.</span><span class="sxs-lookup"><span data-stu-id="688a6-189">The default rules cannot be deleted, but other rules can override them.</span></span> <span data-ttu-id="688a6-190">Чтобы разрешить интернет-трафик, создайте правила, разрешающие входящий трафик для определенных портов &mdash; например, это может быть порт 80 для протокола HTTP.</span><span class="sxs-lookup"><span data-stu-id="688a6-190">To enable Internet traffic, create rules that allow inbound traffic to specific ports &mdash; for example, port 80 for HTTP.</span></span>

<span data-ttu-id="688a6-191">Чтобы включить доступ по протоколу SSH, добавьте правило группы безопасности сети, которое разрешает входящий трафик через TCP-порт 22.</span><span class="sxs-lookup"><span data-stu-id="688a6-191">To enable SSH, add an NSG rule that allows inbound traffic to TCP port 22.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="688a6-192">Вопросы масштабируемости</span><span class="sxs-lookup"><span data-stu-id="688a6-192">Scalability considerations</span></span>

<span data-ttu-id="688a6-193">Размер виртуальной машины можно [увеличивать и уменьшать][vm-resize].</span><span class="sxs-lookup"><span data-stu-id="688a6-193">You can scale a VM up or down by [changing the VM size][vm-resize].</span></span> <span data-ttu-id="688a6-194">Для горизонтального развертывания разместите две или больше виртуальных машин за подсистемой балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="688a6-194">To scale out horizontally, put two or more VMs behind a load balancer.</span></span> <span data-ttu-id="688a6-195">Дополнительные сведения см. в руководстве по [эталонной архитектуре n-уровневых приложений](./n-tier-cassandra.md).</span><span class="sxs-lookup"><span data-stu-id="688a6-195">For more information, see the [N-tier reference architecture](./n-tier-cassandra.md).</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="688a6-196">Вопросы доступности</span><span class="sxs-lookup"><span data-stu-id="688a6-196">Availability considerations</span></span>

<span data-ttu-id="688a6-197">Для повышения уровня доступности разверните несколько виртуальных машин в группе доступности.</span><span class="sxs-lookup"><span data-stu-id="688a6-197">For higher availability, deploy multiple VMs in an availability set.</span></span> <span data-ttu-id="688a6-198">Это также позволит использовать дополнительные услуги в рамках [соглашения об уровне обслуживания][vm-sla].</span><span class="sxs-lookup"><span data-stu-id="688a6-198">This also provides a higher [service level agreement (SLA)][vm-sla].</span></span>

<span data-ttu-id="688a6-199">На виртуальную машину могут влиять процедуры [планового][planned-maintenance] и [внепланового технического обслуживания][manage-vm-availability].</span><span class="sxs-lookup"><span data-stu-id="688a6-199">Your VM may be affected by [planned maintenance][planned-maintenance] or [unplanned maintenance][manage-vm-availability].</span></span> <span data-ttu-id="688a6-200">Чтобы определить, вызвана ли перезагрузка плановым техническим обслуживанием, изучите [журналы перезагрузки виртуальной машины][reboot-logs].</span><span class="sxs-lookup"><span data-stu-id="688a6-200">You can use [VM reboot logs][reboot-logs] to determine whether a VM reboot was caused by planned maintenance.</span></span>

<span data-ttu-id="688a6-201">Чтобы избежать случайной потери данных во время обычной работы (например, из-за ошибки пользователя), следует реализовать создание резервных копий на определенный момент времени с помощью [моментальных снимков больших двоичных объектов][blob-snapshot] или других инструментов.</span><span class="sxs-lookup"><span data-stu-id="688a6-201">To protect against accidental data loss during normal operations (for example, because of user error), you should also implement point-in-time backups, using [blob snapshots][blob-snapshot] or another tool.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="688a6-202">Вопросы управляемости</span><span class="sxs-lookup"><span data-stu-id="688a6-202">Manageability considerations</span></span>

<span data-ttu-id="688a6-203">**Группы ресурсов.**</span><span class="sxs-lookup"><span data-stu-id="688a6-203">**Resource groups.**</span></span> <span data-ttu-id="688a6-204">Поместите тесно связанные ресурсы с одинаковым жизненным циклом в одну [группу ресурсов][resource-manager-overview].</span><span class="sxs-lookup"><span data-stu-id="688a6-204">Put closely associated resources that share the same lifecycle into the same [resource group][resource-manager-overview].</span></span> <span data-ttu-id="688a6-205">Группы ресурсов позволяют развертывать и отслеживать несколько ресурсов как одну группу, для которой, помимо прочего, можно отслеживать выставляемые счета.</span><span class="sxs-lookup"><span data-stu-id="688a6-205">Resource groups allow you to deploy and monitor resources as a group and track billing costs by resource group.</span></span> <span data-ttu-id="688a6-206">Можно также удалить ресурсы в виде набора, что очень удобно для тестирования развернутых служб.</span><span class="sxs-lookup"><span data-stu-id="688a6-206">You can also delete resources as a set, which is very useful for test deployments.</span></span> <span data-ttu-id="688a6-207">Присвойте понятные имена ресурсам, чтобы упростить поиск определенного ресурса и получить сведения о его роли.</span><span class="sxs-lookup"><span data-stu-id="688a6-207">Assign meaningful resource names to simplify locating a specific resource and understanding its role.</span></span> <span data-ttu-id="688a6-208">Дополнительные сведения см. в руководстве по [рекомендуемым соглашениям об именовании ресурсов Azure][naming-conventions].</span><span class="sxs-lookup"><span data-stu-id="688a6-208">For more information, see [Recommended naming conventions for Azure resources][naming-conventions].</span></span>

<span data-ttu-id="688a6-209">**SSH.**</span><span class="sxs-lookup"><span data-stu-id="688a6-209">**SSH**.</span></span> <span data-ttu-id="688a6-210">Перед созданием виртуальной машины Linux создайте парные 2048-разрядные ключи RSA (открытый и закрытый).</span><span class="sxs-lookup"><span data-stu-id="688a6-210">Before you create a Linux VM, generate a 2048-bit RSA public-private key pair.</span></span> <span data-ttu-id="688a6-211">При создании виртуальной машины используйте файл открытого ключа.</span><span class="sxs-lookup"><span data-stu-id="688a6-211">Use the public key file when you create the VM.</span></span> <span data-ttu-id="688a6-212">Дополнительные сведения см. в статье [Создание пары из открытого и закрытого ключей SSH для виртуальных машин Linux][ssh-linux].</span><span class="sxs-lookup"><span data-stu-id="688a6-212">For more information, see [How to Use SSH with Linux and Mac on Azure][ssh-linux].</span></span>

<span data-ttu-id="688a6-213">**Остановка виртуальной машины.**</span><span class="sxs-lookup"><span data-stu-id="688a6-213">**Stopping a VM.**</span></span> <span data-ttu-id="688a6-214">Azure различает состояния "Остановлена" и "Освобождена".</span><span class="sxs-lookup"><span data-stu-id="688a6-214">Azure makes a distinction between "stopped" and "deallocated" states.</span></span> <span data-ttu-id="688a6-215">Вы оплачиваете использование остановленных виртуальных машин, но не оплачиваете освобожденные виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="688a6-215">You are charged when the VM status is stopped, but not when the VM is deallocated.</span></span> <span data-ttu-id="688a6-216">Также это можно сделать с помощью кнопки **Прервать** на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-216">In the Azure portal, the **Stop** button deallocates the VM.</span></span> <span data-ttu-id="688a6-217">Если вы войдете в виртуальную машину и завершите работу операционной системы, виртуальная машина будет остановлена, а **не** освобождена, поэтому с вас по-прежнему будет взиматься плата.</span><span class="sxs-lookup"><span data-stu-id="688a6-217">If you shut down through the OS while logged in, the VM is stopped but **not** deallocated, so you will still be charged.</span></span>

<span data-ttu-id="688a6-218">**Удаление виртуальной машины.**</span><span class="sxs-lookup"><span data-stu-id="688a6-218">**Deleting a VM.**</span></span> <span data-ttu-id="688a6-219">Если вы удалите виртуальную машину, виртуальные жесткие диски останутся.</span><span class="sxs-lookup"><span data-stu-id="688a6-219">If you delete a VM, the VHDs are not deleted.</span></span> <span data-ttu-id="688a6-220">Это означает, что вы можете удалить виртуальную машину без потери данных.</span><span class="sxs-lookup"><span data-stu-id="688a6-220">That means you can safely delete the VM without losing data.</span></span> <span data-ttu-id="688a6-221">Тем не менее плата за хранение по-прежнему будет взиматься.</span><span class="sxs-lookup"><span data-stu-id="688a6-221">However, you will still be charged for storage.</span></span> <span data-ttu-id="688a6-222">Чтобы удалить виртуальный жесткий диск, удалите соответствующий файл из [хранилища BLOB-объектов][blob-storage].</span><span class="sxs-lookup"><span data-stu-id="688a6-222">To delete the VHD, delete the file from [Blob storage][blob-storage].</span></span> <span data-ttu-id="688a6-223">Чтобы предотвратить случайное удаление, используйте [блокировку ресурсов][resource-lock]. Так вы сможете заблокировать всю группу или отдельные ресурсы (например, виртуальную машину).</span><span class="sxs-lookup"><span data-stu-id="688a6-223">To prevent accidental deletion, use a [resource lock][resource-lock] to lock the entire resource group or lock individual resources, such as a VM.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="688a6-224">Вопросы безопасности</span><span class="sxs-lookup"><span data-stu-id="688a6-224">Security considerations</span></span>

<span data-ttu-id="688a6-225">Благодаря [центру безопасности Azure][security-center] можно получить полное представление о состоянии безопасности ваших ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-225">Use [Azure Security Center][security-center] to get a central view of the security state of your Azure resources.</span></span> <span data-ttu-id="688a6-226">Центр безопасности отслеживает потенциальные проблемы безопасности, а также обеспечивает полное представление о состоянии системы безопасности развертывания.</span><span class="sxs-lookup"><span data-stu-id="688a6-226">Security Center monitors potential security issues and provides a comprehensive picture of the security health of your deployment.</span></span> <span data-ttu-id="688a6-227">Центр безопасности настраивается на уровне подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-227">Security Center is configured per Azure subscription.</span></span> <span data-ttu-id="688a6-228">Включите сбор данных о безопасности, как описано в [кратком руководстве по использованию центра безопасности Azure][security-center-get-started].</span><span class="sxs-lookup"><span data-stu-id="688a6-228">Enable security data collection as described in the [Azure Security Center quick start guide][security-center-get-started].</span></span> <span data-ttu-id="688a6-229">Когда сбор данных включен, центр безопасности автоматически проверяет все виртуальные машины, созданные для этой подписки.</span><span class="sxs-lookup"><span data-stu-id="688a6-229">When data collection is enabled, Security Center automatically scans any VMs created under that subscription.</span></span>

<span data-ttu-id="688a6-230">**Управление исправлениями.**</span><span class="sxs-lookup"><span data-stu-id="688a6-230">**Patch management.**</span></span> <span data-ttu-id="688a6-231">Если эта функция включена, центр безопасности проверяет наличие необходимых обновлений для системы безопасности и критических обновлений.</span><span class="sxs-lookup"><span data-stu-id="688a6-231">If enabled, Security Center checks whether any security and critical updates are missing.</span></span> 

<span data-ttu-id="688a6-232">**Защита от вредоносных программ.**</span><span class="sxs-lookup"><span data-stu-id="688a6-232">**Antimalware.**</span></span> <span data-ttu-id="688a6-233">Если эта функция включена, то Центр безопасности проверяет, установлена ли антивредоносное ПО.</span><span class="sxs-lookup"><span data-stu-id="688a6-233">If enabled, Security Center checks whether antimalware software is installed.</span></span> <span data-ttu-id="688a6-234">Центр безопасности позволяет также установить антивредоносное ПО с помощью портала Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-234">You can also use Security Center to install antimalware software from inside the Azure portal.</span></span>

<span data-ttu-id="688a6-235">**Операции.**</span><span class="sxs-lookup"><span data-stu-id="688a6-235">**Operations.**</span></span> <span data-ttu-id="688a6-236">Используйте [управление доступом на основе ролей (RBAC)][rbac] для управления доступом к развертываемым ресурсам Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-236">Use [role-based access control (RBAC)][rbac] to control access to the Azure resources that you deploy.</span></span> <span data-ttu-id="688a6-237">RBAC позволяет назначить роли авторизации участникам команды DevOps.</span><span class="sxs-lookup"><span data-stu-id="688a6-237">RBAC lets you assign authorization roles to members of your DevOps team.</span></span> <span data-ttu-id="688a6-238">Например, роль "Читатель" позволяет просматривать ресурсы Azure, но не позволяет создавать и удалять их или управлять ими.</span><span class="sxs-lookup"><span data-stu-id="688a6-238">For example, the Reader role can view Azure resources but not create, manage, or delete them.</span></span> <span data-ttu-id="688a6-239">Некоторые роли относятся к определенным типам ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-239">Some roles are specific to particular Azure resource types.</span></span> <span data-ttu-id="688a6-240">Например, роль "Участник виртуальных машин" позволяет перезапустить виртуальную машину или отменить ее выделение, сбросить пароль администратора, создать новую виртуальную машину и т. д.</span><span class="sxs-lookup"><span data-stu-id="688a6-240">For example, the Virtual Machine Contributor role can restart or deallocate a VM, reset the administrator password, create a new VM, and so on.</span></span> <span data-ttu-id="688a6-241">Для этой архитектуры могут оказаться полезными и другие [встроенные роли RBAC][rbac-roles], например [Пользователь DevTest Labs][rbac-devtest] и [Участник сетей][rbac-network].</span><span class="sxs-lookup"><span data-stu-id="688a6-241">Other [built-in RBAC roles][rbac-roles] that may be useful for this architecture include [DevTest Labs User][rbac-devtest] and [Network Contributor][rbac-network].</span></span> <span data-ttu-id="688a6-242">Пользователю можно назначить несколько ролей. Можно также создать пользовательские роли, чтобы более детально настроить разрешения.</span><span class="sxs-lookup"><span data-stu-id="688a6-242">A user can be assigned to multiple roles, and you can create custom roles for even more fine-grained permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="688a6-243">RBAC не ограничивает действия, которые может выполнять пользователь, вошедший в виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="688a6-243">RBAC does not limit the actions that a user logged into a VM can perform.</span></span> <span data-ttu-id="688a6-244">Эти разрешения определяются типом учетной записи в гостевой ОС.</span><span class="sxs-lookup"><span data-stu-id="688a6-244">Those permissions are determined by the account type on the guest OS.</span></span>   

<span data-ttu-id="688a6-245">Просматривать действия по подготовке и другие события для виртуальной машины можно с помощью [журналов аудита][audit-logs].</span><span class="sxs-lookup"><span data-stu-id="688a6-245">Use [audit logs][audit-logs] to see provisioning actions and other VM events.</span></span>

<span data-ttu-id="688a6-246">**Шифрование данных.**</span><span class="sxs-lookup"><span data-stu-id="688a6-246">**Data encryption.**</span></span> <span data-ttu-id="688a6-247">Если нужно шифровать диски ОС и диски данных, рекомендуем применить [шифрование дисков Azure][disk-encryption].</span><span class="sxs-lookup"><span data-stu-id="688a6-247">Consider [Azure Disk Encryption][disk-encryption] if you need to encrypt the OS and data disks.</span></span> 

<span data-ttu-id="688a6-248">**Защита от атак DDoS.**</span><span class="sxs-lookup"><span data-stu-id="688a6-248">**DDoS protection**.</span></span> <span data-ttu-id="688a6-249">Рекомендуем включить [Защиту от атак DDoS ценовой категории "Стандартный"](/azure/virtual-network/ddos-protection-overview), которая предоставляет дополнительные средства устранения атак DDoS для ресурсов в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="688a6-249">We recommend enabling [DDoS Protection Standard](/azure/virtual-network/ddos-protection-overview), which provides additional DDoS mitigation for resources in a VNet.</span></span> <span data-ttu-id="688a6-250">На платформе Azure автоматически включается Защита от атак DDoS ценовой категории "Базовый". Но мы советуем активировать Защиту от атак DDoS ценовой категории "Стандартный", которая обеспечивает возможности по устранению рисков, специально настроенные для ресурсов виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="688a6-250">Although basic DDoS protection is automatically enabled as part of the Azure platform, DDoS Protection Standard provides mitigation capabilities that are tuned specifically to Azure Virtual Network resources.</span></span>  

## <a name="deploy-the-solution"></a><span data-ttu-id="688a6-251">Развертывание решения</span><span class="sxs-lookup"><span data-stu-id="688a6-251">Deploy the solution</span></span>

<span data-ttu-id="688a6-252">Развертывание доступно в [репозитории GitHub][github-folder].</span><span class="sxs-lookup"><span data-stu-id="688a6-252">A deployment is available on [GitHub][github-folder].</span></span> <span data-ttu-id="688a6-253">Он позволяет развернуть следующее:</span><span class="sxs-lookup"><span data-stu-id="688a6-253">It deploys the following:</span></span>

  * <span data-ttu-id="688a6-254">Виртуальную сеть с одной подсетью, называющейся **web**, которая используется для размещения виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="688a6-254">A virtual network with a single subnet named **web** used to host the VM.</span></span>
  * <span data-ttu-id="688a6-255">Группу безопасности сети с двумя правилами для входящего трафика, позволяющими передавать HTTP- и SSH-трафик в виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="688a6-255">An NSG with two incoming rules to allow SSH and HTTP traffic to the VM.</span></span>
  * <span data-ttu-id="688a6-256">Виртуальную машину, на которой выполняется последняя версия Ubuntu 16.04.3 LTS.</span><span class="sxs-lookup"><span data-stu-id="688a6-256">A VM running the latest version of Ubuntu 16.04.3 LTS.</span></span>
  * <span data-ttu-id="688a6-257">Пример расширения пользовательских скриптов, которые форматируют два диска данных и развертывают HTTP-сервер Apache в виртуальной машине Ubuntu.</span><span class="sxs-lookup"><span data-stu-id="688a6-257">A sample custom script extension that formats the two data disks and deploys Apache HTTP Server to the Ubuntu VM.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="688a6-258">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="688a6-258">Prerequisites</span></span>

[!INCLUDE [ref-arch-prerequisites.md](../../../includes/ref-arch-prerequisites.md)]

5. <span data-ttu-id="688a6-259">Создайте пару ключей SSH.</span><span class="sxs-lookup"><span data-stu-id="688a6-259">Create an SSH key pair.</span></span> <span data-ttu-id="688a6-260">Дополнительные сведения см. в статье [Как создать и использовать пару из открытого и закрытого ключей SSH для виртуальных машин Linux в Azure](/azure/virtual-machines/linux/mac-create-ssh-keys).</span><span class="sxs-lookup"><span data-stu-id="688a6-260">For more information, see [How to create and use an SSH public and private key pair for Linux VMs in Azure](/azure/virtual-machines/linux/mac-create-ssh-keys).</span></span>

### <a name="deploy-the-solution-using-azbb"></a><span data-ttu-id="688a6-261">Развертывание решения с помощью azbb</span><span class="sxs-lookup"><span data-stu-id="688a6-261">Deploy the solution using azbb</span></span>

1. <span data-ttu-id="688a6-262">Перейдите в папку `virtual-machines/single-vm/parameters/linux` репозитория, скачанного на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="688a6-262">Navigate to the `virtual-machines/single-vm/parameters/linux` folder for the repository you downloaded in the prerequisites step above.</span></span>

2. <span data-ttu-id="688a6-263">Откройте файл `single-vm-v2.json` и введите имя пользователя и открытый ключ SSH в кавычках, а затем сохраните файл.</span><span class="sxs-lookup"><span data-stu-id="688a6-263">Open the `single-vm-v2.json` file and enter a username and your SSH public key between the quotes, then save the file.</span></span>

  ```bash
  "adminUsername": "<your username>",
  "sshPublicKey": "ssh-rsa AAAAB3NzaC1...",
  ```

3. <span data-ttu-id="688a6-264">Запустите `azbb`, чтобы развернуть пример виртуальной машины, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="688a6-264">Run `azbb` to deploy the sample VM as shown below.</span></span>

  ```bash
  azbb -s <subscription_id> -g <resource_group_name> -l <location> -p single-vm-v2.json --deploy
  ```

<span data-ttu-id="688a6-265">Для проверки развертывания выполните следующую команду Azure CLI, чтобы найти общедоступный IP-адрес виртуальной машины:</span><span class="sxs-lookup"><span data-stu-id="688a6-265">To verify the deployment, run the following Azure CLI command to find the public IP address of the VM:</span></span>

```bash
az vm show -n ra-single-linux-vm1 -g <resource-group-name> -d -o table
```

<span data-ttu-id="688a6-266">По этому адресу в веб-браузере должна открыться домашняя страница Apache2 по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="688a6-266">If you navigate to this address in a web browser, you should see the default Apache2 homepage.</span></span>

<!-- links -->
[audit-logs]: https://azure.microsoft.com/blog/analyze-azure-audit-logs-in-powerbi-more/
[availability-set]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[azbb]: https://github.com/mspnp/template-building-blocks/wiki/Install-Azure-Building-Blocks
[azbbv2]: https://github.com/mspnp/template-building-blocks
[azure-cli-2]: /cli/azure/install-azure-cli?view=azure-cli-latest
[azure-linux]: /azure/virtual-machines/virtual-machines-linux-azure-overview
[azure-storage]: /azure/storage/storage-introduction
[blob-snapshot]: /azure/storage/storage-blob-snapshots
[blob-storage]: /azure/storage/storage-introduction
[boot-diagnostics]: https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/
[cname-record]: https://en.wikipedia.org/wiki/CNAME_record
[data-disk]: /azure/virtual-machines/virtual-machines-linux-about-disks-vhds
[disk-encryption]: /azure/security/azure-security-disk-encryption
[enable-monitoring]: /azure/monitoring-and-diagnostics/insights-how-to-use-diagnostics
[azure-dns]: /azure/dns/dns-overview
[fqdn]: /azure/virtual-machines/virtual-machines-linux-portal-create-fqdn
[git]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[iostat]: https://en.wikipedia.org/wiki/Iostat
[manage-vm-availability]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[managed-disks]: /azure/storage/storage-managed-disks-overview
[naming-conventions]: ../../best-practices/naming-conventions.md
[nsg]: /azure/virtual-network/virtual-networks-nsg
[nsg-default-rules]: /azure/virtual-network/virtual-networks-nsg#default-rules
[planned-maintenance]: /azure/virtual-machines/virtual-machines-linux-planned-maintenance
[premium-storage]: /azure/virtual-machines/linux/premium-storage
[premium-storage-supported]: /azure/virtual-machines/linux/premium-storage#supported-vms
[rbac]: /azure/active-directory/role-based-access-control-what-is
[rbac-roles]: /azure/active-directory/role-based-access-built-in-roles
[rbac-devtest]: /azure/active-directory/role-based-access-built-in-roles#devtest-labs-user
[rbac-network]: /azure/active-directory/role-based-access-built-in-roles#network-contributor
[reboot-logs]: https://azure.microsoft.com/blog/viewing-vm-reboot-logs/
[ref-arch-repo]: https://github.com/mspnp/reference-architectures
[resource-lock]: /azure/resource-group-lock-resources
[resource-manager-overview]: /azure/azure-resource-manager/resource-group-overview
[security-center]: /azure/security-center/security-center-intro
[security-center-get-started]: /azure/security-center/security-center-get-started
[select-vm-image]: /azure/virtual-machines/virtual-machines-linux-cli-ps-findimage
[services-by-region]: https://azure.microsoft.com/regions/#services
[ssh-linux]: /azure/virtual-machines/virtual-machines-linux-mac-create-ssh-keys
[static-ip]: /azure/virtual-network/virtual-networks-reserved-public-ip
[virtual-machine-sizes]: /azure/virtual-machines/virtual-machines-linux-sizes
[visio-download]: https://archcenter.blob.core.windows.net/cdn/vm-reference-architectures.vsdx
[vm-disk-limits]: /azure/azure-subscription-service-limits#virtual-machine-disk-limits
[vm-resize]: /azure/virtual-machines/virtual-machines-linux-change-vm-size
[vm-size-tables]: /azure/virtual-machines/virtual-machines-linux-sizes
[vm-sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines
[0]: ./images/single-vm-diagram.png "Отдельная виртуальная машина Linux в Azure"
