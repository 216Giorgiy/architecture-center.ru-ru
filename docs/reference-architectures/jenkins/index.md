---
title: Запуск сервера Jenkins в Azure
description: На схеме этой эталонной архитектуры показано развертывание и применение в Azure масштабируемого корпоративного сервера Jenkins, защищенного с помощью единого входа (SSO).
author: njray
ms.date: 04/30/2018
ms.openlocfilehash: 89839b0f1c9624176a7b51dca53713070c88b154
ms.sourcegitcommit: dbbf914757b03cdee7a274204f9579fa63d7eed2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/02/2018
ms.locfileid: "50916402"
---
# <a name="run-a-jenkins-server-on-azure"></a>Запуск сервера Jenkins в Azure

На схеме этой эталонной архитектуры показано развертывание и применение в Azure масштабируемого корпоративного сервера Jenkins, защищенного с помощью единого входа (SSO). В этой архитектуре также используется платформа Azure Monitor, позволяющая отслеживать состояние сервера Jenkins. [**Разверните это решение**.](#deploy-the-solution)

![Сервер Jenkins, работающий в Azure][0]

*Скачайте [файл Visio](https://archcenter.blob.core.windows.net/cdn/Jenkins-architecture.vsdx), который содержит схему этой архитектуры.*

Эта архитектура поддерживает аварийное восстановление с помощью служб Azure, но не распространяется на более сложные сценарии горизонтального масштабирования, предусматривающие использование нескольких главных серверов или высокий уровень доступности без простоев. Чтобы получить общее представление о различных компонентах Azure, а также ознакомиться с пошаговым руководством по созданию конвейера непрерывной интеграции и непрерывной доставки в Azure, см. раздел [Jenkins в Azure][jenkins-on-azure].

В этом документе описываются основные операции Azure, необходимые для поддержки Jenkins, включая использование службы хранилища Azure для поддержания артефактов сборки, элементы безопасности, необходимые для единого входа, другие службы, которые можно интегрировать, и возможности масштабирования конвейера. Эта архитектура предназначена для работы с существующим репозиторием системы управления версиями. Например, для начала работы с заданиями Jenkins часто используются фиксации GitHub.

## <a name="architecture"></a>Архитектура

Она состоит из следующих компонентов:

- **Группа ресурсов.** [Группа ресурсов][rg] используется для объединения ресурсов Azure по времени существования, владельцу и другим критериям, а также для управления этими ресурсами. Группы ресурсов позволяют развертывать и отслеживать несколько ресурсов Azure как одну группу, для которой, помимо прочего, можно отслеживать выставляемые счета. Можно также удалить ресурсы в виде набора, что очень удобно для тестирования развернутых служб.

- **Сервер Jenkins.** Для запуска [Jenkins][azure-market] как сервера автоматизации, который выполняет роль главного сервера Jenkins, развертывается виртуальная машина. В этой эталонной архитектуре используется [шаблон решения для Jenkins в Azure][solution], установленный на виртуальной машине Linux (Ubuntu 16.04 LTS) в Azure. Другие предложения Jenkins доступны в Azure Marketplace.

  > [!NOTE]
  > Nginx устанавливается на виртуальной машине и выполняет роль обратного прокси-сервера для Jenkins. Сервер Nginx можно настроить, чтобы разрешить использование SSL на сервере Jenkins.
  > 
  > 

- **Виртуальная сеть**. [Виртуальная сеть][vnet] связывает ресурсы Azure между собой и обеспечивает логическую изоляцию. В этой архитектуре сервер Jenkins работает в виртуальной сети.

- **Подсети.** Сервер Jenkins изолирован в [подсети][subnet]. Это упрощает управление сетевым трафиком и его разделение без ущерба для производительности.

- <strong>Группы безопасности сети.</strong> С помощью [групп безопасности сети][nsg] (NSG) можно ограничить трафик, направляющийся из Интернета в подсеть виртуальной сети.

- **Управляемые диски.** [Управляемый диск][managed-disk] — это постоянный виртуальный жесткий диск (VHD), который обеспечивает хранение приложений, поддержание состояния сервера Jenkins и выполнение аварийного восстановления. Диски данных хранятся в хранилище Azure. Для повышения производительности рекомендуем использовать [хранилище класса Premium][premium].

- **Хранилище BLOB-объектов Azure.** [Подключаемый модуль службы хранилища Azure][configure-storage] использует хранилище BLOB-объектов Azure для хранения артефактов сборки, которые создаются и совместно используются в других сборках Jenkins.

- <strong>Azure Active Directory (Azure AD).</strong> [Azure AD][azure-ad] поддерживает проверку подлинности пользователей, позволяя настроить единый вход. [Субъекты-службы][service-principal] Azure AD определяют политику и разрешения для авторизации каждой роли в рабочем процессе с помощью [управления доступом на основе ролей][rbac] (RBAC). Каждый субъект-служба связан с заданием Jenkins.

- **Azure Key Vault.** Для управления секретами и криптографическими ключами, используемыми для подготовки ресурсов Azure в случаях, когда требуется применять секреты, в этой архитектуре используется [Key Vault][key-vault]. Дополнительные справочные сведения о хранении секретов, связанных с приложением в конвейере, см. также на странице подключаемого модуля для хранения [учетных данных Azure][configure-credential] в Jenkins.

- **Службы мониторинга Azure.** Эта служба обеспечивает [мониторинг][monitor] виртуальной машины Azure, на которой размещен сервер Jenkins. Развернутая служба отслеживает состояние виртуальной машины и загрузку ЦП и отправляет соответствующие оповещения.

## <a name="recommendations"></a>Рекомендации

Следующие рекомендации применимы для большинства ситуаций. Следуйте этим рекомендациям, если они не противоречат особым требованиям для вашего случая.

### <a name="azure-ad"></a>Azure AD

Клиент [Azure AD][azure-ad] для подписки Azure обеспечивает единый вход для пользователей Jenkins и позволяет настроить [субъекты-службы][service-principal], которые предоставляют заданиям Jenkins доступ к ресурсам Azure.

Проверка подлинности и авторизация с использованием единого входа реализуются за счет подключаемого модуля Azure AD, установленного на сервере Jenkins. Технология единого входа позволяет проходить проверку подлинности, используя корпоративные учетные данные из Azure AD, при входе на сервер Jenkins. При настройке подключаемого модуля Azure Active Directory можно указать уровень авторизованного доступа к серверу Jenkins для того или иного пользователя.

Чтобы обеспечить доступ к ресурсам Azure для заданий Jenkins, администратор Azure AD создает субъекты-службы. Они предоставляют приложениям (в нашем случае это задания Jenkins) [доступ к ресурсам Azure с авторизацией и проверкой подлинности][ad-sp].

[RBAC][rbac] дополнительно определяет и контролирует доступ пользователей и субъектов-служб к ресурсам Azure согласно назначенным ролям. Поддерживаются как встроенные, так и пользовательские роли. Роли также помогают защитить конвейер и гарантируют правильное назначение и авторизацию обязанностей пользователя или агента. Кроме того, RBAC можно настроить таким образом, чтобы ограничить доступ к ресурсам Azure. Например, можно разрешить пользователю работать с ресурсами только в определенной группе ресурсов.

### <a name="storage"></a>Хранилище

С помощью [подключаемого модуля службы хранилища Azure][storage-plugin] для Jenkins, установленного из Azure Marketplace, можно хранить артефакты сборки, чтобы использовать их в других сборках и тестах. Чтобы использовать этот подключаемый модуль для заданий Jenkins, сначала необходимо настроить учетную запись хранения Azure.

### <a name="jenkins-azure-plugins"></a>Подключаемые модули Azure для Jenkins

Шаблон решения для Jenkins в Azure устанавливает несколько подключаемых модулей Azure. Группа разработчиков DevOps Azure создает и обслуживает шаблон решения и указанные ниже подключаемые модули, которые могут работать с другими предложениями Jenkins в Azure Marketplace, а также с любым главным сервером Jenkins, настроенным в локальной среде.

-   [Подключаемый модуль Azure AD][configure-azure-ad] обеспечивает поддержку единого входа на сервере Jenkins для пользователей Azure AD.

-   Подключаемый модуль [агентов виртуальных машин Azure][configure-agent] создает агенты Jenkins на виртуальных машинах Azure с помощью шаблона Azure Resource Manager.

-   Подключаемый модуль [учетных данных Azure][configure-credential] позволяет хранить учетные данные субъекта-службы Azure в Jenkins.

-   [Подключаемый модуль службы хранилища Azure][configure-storage] отправляет артефакты сборки в [хранилище BLOB-объектов Azure][blob] или скачивает из него зависимости сборки.

Также рекомендуем просмотреть постоянно пополняющийся список всех доступных подключаемых модулей Azure, работающих с ресурсами Azure. Чтобы просмотреть последнюю версию всего списка, перейдите на страницу [индекса подключаемых модулей Jenkins][index] и выполните поиск по термину "Azure". Например, для развертывания доступны следующие подключаемые модули:

-   Подключаемый модуль [агентов контейнеров Azure][container-agents] позволяет запускать контейнер в качестве агента в Jenkins.

-   Подключаемый модуль [непрерывного развертывания Kubernetes](https://aka.ms/azjenkinsk8s) развертывает конфигурации ресурсов в кластере Kubernetes.

-   Подключаемый модуль [службы контейнеров Azure][acs] развертывает конфигурации в Службе контейнеров Azure с помощью Kubernetes, в DC/OS с помощью Marathon или Docker Swarm.

-   Подключаемый модуль [службы "Функций Azure"][functions] развертывает проект в функции Azure.

-   Подключаемый модуль [службы приложений Azure][app-service] выполняет развертывание в службе приложений Azure.

## <a name="scalability-considerations"></a>Вопросы масштабируемости

Для поддержки очень больших рабочих нагрузок предусмотрено масштабирование Jenkins. Эластичные сборки не следует запускать на главном сервере Jenkins. Вместо этого перенесите задачи сборки на агенты Jenkins, которые можно масштабировать при необходимости. Есть два варианта масштабирования агентов.

- Использование подключаемого модуля [агентов виртуальных машин Azure][vm-agent] для создания агентов Jenkins, работающих на виртуальных машинах Azure. Этот подключаемый модуль обеспечивает гибкое горизонтальное масштабирование агентов, в котором могут быть задействованы различные типы виртуальных машин. Вы можете выбрать другой базовый образ в Azure Marketplace или применить пользовательский образ. Дополнительные сведения о масштабировании агентов Jenkins см. в разделе документации Jenkins, посвященном [архитектуре с возможностью масштабирования][scale].

- Использование подключаемого модуля [агентов контейнеров Azure][container-agents] для запуска контейнера в качестве агента в [Службе контейнеров Azure с помощью Kubernetes](/azure/container-service/kubernetes/) или в службе [Экземпляры контейнеров Azure](/azure/container-instances/).

Масштабирование виртуальных машин обычно дороже, чем масштабирование контейнеров. Но если для масштабирования нужно использовать контейнеры, их нужно применять и в процессе сборки.

Кроме того, в службе хранилища Azure можно предоставлять общий доступ к артефактам сборки, которые могут использовать другие агенты сборки на следующем этапе конвейера.

### <a name="scaling-the-jenkins-server"></a>Масштабирование сервера Jenkins 

Размер виртуальной машины с сервером Jenkins можно увеличивать и уменьшать (масштабировать). В [шаблоне решения для Jenkins в Azure][azure-market] по умолчанию указан размер DS2 v2 (с двумя процессорами и 7 ГБ памяти). Этот размер подходит для небольших и средних рабочих нагрузок команды сотрудников. Размер виртуальной машины можно изменить, выбрав другой вариант при сборке сервера. 

Выбор правильного размера сервера зависит от объема ожидаемой рабочей нагрузки. Сообщество Jenkins составило и обновляет [руководство по выбору размера][selection-guide], которое поможет определить конфигурацию, максимально соответствующую вашим требованиям. В Azure доступны разные [размеры виртуальных машин Linux][sizes-linux], подходящие для любых требований. Дополнительные сведения о масштабировании главного сервера Jenkins см. в [рекомендациях][best-practices] сообщества Jenkins.


## <a name="availability-considerations"></a>Вопросы доступности

Доступность в контексте сервера Jenkins означает возможность восстановления сведений о состоянии, связанных с рабочим процессом, например результатов теста, созданных библиотек или других артефактов. Если сервер Jenkins выходит из строя, для восстановления рабочего процесса важно поддерживать критическое состояние рабочего процесса или артефактов. Для оценки требований к доступности рекомендуем использовать две общие метрики:

-   Целевое время восстановления (RTO) указывает, как долго вы сможете обходиться без сервера Jenkins.

-   Целевая точка восстановления (RPO) указывает, какой объем данных допустимо потерять, если нарушение работы служб повлияет на функционирование сервера Jenkins.

На практике под терминами RTO и RPO подразумеваются избыточность и резервное копирование. Доступность означает не восстановление оборудования — оно относится к платформе Azure, — а поддержание состояния сервера Jenkins. Корпорация Майкрософт предлагает [Соглашение об уровне обслуживания][sla] (SLA) для отдельных экземпляров виртуальной машины. Если это соглашение не соответствует вашим требованиям ко времени непрерывной работы, разработайте план аварийного восстановления или выполните развертывание [с несколькими главными серверами Jenkins][multi-master] (не рассматривается в этом документе).

На седьмом шаге развертывания рекомендуем воспользоваться [скриптами][disaster] аварийного восстановления, чтобы создать учетную запись хранения Azure с управляемыми дисками для сохранения состояния сервера Jenkins. Если сервер Jenkins выйдет из строя, его можно будет восстановить до состояния, сохраненного в этой отдельной учетной записи хранения.

## <a name="security-considerations"></a>Вопросы безопасности

Используйте описанные ниже методы для обеспечения безопасности главного сервера Jenkins, так как в своем первоначальном состоянии он не является защищенным.

-   Настройте параметры безопасного входа на сервер Jenkins. В этой архитектуре используется HTTP и общедоступный IP-адрес. Однако протокол HTTP не является безопасным по умолчанию. Рекомендуем настроить [HTTPS на сервере Nginx][nginx] для безопасного входа.

    > [!NOTE]
    > При добавлении протокола SSL на сервер создайте правило NSG для подсети Jenkins, чтобы открыть порт 443. Дополнительные сведения см. в статье [Как открыть порты для виртуальной машины Windows с помощью портала Azure][port443].
    > 

-   Конфигурация Jenkins должна запрещать подделку межсайтовых запросов (Manage Jenkins \> Configure Global Security (Управление Jenkins > Настройка глобальной безопасности)). Это значение по умолчанию для сервера Microsoft Jenkins.

-   Настройте доступ только для чтения к информационной панели Jenkins с помощью [подключаемого модуля стратегии авторизации матрицы][matrix].

-   Установите подключаемый модуль [учетных данных Azure][configure-credential], чтобы с помощью Key Vault управлять секретами для ресурсов Azure, агентов в конвейере и компонентов сторонних разработчиков.

-   Используйте RBAC, чтобы ограничить доступ субъекта-службы до минимума, необходимого для выполнения заданий. Это поможет ограничить объем ущерба в случае, если заданием воспользуются мошенники.

Заданиям Jenkins часто требуются секреты для доступа к службам Azure с обязательной авторизацией (например, к Службе контейнеров Azure). Для безопасного управления этими секретами используйте [Key Vault][key-vault] совместно с [подключаемым модулем учетных данных Azure ][configure-credential]. В Key Vault можно хранить учетные данные, пароли, маркеры и другие секретные данные субъектов-служб.

Благодаря [центру безопасности Azure][security-center] можно получить полное представление о состоянии безопасности ваших ресурсов Azure. Центр безопасности отслеживает потенциальные проблемы безопасности, а также обеспечивает полное представление о состоянии системы безопасности развертывания. Центр безопасности настраивается на уровне подписки Azure. Включите сбор данных о безопасности, как описано в [кратком руководстве по использованию центра безопасности Azure][quick-start]. Когда сбор данных включен, центр безопасности автоматически проверяет все виртуальные машины, созданные для этой подписки.

Сервер Jenkins оснащен собственной системой управления пользователями, а участники сообщества Jenkins разработали рекомендации по [защите экземпляра Jenkins в Azure][secure-jenkins]. Эти рекомендации реализованы в шаблоне решения для Jenkins в Azure.

## <a name="manageability-considerations"></a>Вопросы управляемости

Развернутые ресурсы Azure можно упорядочить с помощью групп ресурсов. Развертывайте рабочие среды и среды разработки и тестирования в отдельных группах. Это позволит отслеживать ресурсы в каждой среде и оплачивать счета отдельно для каждой группы ресурсов. Можно также удалить ресурсы в виде набора, что очень удобно для тестирования развернутых служб.

Azure предоставляет несколько функций для [мониторинга и диагностики][monitoring-diag] во всей инфраструктуре. Для наблюдения за загрузкой ЦП в этой архитектуре развернута служба Azure Monitor. Например, вы можете использовать Azure Monitor, чтобы отслеживать загрузку ЦП и настроить отправку уведомлений в случае, если этот показатель превысит 80 %. (Высокая загрузка ЦП указывает на то, что может потребоваться масштабирование виртуальной машины с сервером Jenkins.) Также можно уведомить указанного пользователя в случае неисправности или недоступности виртуальной машины.

## <a name="communities"></a>Сообщества

Участники сообществ отвечают на вопросы и помогают настроить успешное развертывание. Рассмотрим следующее:

-   [блог сообщества Jenkins](https://jenkins.io/node/);
-   [форум Azure](https://azure.microsoft.com/support/forums/);
-   [раздел, посвященный Jenkins, на сайте Stack Overflow](https://stackoverflow.com/tags/jenkins/info).

Дополнительные советы и рекомендации от сообщества Jenkins см. [здесь][jenkins-best].

## <a name="deploy-the-solution"></a>Развертывание решения

Для развертывания этой архитектуры выполните следующие действия, чтобы установить [шаблон решения для Jenkins в Azure][azure-market]. Затем установите скрипты для настройки мониторинга и аварийного восстановления, как описано далее.

### <a name="prerequisites"></a>Предварительные требования

- Для этой эталонной архитектуры требуется подписка Azure. 
- Для создания субъекта-службы Azure необходимы права администратора для клиента Azure AD, связанного с развернутым сервером Jenkins.
- В этих инструкциях предполагается, что администратор Jenkins является также пользователем Azure по меньшей мере с правами участника.

### <a name="step-1-deploy-the-jenkins-server"></a>Шаг 1. Развертывание сервера Jenkins

1.  Откройте [образ Microsoft Azure Marketplace для Jenkins][azure-market] в браузере и нажмите кнопку **Получить** в левой части страницы.

2.  Просмотрите сведения о ценах и выберите **Продолжить**, а затем нажмите **Создание**, чтобы настроить сервер Jenkins на портале Azure.

Подробные инструкции см. в статье [Создание сервера Jenkins на виртуальной машине Azure под управлением Linux на портале Azure][create-jenkins]. Для этой архитектуры достаточно запустить сервер от имени администратора. Затем можно подготовить его для использования других служб.

### <a name="step-2-set-up-sso"></a>Шаг 2. Настройка единого входа

Этот шаг выполняет администратор Jenkins, который также должен иметь учетную запись пользователя в каталоге подписки Azure AD. Кроме того, ему должна быть назначена роль участника.

Используйте [подключаемый модуль Azure Active Directory][configure-azure-ad] из центра обновления Jenkins на сервере Jenkins и следуйте инструкциям по настройке единого входа.

### <a name="step-3-provision-jenkins-server-with-azure-vm-agent-plugin"></a>Шаг 3. Подготовка сервера Jenkins с помощью подключаемого модуля агента виртуальной машины Azure

Этот шаг выполняет администратор Jenkins, который настраивает уже установленный подключаемый модуль агента виртуальной машины Azure.

[Чтобы настроить подключаемый модуль, выполните эти действия][configure-agent]. Сведения о настройке субъектов-служб для использования с подключаемым модулем см. в статье [Масштабирование развертываний Jenkins в соответствии с требованиями агентов виртуальных машин Azure][scale-agent].

### <a name="step-4-provision-jenkins-server-with-azure-storage"></a>Шаг 4. Подготовка сервера Jenkins с помощью службы хранилища Azure

Этот шаг выполняет администратор Jenkins, который настраивает установленный подключаемый модуль.

[Чтобы настроить подключаемый модуль, выполните эти действия][configure-storage].

### <a name="step-5-provision-jenkins-server-with-azure-credential-plugin"></a>Шаг 5. Подготовка сервера Jenkins с помощью подключаемого модуля учетных данных Azure

Этот шаг выполняет администратор Jenkins, который настраивает уже установленный подключаемый модуль учетных данных Azure.

[Чтобы настроить подключаемый модуль, выполните эти действия][configure-credential].

### <a name="step-6-provision-jenkins-server-for-monitoring-by-the-azure-monitor-service"></a>Шаг 6. Подготовка сервера Jenkins для наблюдения с помощью Azure Monitor

Чтобы настроить мониторинг для сервера Jenkins, следуйте инструкциям из статьи [Создание оповещений метрик в Azure Monitor для служб Azure с помощью портала Azure][create-metric].

### <a name="step-7-provision-jenkins-server-with-managed-disks-for-disaster-recovery"></a>Шаг 7. Подготовка сервера Jenkins с помощью управляемых дисков для аварийного восстановления

Группа продукта Microsoft Jenkins разработала скрипты аварийного восстановления, с помощью которых можно создать управляемый диск для сохранения состояния Jenkins. Если сервер выйдет из строя, можно будет восстановить его последнее состояние.

Скачайте и запустите скрипты аварийного восстановления из [GitHub][disaster].

[acs]: https://aka.ms/azjenkinsacs
[ad-sp]: /azure/active-directory/develop/active-directory-integrating-applications
[app-service]: https://plugins.jenkins.io/azure-app-service
[azure-ad]: /azure/active-directory/
[azure-market]: https://azuremarketplace.microsoft.com/marketplace/apps/azure-oss.jenkins?tab=Overview
[best-practices]: https://jenkins.io/doc/book/architecting-for-scale/
[blob]: /azure/storage/common/storage-java-jenkins-continuous-integration-solution
[configure-azure-ad]: https://plugins.jenkins.io/azure-ad
[configure-agent]: https://plugins.jenkins.io/azure-vm-agents
[configure-credential]: https://plugins.jenkins.io/azure-credentials
[configure-storage]: https://plugins.jenkins.io/windows-azure-storage
[container-agents]: https://aka.ms/azcontaineragent
[create-jenkins]: /azure/jenkins/install-jenkins-solution-template
[create-metric]: /azure/monitoring-and-diagnostics/insights-alerts-portal
[disaster]: https://github.com/Azure/jenkins/tree/master/disaster_recovery
[functions]: https://aka.ms/azjenkinsfunctions
[index]: https://plugins.jenkins.io
[jenkins-best]: https://wiki.jenkins.io/display/JENKINS/Jenkins+Best+Practices
[jenkins-on-azure]: /azure/jenkins/
[key-vault]: /azure/key-vault/
[managed-disk]: /azure/virtual-machines/linux/managed-disks-overview
[matrix]: https://plugins.jenkins.io/matrix-auth
[monitor]: /azure/monitoring-and-diagnostics/
[monitoring-diag]: /azure/architecture/best-practices/monitoring
[multi-master]: https://jenkins.io/doc/book/architecting-for-scale/
[nginx]: https://www.digitalocean.com/community/tutorials/how-to-create-an-ssl-certificate-on-nginx-for-ubuntu-14-04
[nsg]: /azure/virtual-network/virtual-networks-nsg
[quick-start]: /azure/security-center/security-center-get-started
[port443]: /azure/virtual-machines/windows/nsg-quickstart-portal
[premium]: /azure/virtual-machines/linux/premium-storage
[rbac]: /azure/active-directory/role-based-access-control-what-is
[rg]: /azure/azure-resource-manager/resource-group-overview
[scale]: https://jenkins.io/doc/book/architecting-for-scale/
[scale-agent]: /azure/jenkins/jenkins-azure-vm-agents
[selection-guide]: https://jenkins.io/doc/book/hardware-recommendations/
[service-principal]: /azure/active-directory/develop/active-directory-application-objects
[secure-jenkins]: https://jenkins.io/blog/2017/04/20/secure-jenkins-on-azure/
[security-center]: /azure/security-center/security-center-intro
[sizes-linux]: /azure/virtual-machines/linux/sizes?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json
[solution]: https://azure.microsoft.com/blog/announcing-the-solution-template-for-jenkins-on-azure/
[sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines/
[storage-plugin]: https://wiki.jenkins.io/display/JENKINS/Windows+Azure+Storage+Plugin
[subnet]: /azure/virtual-network/virtual-network-manage-subnet
[vm-agent]: https://wiki.jenkins.io/display/JENKINS/Azure+VM+Agents+plugin
[vnet]: /azure/virtual-network/virtual-networks-overview
[0]: ./images/jenkins-server.png 
