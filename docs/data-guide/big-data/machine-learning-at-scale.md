---
title: Машинное обучение с поддержкой масштабирования
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: 30af134c0dc33b12d86057dd6ac5034c5f108f05
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2019
ms.locfileid: "58245995"
---
# <a name="machine-learning-at-scale"></a><span data-ttu-id="dcecb-102">Машинное обучение с поддержкой масштабирования</span><span class="sxs-lookup"><span data-stu-id="dcecb-102">Machine learning at scale</span></span>

<span data-ttu-id="dcecb-103">Машинное обучение (ML) — это метод обучения прогнозных моделей на основе математических алгоритмов.</span><span class="sxs-lookup"><span data-stu-id="dcecb-103">Machine learning (ML) is a technique used to train predictive models based on mathematical algorithms.</span></span> <span data-ttu-id="dcecb-104">При машинном обучении анализируются связи между полями данных для прогнозирования неизвестных значений.</span><span class="sxs-lookup"><span data-stu-id="dcecb-104">Machine learning analyzes the relationships between data fields to predict unknown values.</span></span>

<span data-ttu-id="dcecb-105">Создание и развертывание модели машинного обучения выполняется итеративно:</span><span class="sxs-lookup"><span data-stu-id="dcecb-105">Creating and deploying a machine learning model is an iterative process:</span></span>

- <span data-ttu-id="dcecb-106">Специалисты по обработке и анализу данных просматривают исходные данные и находят связи между *компонентами* и прогнозируемыми *метками*.</span><span class="sxs-lookup"><span data-stu-id="dcecb-106">Data scientists explore the source data to determine relationships between *features* and predicted *labels*.</span></span>
- <span data-ttu-id="dcecb-107">Затем они обучают и проверяют модели на основе подходящих алгоритмов, стараясь определить оптимальную модель прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="dcecb-107">The data scientists train and validate models based on appropriate algorithms to find the optimal model for prediction.</span></span>
- <span data-ttu-id="dcecb-108">Найденная оптимальная модель развертывается в рабочей среде в форме веб-службы или другой инкапсулированной функции.</span><span class="sxs-lookup"><span data-stu-id="dcecb-108">The optimal model is deployed into production, as a web service or some other encapsulated function.</span></span>
- <span data-ttu-id="dcecb-109">По мере сбора новых данных модель периодически проходит повторное обучение, что повышает ее эффективность.</span><span class="sxs-lookup"><span data-stu-id="dcecb-109">As new data is collected, the model is periodically retrained to improve its effectiveness.</span></span>

<span data-ttu-id="dcecb-110">Для поддержки масштабируемости в машинном обучении нужно решить две задачи.</span><span class="sxs-lookup"><span data-stu-id="dcecb-110">Machine learning at scale addresses two different scalability concerns.</span></span> <span data-ttu-id="dcecb-111">Во-первых, обучение модели по большим наборам данных требует высокой производительности и масштабируемости вычислительного кластера.</span><span class="sxs-lookup"><span data-stu-id="dcecb-111">The first is training a model against large data sets that require the scale-out capabilities of a cluster to train.</span></span> <span data-ttu-id="dcecb-112">Во-вторых, ввод модели в эксплуатацию должен допускать масштабирование в соответствии с требованиями приложений, в которых используется модель.</span><span class="sxs-lookup"><span data-stu-id="dcecb-112">The second centers is operationalizating the learned model in a way that can scale to meet the demands of the applications that consume it.</span></span> <span data-ttu-id="dcecb-113">Обычно для этого прогнозная функция развертывается в виде веб-службы, которую можно легко масштабировать.</span><span class="sxs-lookup"><span data-stu-id="dcecb-113">Typically this is accomplished by deploying the predictive capabilities as a web service that can then be scaled out.</span></span>

<span data-ttu-id="dcecb-114">Машинное обучение с поддержкой масштабирования обеспечивает мощные прогностические возможности, так как с увеличением объема данных модели совершенствуются.</span><span class="sxs-lookup"><span data-stu-id="dcecb-114">Machine learning at scale has the benefit that it can produce powerful, predictive capabilities because better models typically result from more data.</span></span> <span data-ttu-id="dcecb-115">После обучения модели ее можно развернуть в виде высокопроизводительной и масштабируемой веб-службы без учета состояния.</span><span class="sxs-lookup"><span data-stu-id="dcecb-115">Once a model is trained, it can be deployed as a stateless, highly-performant, scale-out web service.</span></span>

## <a name="model-preparation-and-training"></a><span data-ttu-id="dcecb-116">Подготовка и обучение модели</span><span class="sxs-lookup"><span data-stu-id="dcecb-116">Model preparation and training</span></span>

<span data-ttu-id="dcecb-117">На этапах подготовки и обучения модели специалисты по обработке и анализу данных интерактивно исследуют данные с помощью языков Python, R и др., чтобы достичь следующих целей:</span><span class="sxs-lookup"><span data-stu-id="dcecb-117">During the model preparation and training phase, data scientists explore the data interactively using languages like Python and R to:</span></span>

- <span data-ttu-id="dcecb-118">извлечь образцы из хранилищ данных большого объема;</span><span class="sxs-lookup"><span data-stu-id="dcecb-118">Extract samples from high volume data stores.</span></span>
- <span data-ttu-id="dcecb-119">найти и устранить выбросы значений, дубликаты и пустые значения, то есть очистить данные;</span><span class="sxs-lookup"><span data-stu-id="dcecb-119">Find and treat outliers, duplicates, and missing values to clean the data.</span></span>
- <span data-ttu-id="dcecb-120">определить зависимости и связи данных с помощью статистического анализа и визуализаций;</span><span class="sxs-lookup"><span data-stu-id="dcecb-120">Determine correlations and relationships in the data through statistical analysis and visualization.</span></span>
- <span data-ttu-id="dcecb-121">создать вычисляемые компоненты, повышающие прогнозируемость статистических связей;</span><span class="sxs-lookup"><span data-stu-id="dcecb-121">Generate new calculated features that improve the predictiveness of statistical relationships.</span></span>
- <span data-ttu-id="dcecb-122">обучить модели машинного обучения на основе прогнозных алгоритмов;</span><span class="sxs-lookup"><span data-stu-id="dcecb-122">Train ML models based on predictive algorithms.</span></span>
- <span data-ttu-id="dcecb-123">проверить обученные модели с использованием данных, не включенных в набор данных для обучения.</span><span class="sxs-lookup"><span data-stu-id="dcecb-123">Validate trained models using data that was withheld during training.</span></span>

<span data-ttu-id="dcecb-124">Чтобы упростить этап интерактивного анализа и моделирования, платформа данных должна предоставлять и поддерживать разнообразные средства для изучения данных.</span><span class="sxs-lookup"><span data-stu-id="dcecb-124">To support this interactive analysis and modeling phase, the data platform must enable data scientists to explore data using a variety of tools.</span></span> <span data-ttu-id="dcecb-125">Кроме того, обучение комплексной модели машинного обучения требует крайне ресурсоемких вычислений для обработки больших объемов данных. Поэтому необходимо предоставить достаточный объем ресурсов для масштабирования процесса обучения.</span><span class="sxs-lookup"><span data-stu-id="dcecb-125">Additionally, the training of a complex machine learning model can require a lot of intensive processing of high volumes of data, so sufficient resources for scaling out the model training is essential.</span></span>

## <a name="model-deployment-and-consumption"></a><span data-ttu-id="dcecb-126">Развертывание и использование модели</span><span class="sxs-lookup"><span data-stu-id="dcecb-126">Model deployment and consumption</span></span>

<span data-ttu-id="dcecb-127">Когда модель будет готова к развертыванию, ее можно инкапсулировать в веб-службу и развернуть в облаке, на пограничном устройстве или в корпоративной среде выполнения машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="dcecb-127">When a model is ready to be deployed, it can be encapsulated as a web service and deployed in the cloud, to an edge device, or within an enterprise ML execution environment.</span></span> <span data-ttu-id="dcecb-128">Этот процесс развертывания называется вводом в эксплуатацию.</span><span class="sxs-lookup"><span data-stu-id="dcecb-128">This deployment process is referred to as operationalization.</span></span>

## <a name="challenges"></a><span data-ttu-id="dcecb-129">Сложности</span><span class="sxs-lookup"><span data-stu-id="dcecb-129">Challenges</span></span>

<span data-ttu-id="dcecb-130">Машинное обучение с поддержкой масштабирования сопровождается несколькими сложностями:</span><span class="sxs-lookup"><span data-stu-id="dcecb-130">Machine learning at scale produces a few challenges:</span></span>

- <span data-ttu-id="dcecb-131">Для обучения модели часто требуется большой объем данных, особенно если это модель глубокого обучения.</span><span class="sxs-lookup"><span data-stu-id="dcecb-131">You typically need a lot of data to train a model, especially for deep learning models.</span></span>
- <span data-ttu-id="dcecb-132">Эти большие наборы данных должны быть готовы до того, как вы сможете приступить к обучению.</span><span class="sxs-lookup"><span data-stu-id="dcecb-132">You need to prepare these big data sets before you can even begin training your model.</span></span>
- <span data-ttu-id="dcecb-133">Этап обучения модели требует доступа к хранилищам больших данных.</span><span class="sxs-lookup"><span data-stu-id="dcecb-133">The model training phase must access the big data stores.</span></span> <span data-ttu-id="dcecb-134">Обычно обучение модели выполняют на основе кластера больших данных (например, Spark), который используется для подготовки данных.</span><span class="sxs-lookup"><span data-stu-id="dcecb-134">It's common to perform the model training using the same big data cluster, such as Spark, that is used for data preparation.</span></span>
- <span data-ttu-id="dcecb-135">В некоторых ситуациях, например для глубокого обучения, необходимо использовать кластер, который поддерживает не только горизонтальное масштабирование процессоров, но и узлы с GPU.</span><span class="sxs-lookup"><span data-stu-id="dcecb-135">For scenarios such as deep learning, not only will you need a cluster that can provide you scale out on CPUs, but your cluster will need to consist of GPU-enabled nodes.</span></span>

## <a name="machine-learning-at-scale-in-azure"></a><span data-ttu-id="dcecb-136">Машинное обучение с поддержкой масштабирования в Azure</span><span class="sxs-lookup"><span data-stu-id="dcecb-136">Machine learning at scale in Azure</span></span>

<span data-ttu-id="dcecb-137">Прежде чем выбирать службу машинного обучения для обучения модели и ее ввода в эксплуатацию, вам следует проанализировать потребность в таком обучении. Возможно, одна из готовых моделей полностью соответствует всем вашим требованиям.</span><span class="sxs-lookup"><span data-stu-id="dcecb-137">Before deciding which ML services to use in training and operationalization, consider whether you need to train a model at all, or if a prebuilt model can meet your requirements.</span></span> <span data-ttu-id="dcecb-138">Часто для применения готовой модели достаточно настроить вызов веб-службы или загрузить модель с помощью библиотеки машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="dcecb-138">In many cases, using a prebuilt model is just a matter of calling a web service or using an ML library to load an existing model.</span></span> <span data-ttu-id="dcecb-139">Вот некоторые из доступных вариантов:</span><span class="sxs-lookup"><span data-stu-id="dcecb-139">Some options include:</span></span>

- <span data-ttu-id="dcecb-140">используйте веб-службы, предоставляемые Microsoft Cognitive Services;</span><span class="sxs-lookup"><span data-stu-id="dcecb-140">Use the web services provided by Microsoft Cognitive Services.</span></span>
- <span data-ttu-id="dcecb-141">используйте предварительно обученные модели нейронных сетей, предоставляемые в Cognitive Toolkit;</span><span class="sxs-lookup"><span data-stu-id="dcecb-141">Use the pretrained neural network models provided by Cognitive Toolkit.</span></span>
- <span data-ttu-id="dcecb-142">внедрите сериализованные модели, предоставляемые Core ML для приложений iOS.</span><span class="sxs-lookup"><span data-stu-id="dcecb-142">Embed the serialized models provided by Core ML for an iOS apps.</span></span>

<span data-ttu-id="dcecb-143">Если готовые модели не соответствуют особенностям ваших данных или сценария применения, примените одну из служб Azure: Машинное обучение Azure, HDInsight с библиотеками Spark MLlib и MMLSpark, Azure Databricks, Cognitive Toolkit и Машинное обучение SQL.</span><span class="sxs-lookup"><span data-stu-id="dcecb-143">If a prebuilt model does not fit your data or your scenario, options in Azure include Azure Machine Learning, HDInsight with Spark MLlib and MMLSpark, Azure Databricks, Cognitive Toolkit, and SQL Machine Learning Services.</span></span> <span data-ttu-id="dcecb-144">Если вы решили использовать пользовательскую модель, разработайте конвейер для обучения модели и ее ввода в эксплуатацию.</span><span class="sxs-lookup"><span data-stu-id="dcecb-144">If you decide to use a custom model, you must design a pipeline that includes model training and operationalization.</span></span>

![Параметры модели в Azure](./images/machine-learning-model-training-and-deployment.png)

<span data-ttu-id="dcecb-146">Список доступных в Azure технологий машинного обучения можно получить в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="dcecb-146">For a list of technology choices for ML in Azure, see the following topics:</span></span>

- [<span data-ttu-id="dcecb-147">Выбор технологии Microsoft Cognitive Services</span><span class="sxs-lookup"><span data-stu-id="dcecb-147">Choosing a cognitive services technology</span></span>](../technology-choices/cognitive-services.md)
- [<span data-ttu-id="dcecb-148">Выбор технологии машинного обучения в Azure</span><span class="sxs-lookup"><span data-stu-id="dcecb-148">Choosing a machine learning technology</span></span>](../technology-choices/data-science-and-machine-learning.md)
- [<span data-ttu-id="dcecb-149">Выбор технологии обработки естественных языков в Azure</span><span class="sxs-lookup"><span data-stu-id="dcecb-149">Choosing a natural language processing technology</span></span>](../technology-choices/natural-language-processing.md)

## <a name="next-steps"></a><span data-ttu-id="dcecb-150">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="dcecb-150">Next steps</span></span>

<span data-ttu-id="dcecb-151">Следующая эталонная архитектура демонстрирует сценарии машинного обучения в Azure:</span><span class="sxs-lookup"><span data-stu-id="dcecb-151">The following reference architectures show machine learning scenarios in Azure:</span></span>

- [<span data-ttu-id="dcecb-152">Пакетная оценка для моделей глубокого обучения в Azure</span><span class="sxs-lookup"><span data-stu-id="dcecb-152">Batch scoring on Azure for deep learning models</span></span>](../../reference-architectures/ai/batch-scoring-deep-learning.md)
- [<span data-ttu-id="dcecb-153">Оценка в реальном времени моделей Python scikit-learn и глубокого обучения в Azure</span><span class="sxs-lookup"><span data-stu-id="dcecb-153">Real-time scoring of Python Scikit-Learn and Deep Learning Models on Azure</span></span>](../../reference-architectures/ai/realtime-scoring-python.md)