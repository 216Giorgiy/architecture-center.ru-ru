---
title: Хранение данных и киоски данных
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.openlocfilehash: 9a3ca2daf8a94d0df50d269a7ee30902858ba970
ms.sourcegitcommit: 1f4cdb08fe73b1956e164ad692f792f9f635b409
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2019
ms.locfileid: "54113495"
---
# <a name="data-warehousing-and-data-marts"></a><span data-ttu-id="4b35a-102">Хранение данных и киоски данных</span><span class="sxs-lookup"><span data-stu-id="4b35a-102">Data warehousing and data marts</span></span>

<span data-ttu-id="4b35a-103">Хранилищем данных называется централизованный, организационный и реляционный репозиторий данных, собранных из одного или нескольких разнородных источников, по нескольким или многим предметным областям.</span><span class="sxs-lookup"><span data-stu-id="4b35a-103">A data warehouse is a central, organizational, relational repository of integrated data from one or more disparate sources, across many or all subject areas.</span></span> <span data-ttu-id="4b35a-104">Хранилища данных содержат текущие и архивные данные и обычно применяются для создания отчетов и разных технологий анализа данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-104">Data warehouses store current and historical data and are used for reporting and analysis of the data in different ways.</span></span>

![Хранение данных в Azure](../images/data-warehousing.png)

<span data-ttu-id="4b35a-106">Чтобы поместить данные в хранилище данных, они периодически извлекаются из разных источников важной бизнес-информации.</span><span class="sxs-lookup"><span data-stu-id="4b35a-106">To move data into a data warehouse, it is extracted on a periodic basis from various sources that contain important business information.</span></span> <span data-ttu-id="4b35a-107">В процессе перемещения эти данные можно отформатировать, очистить, проверить, свести и реорганизовать.</span><span class="sxs-lookup"><span data-stu-id="4b35a-107">As the data is moved, it can be formatted, cleaned, validated, summarized, and reorganized.</span></span> <span data-ttu-id="4b35a-108">Есть также возможность сохранить данные с самым низким уровнем детализации и применить для составления отчетов агрегированные представления, доступные в хранилище.</span><span class="sxs-lookup"><span data-stu-id="4b35a-108">Alternately, the data can be stored in the lowest level of detail, with aggregated views provided in the warehouse for reporting.</span></span> <span data-ttu-id="4b35a-109">В любом случае хранилище данных становится местом постоянного хранения данных, откуда они извлекаются средствами бизнес-аналитики (BI) для отчетов, анализа и принятия важных решений.</span><span class="sxs-lookup"><span data-stu-id="4b35a-109">In either case, the data warehouse becomes a permanent storage space for data used for reporting, analysis, and forming important business decisions using business intelligence (BI) tools.</span></span>

## <a name="data-marts-and-operational-data-stores"></a><span data-ttu-id="4b35a-110">Киоски данных и хранилища операционных данных</span><span class="sxs-lookup"><span data-stu-id="4b35a-110">Data marts and operational data stores</span></span>

<span data-ttu-id="4b35a-111">Управление данными в большом объеме — это сложная задача, и сейчас все реже встречаются системы с единым хранилищем для всех данных крупной организации.</span><span class="sxs-lookup"><span data-stu-id="4b35a-111">Managing data at scale is complex, and it is becoming less common to have a single data warehouse that represents all data across the entire enterprise.</span></span> <span data-ttu-id="4b35a-112">Вместо этого организации создают небольшие и более специализированные хранилища данных, получившие название *киоски данных*, которые предоставляют необходимые данные для анализа.</span><span class="sxs-lookup"><span data-stu-id="4b35a-112">Instead, organizations create smaller, more focused data warehouses, called *data marts*, that expose the desired data for analytics purposes.</span></span> <span data-ttu-id="4b35a-113">В процессе оркестрации киоски данных заполняются информацией из хранилища операционных данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-113">An orchestration process populates the data marts from data maintained in an operational data store.</span></span> <span data-ttu-id="4b35a-114">В этой схеме хранилище операционных данных выполняет роль посредника между системой транзакций, используемой в качестве источника, и киоском данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-114">The operational data store acts as an intermediary between the source transactional system and the data mart.</span></span> <span data-ttu-id="4b35a-115">В хранилище операционных данных представлена очищенная версия данных, собранных в исходной системе транзакций. Как правило, это архивные данные в меньшем объеме из хранилища данных или киоска данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-115">Data managed by the operational data store is a cleaned version of the data present in the source transactional system, and is typically a subset of the historical data that is maintained by the data warehouse or data mart.</span></span>

## <a name="when-to-use-this-solution"></a><span data-ttu-id="4b35a-116">Когда следует использовать это решение</span><span class="sxs-lookup"><span data-stu-id="4b35a-116">When to use this solution</span></span>

<span data-ttu-id="4b35a-117">Используйте хранилище данных, если на основе большого объема данных из операционных систем вам нужно получить актуальные и точные данные в удобочитаемом формате.</span><span class="sxs-lookup"><span data-stu-id="4b35a-117">Choose a data warehouse when you need to turn massive amounts of data from operational systems into a format that is easy to understand, current, and accurate.</span></span> <span data-ttu-id="4b35a-118">Для хранилища данных не обязательно применять такую же сжатую структуру данных, которая используется в оперативной базе данных или OLTP.</span><span class="sxs-lookup"><span data-stu-id="4b35a-118">Data warehouses do not need to follow the same terse data structure you may be using in your operational/OLTP databases.</span></span> <span data-ttu-id="4b35a-119">Вы можете присвоить столбцам новые имена, понятные для бизнес-пользователей и аналитиков, изменить структуру схемы для упрощения связей и объединить несколько таблиц в одну.</span><span class="sxs-lookup"><span data-stu-id="4b35a-119">You can use column names that make sense to business users and analysts, restructure the schema to simplify data relationships, and consolidate several tables into one.</span></span> <span data-ttu-id="4b35a-120">Следующие действия помогут тем пользователям, которые хотят создать специальные отчеты или создать отчеты и анализировать данные в системах бизнес-аналитики, не обращаясь за помощью к администраторам базы данных (DBA) или разработчикам.</span><span class="sxs-lookup"><span data-stu-id="4b35a-120">These steps help guide users who need to create ad hoc reports, or create reports and analyze the data in BI systems, without the help of a database administrator (DBA) or data developer.</span></span>

<span data-ttu-id="4b35a-121">Рассмотрите возможность применить хранилище данных, если вы намерены повысить производительность транзакционных систем, используемых в качестве источника данных, сохраняя архивные данные в другом месте.</span><span class="sxs-lookup"><span data-stu-id="4b35a-121">Consider using a data warehouse when you need to keep historical data separate from the source transaction systems for performance reasons.</span></span> <span data-ttu-id="4b35a-122">Хранилища данных упрощают доступ к архивным данным из множества расположений, предоставляя централизованное место хранения с поддержкой стандартных форматов, ключей, моделей данных и методов доступа.</span><span class="sxs-lookup"><span data-stu-id="4b35a-122">Data warehouses make it easy to access historical data from multiple locations, by providing a centralized location using common formats, common keys, common data models, and common access methods.</span></span>

<span data-ttu-id="4b35a-123">Хранилища данных оптимизированы для чтения данных, что позволяет быстрее формировать отчеты по сравнению с запросами к исходной транзакционной системе.</span><span class="sxs-lookup"><span data-stu-id="4b35a-123">Data warehouses are optimized for read access, resulting in faster report generation compared to running reports against the source transaction system.</span></span> <span data-ttu-id="4b35a-124">Хранилища данных предоставляют еще несколько важных преимуществ:</span><span class="sxs-lookup"><span data-stu-id="4b35a-124">In addition, data warehouses provide the following benefits:</span></span>

- <span data-ttu-id="4b35a-125">Все исторические данные из нескольких источников можно хранить и получить из единственного "эталонного" хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-125">All historical data from multiple sources can be stored and accessed from a data warehouse as the single source of truth.</span></span>
- <span data-ttu-id="4b35a-126">Очистка данных при импорте в хранилище данных повышает их качество, повышает точность сведений и позволяет согласовать коды и описания.</span><span class="sxs-lookup"><span data-stu-id="4b35a-126">You can improve data quality by cleaning up data as it is imported into the data warehouse, providing more accurate data as well as providing consistent codes and descriptions.</span></span>
- <span data-ttu-id="4b35a-127">Средства создания отчетов не мешают работе исходных транзакционных систем при обработке запросов.</span><span class="sxs-lookup"><span data-stu-id="4b35a-127">Reporting tools do not compete with the transactional source systems for query processing cycles.</span></span> <span data-ttu-id="4b35a-128">Хранилище данных позволяет транзакционной системе сосредоточиться на обработке операций записи, взяв на себя значительную часть запросов на чтение.</span><span class="sxs-lookup"><span data-stu-id="4b35a-128">A data warehouse allows the transactional system to focus predominantly on handling writes, while the data warehouse satisfies the majority of read requests.</span></span>
- <span data-ttu-id="4b35a-129">Хранилище данных помогает объединить данные от разных программ.</span><span class="sxs-lookup"><span data-stu-id="4b35a-129">A data warehouse can help consolidate data from different software.</span></span>
- <span data-ttu-id="4b35a-130">Средства интеллектуального анализа данных помогают найти скрытые закономерности, применяя автоматизированные методы анализа к данным, размещенным в хранилище.</span><span class="sxs-lookup"><span data-stu-id="4b35a-130">Data mining tools can help you find hidden patterns using automatic methodologies against data stored in your warehouse.</span></span>
- <span data-ttu-id="4b35a-131">Хранилища данных позволяют предоставить безопасный доступ авторизованным пользователям и ограничить доступ для всех остальных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-131">Data warehouses make it easier to provide secure access to authorized users, while restricting access to others.</span></span> <span data-ttu-id="4b35a-132">Нет необходимости предоставлять бизнес-пользователям доступ к исходным данным, что устраняет потенциальный вектор атак на одну или несколько рабочих транзакционных систем.</span><span class="sxs-lookup"><span data-stu-id="4b35a-132">There is no need to grant business users access to the source data, thereby removing a potential attack vector against one or more production transaction systems.</span></span>
- <span data-ttu-id="4b35a-133">Хранилища данных упрощают создание решений бизнес-аналитики на основе данных, таких как [кубы OLAP](online-analytical-processing.md).</span><span class="sxs-lookup"><span data-stu-id="4b35a-133">Data warehouses make it easier to create business intelligence solutions on top of the data, such as [OLAP cubes](online-analytical-processing.md).</span></span>

## <a name="challenges"></a><span data-ttu-id="4b35a-134">Сложности</span><span class="sxs-lookup"><span data-stu-id="4b35a-134">Challenges</span></span>

<span data-ttu-id="4b35a-135">Чтобы правильно настроить хранилища данных в соответствии с требованиями организации, вам нужно решить следующие проблемы:</span><span class="sxs-lookup"><span data-stu-id="4b35a-135">Properly configuring a data warehouse to fit the needs of your business can bring some of the following challenges:</span></span>

- <span data-ttu-id="4b35a-136">Достаточное время для правильного моделирования бизнес-концепции.</span><span class="sxs-lookup"><span data-stu-id="4b35a-136">Committing the time required to properly model your business concepts.</span></span> <span data-ttu-id="4b35a-137">Это очень важный шаг, так как хранилища данных основаны на информации, и правильное описание концепции станет основой для всего проекта.</span><span class="sxs-lookup"><span data-stu-id="4b35a-137">This is an important step, as data warehouses are information driven, where concept mapping drives the rest of the project.</span></span> <span data-ttu-id="4b35a-138">Среди прочего, необходимо стандартизировать деловые термины и форматы (валют, дат и т. п.), а также изменить структуру схемы данных, чтобы сделать ее понятной для бизнес-пользователей, сохраняя точность статистических выражений и связей между данными.</span><span class="sxs-lookup"><span data-stu-id="4b35a-138">This involves standardizing business-related terms and common formats (such as currency and dates), and restructuring the schema in a way that makes sense to business users but still ensures accuracy of data aggregates and relationships.</span></span>

- <span data-ttu-id="4b35a-139">Планирование и настройка оркестрации данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-139">Planning and setting up your data orchestration.</span></span> <span data-ttu-id="4b35a-140">Здесь нужно учесть такие факторы, как метод копирования данных из исходной транзакционной системы в хранилище данных и графики перемещения в него архивных данных из хранилищ операционных данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-140">Considerations include how to copy data from the source transactional system to the data warehouse, and when to move historical data out of your operational data stores and into the warehouse.</span></span>

- <span data-ttu-id="4b35a-141">Сохранение или повышение качества данных путем их очистки в процессе импорта в хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-141">Maintaining or improving data quality by cleaning the data as it is imported into the warehouse.</span></span>

## <a name="data-warehousing-in-azure"></a><span data-ttu-id="4b35a-142">Хранение данных в Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-142">Data warehousing in Azure</span></span>

<span data-ttu-id="4b35a-143">В Azure вы можете использовать один или несколько источников данных, например от систем взаимодействия с клиентами или различных бизнес-приложений, используемых в подразделениях организации.</span><span class="sxs-lookup"><span data-stu-id="4b35a-143">In Azure, you may have one or more sources of data, whether from customer transactions, or from various business applications used by various departments.</span></span> <span data-ttu-id="4b35a-144">В большинстве случаев эти данные хранятся в одной или нескольких базах данных [OLTP](online-transaction-processing.md).</span><span class="sxs-lookup"><span data-stu-id="4b35a-144">This data is traditionally stored in one or more [OLTP](online-transaction-processing.md) databases.</span></span> <span data-ttu-id="4b35a-145">Данные могут существовать и на других носителях, такие как сетевые папки, Azure Storage Blob или Data Lake.</span><span class="sxs-lookup"><span data-stu-id="4b35a-145">The data could be persisted in other storage mediums such as network shares, Azure Storage Blobs, or a data lake.</span></span> <span data-ttu-id="4b35a-146">Также данные могут размещаться в самом хранилище данных или в реляционной базе данных, например Базе данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="4b35a-146">The data could also be stored by the data warehouse itself or in a relational database such as Azure SQL Database.</span></span> <span data-ttu-id="4b35a-147">Уровень хранилища аналитических данных создается для обработки запросов от средств аналитики и создания отчетов, которая выполняется в хранилище данных или в киоске данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-147">The purpose of the analytical data store layer is to satisfy queries issued by analytics and reporting tools against the data warehouse or data mart.</span></span> <span data-ttu-id="4b35a-148">Эту функцию аналитического хранилища в Azure можно возложить на хранилище данных SQL Azure или Azure HDInsight в сочетании с Hive или Interactive Query.</span><span class="sxs-lookup"><span data-stu-id="4b35a-148">In Azure, this analytical store capability can be met with Azure SQL Data Warehouse, or with Azure HDInsight using Hive or Interactive Query.</span></span> <span data-ttu-id="4b35a-149">Кроме того, требуется некоторый уровень оркестрации, чтобы периодически перемещать или копировать данные в хранилище данных. Например, это можно сделать с помощью фабрики данных Azure или Oozie в Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="4b35a-149">In addition, you will need some level of orchestration to periodically move or copy data from data storage to the data warehouse, which can be done using Azure Data Factory or Oozie on Azure HDInsight.</span></span>

<span data-ttu-id="4b35a-150">Существует несколько вариантов реализации хранилища данных в Azure, выбор которых зависит от ваших потребностей.</span><span class="sxs-lookup"><span data-stu-id="4b35a-150">There are several options for implementing a data warehouse in Azure, depending on your needs.</span></span> <span data-ttu-id="4b35a-151">Ниже приведены списки, разбитые на две категории: [симметричная многопроцессорная обработка](https://en.wikipedia.org/wiki/Symmetric_multiprocessing) (SMP) и [массовая параллельная обработка](https://en.wikipedia.org/wiki/Massively_parallel) (MPP).</span><span class="sxs-lookup"><span data-stu-id="4b35a-151">The following lists are broken into two categories, [symmetric multiprocessing](https://en.wikipedia.org/wiki/Symmetric_multiprocessing) (SMP) and [massively parallel processing](https://en.wikipedia.org/wiki/Massively_parallel) (MPP).</span></span>

<span data-ttu-id="4b35a-152">SMP:</span><span class="sxs-lookup"><span data-stu-id="4b35a-152">SMP:</span></span>

- [<span data-ttu-id="4b35a-153">база данных SQL Azure;</span><span class="sxs-lookup"><span data-stu-id="4b35a-153">Azure SQL Database</span></span>](/azure/sql-database/)
- [<span data-ttu-id="4b35a-154">SQL Server на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4b35a-154">SQL Server in a virtual machine</span></span>](/sql/sql-server/sql-server-technical-documentation)

<span data-ttu-id="4b35a-155">MPP:</span><span class="sxs-lookup"><span data-stu-id="4b35a-155">MPP:</span></span>

- [<span data-ttu-id="4b35a-156">хранилище данных Azure;</span><span class="sxs-lookup"><span data-stu-id="4b35a-156">Azure Data Warehouse</span></span>](/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is)
- [<span data-ttu-id="4b35a-157">Apache Hive в HDInsight;</span><span class="sxs-lookup"><span data-stu-id="4b35a-157">Apache Hive on HDInsight</span></span>](/azure/hdinsight/hadoop/hdinsight-use-hive)
- <span data-ttu-id="4b35a-158">[Interactive Query (Hive LLAP) в HDInsight](/azure/hdinsight/interactive-query/apache-interactive-query-get-started).</span><span class="sxs-lookup"><span data-stu-id="4b35a-158">[Interactive Query (Hive LLAP) on HDInsight](/azure/hdinsight/interactive-query/apache-interactive-query-get-started)</span></span>

<span data-ttu-id="4b35a-159">Как правило, хранилища данных SMP лучше всего подходят для небольших и средних наборов данных (от 4 до 100 ТБ), в то время как MPP часто используется для больших данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-159">As a general rule, SMP-based warehouses are best suited for small to medium data sets (up to 4-100 TB), while MPP is often used for big data.</span></span> <span data-ttu-id="4b35a-160">Разграничение между небольшими, средними и большими данными частично связано с их определением в вашей организации и поддерживаемой инфраструктурой.</span><span class="sxs-lookup"><span data-stu-id="4b35a-160">The delineation between small/medium and big data partly has to do with your organization's definition and supporting infrastructure.</span></span> <span data-ttu-id="4b35a-161">(См. раздел о возможностях хранилищ в статье [Choosing an OLTP data store in Azure](online-transaction-processing.md#scalability-capabilities) (Выбор хранилища данных OLTP в Azure).)</span><span class="sxs-lookup"><span data-stu-id="4b35a-161">(See [Choosing an OLTP data store](online-transaction-processing.md#scalability-capabilities).)</span></span>

<span data-ttu-id="4b35a-162">Помимо размеров данных важным определяющим фактором также выступает шаблон рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="4b35a-162">Beyond data sizes, the type of workload pattern is likely to be a greater determining factor.</span></span> <span data-ttu-id="4b35a-163">Например, сложные запросы могут быть слишком медленными для решения SMP, из-за чего для них потребуется решение MPP.</span><span class="sxs-lookup"><span data-stu-id="4b35a-163">For example, complex queries may be too slow for an SMP solution, and require an MPP solution instead.</span></span> <span data-ttu-id="4b35a-164">Системы на основе MPP могут привести к некоторому снижению производительности операций с данными небольшого размера из-за того, как задачи распределяются и консолидируются между узлами.</span><span class="sxs-lookup"><span data-stu-id="4b35a-164">MPP-based systems are likely to impose a performance penalty with small data sizes, due to the way jobs are distributed and consolidated across nodes.</span></span> <span data-ttu-id="4b35a-165">Если размеры данных уже превышают 1 ТБ и будут постоянно расти, рекомендуется выбрать решение MPP.</span><span class="sxs-lookup"><span data-stu-id="4b35a-165">If your data sizes already exceed 1 TB and are expected to continually grow, consider selecting an MPP solution.</span></span> <span data-ttu-id="4b35a-166">Однако, если размеры данных меньше, но рабочие нагрузки превышают доступные ресурсы вашего решения SMP, тогда следует выбрать решение MPP.</span><span class="sxs-lookup"><span data-stu-id="4b35a-166">However, if your data sizes are less than this, but your workloads are exceeding the available resources of your SMP solution, then MPP may be your best option as well.</span></span>

<span data-ttu-id="4b35a-167">Данные в вашем хранилище могут быть получены из нескольких источников данных, включая Data Lake, например [Azure Data Lake Store](/azure/data-lake-store/).</span><span class="sxs-lookup"><span data-stu-id="4b35a-167">The data accessed or stored by your data warehouse could come from a number of data sources, including a data lake, such as [Azure Data Lake Store](/azure/data-lake-store/).</span></span> <span data-ttu-id="4b35a-168">Сравнение преимуществ служб MPP, которые могут использовать Azure Data Lake, см. в видео о [ применении современных методик в приложении с использованием Azure Data Lake и хранилища данных Azure](https://azure.microsoft.com/resources/videos/build-2016-azure-data-lake-and-azure-data-warehouse-applying-modern-practices-to-your-app/).</span><span class="sxs-lookup"><span data-stu-id="4b35a-168">For a video session that compares the different strengths of MPP services that can use Azure Data Lake, see [Azure Data Lake and Azure Data Warehouse: Applying Modern Practices to Your App](https://azure.microsoft.com/resources/videos/build-2016-azure-data-lake-and-azure-data-warehouse-applying-modern-practices-to-your-app/).</span></span>

<span data-ttu-id="4b35a-169">Системы SMP характеризуются одним экземпляром системы управления реляционной базой данных, который использует все ресурсы (ЦП, память и диск).</span><span class="sxs-lookup"><span data-stu-id="4b35a-169">SMP systems are characterized by a single instance of a relational database management system sharing all resources (CPU/Memory/Disk).</span></span> <span data-ttu-id="4b35a-170">Систему SMP можно масштабировать.</span><span class="sxs-lookup"><span data-stu-id="4b35a-170">You can scale up an SMP system.</span></span> <span data-ttu-id="4b35a-171">Если SQL Server запущен на виртуальной машине, ее размер можно увеличить.</span><span class="sxs-lookup"><span data-stu-id="4b35a-171">For SQL Server running on a VM, you can scale up the VM size.</span></span> <span data-ttu-id="4b35a-172">Базу данных SQL Azure можно масштабировать вертикально, выбрав другой уровень обслуживания.</span><span class="sxs-lookup"><span data-stu-id="4b35a-172">For Azure SQL Database, you can scale up by selecting a different service tier.</span></span>

<span data-ttu-id="4b35a-173">Системы MPP можно масштабировать горизонтально, добавляя дополнительные вычислительные узлы (которые имеют собственные ЦП, память и подсистемы ввода-вывода).</span><span class="sxs-lookup"><span data-stu-id="4b35a-173">MPP systems can be scaled out by adding more compute nodes (which have their own CPU, memory and I/O subsystems).</span></span> <span data-ttu-id="4b35a-174">Существуют физические ограничения для масштабирования сервера, при этом желательно горизонтальное масштабирование, в зависимости от рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="4b35a-174">There are physical limitations to scaling up a server, at which point scaling out is more desirable, depending on the workload.</span></span> <span data-ttu-id="4b35a-175">Однако для решений MPP требуется другой набор возможностей из-за различий в отправке запросов, моделировании, разделении данных и других факторов, уникальных для параллельной обработки.</span><span class="sxs-lookup"><span data-stu-id="4b35a-175">However, MPP solutions require a different skillset, due to variances in querying, modeling, partitioning of data, and other factors unique to parallel processing.</span></span>

<span data-ttu-id="4b35a-176">Дополнительные сведения о решении SMP см. в разделе [Более детальный обзор базы данных SQL Azure и SQL Server на виртуальных машинах Azure](/azure/sql-database/sql-database-paas-vs-sql-server-iaas#a-closer-look-at-azure-sql-database-and-sql-server-on-azure-vms).</span><span class="sxs-lookup"><span data-stu-id="4b35a-176">When deciding which SMP solution to use, see [A closer look at Azure SQL Database and SQL Server on Azure VMs](/azure/sql-database/sql-database-paas-vs-sql-server-iaas#a-closer-look-at-azure-sql-database-and-sql-server-on-azure-vms).</span></span>

<span data-ttu-id="4b35a-177">Хранилище данных SQL Azure также может использоваться для небольших и средних наборов данных, где рабочая нагрузка интенсивно использует память и вычислительные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="4b35a-177">Azure SQL Data Warehouse can also be used for small and medium datasets, where the workload is compute and memory intensive.</span></span> <span data-ttu-id="4b35a-178">Узнайте больше о шаблонах хранилищ данных SQL и типичных сценариях:</span><span class="sxs-lookup"><span data-stu-id="4b35a-178">Read more about SQL Data Warehouse patterns and common scenarios:</span></span>

- [<span data-ttu-id="4b35a-179">Шаблоны и антишаблоны рабочих нагрузок хранилища данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-179">SQL Data Warehouse Patterns and Anti-Patterns</span></span>](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/azure-sql-data-warehouse-workload-patterns-and-anti-patterns/)

- [<span data-ttu-id="4b35a-180">Стратегии и шаблоны загрузки данных в хранилище данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-180">SQL Data Warehouse Loading Patterns and Strategies</span></span>](https://blogs.msdn.microsoft.com/sqlcat/2017/05/17/azure-sql-data-warehouse-loading-patterns-and-strategies/)

- <span data-ttu-id="4b35a-181">[Migrating data to Azure SQL Data Warehouse in practice](https://blogs.msdn.microsoft.com/sqlcat/2016/08/18/migrating-data-to-azure-sql-data-warehouse-in-practice/) (Перенос данных в хранилище данных SQL Azure на практике)</span><span class="sxs-lookup"><span data-stu-id="4b35a-181">[Migrating Data to Azure SQL Data Warehouse](https://blogs.msdn.microsoft.com/sqlcat/2016/08/18/migrating-data-to-azure-sql-data-warehouse-in-practice/)</span></span>

- [<span data-ttu-id="4b35a-182">Общие шаблоны приложений ISV с использованием хранилища данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-182">Common ISV Application Patterns Using Azure SQL Data Warehouse</span></span>](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/common-isv-application-patterns-using-azure-sql-data-warehouse/)

## <a name="key-selection-criteria"></a><span data-ttu-id="4b35a-183">Основные критерии выбора</span><span class="sxs-lookup"><span data-stu-id="4b35a-183">Key selection criteria</span></span>

<span data-ttu-id="4b35a-184">Чтобы ограничить количество вариантов, сначала ответьте на следующие вопросы:</span><span class="sxs-lookup"><span data-stu-id="4b35a-184">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="4b35a-185">Вы хотите использовать управляемую службу, а не управлять собственными серверами?</span><span class="sxs-lookup"><span data-stu-id="4b35a-185">Do you want a managed service rather than managing your own servers?</span></span>

- <span data-ttu-id="4b35a-186">Вы работаете с очень большими наборами данных или с высоко сложными, долго выполняющимися запросами?</span><span class="sxs-lookup"><span data-stu-id="4b35a-186">Are you working with extremely large data sets or highly complex, long-running queries?</span></span> <span data-ttu-id="4b35a-187">Если да, выберите решение MPP.</span><span class="sxs-lookup"><span data-stu-id="4b35a-187">If yes, consider an MPP option.</span></span>

- <span data-ttu-id="4b35a-188">Какой источник данных требуется для большого набора данных: структурированный или неструктурированный?</span><span class="sxs-lookup"><span data-stu-id="4b35a-188">For a large data set, is the data source structured or unstructured?</span></span> <span data-ttu-id="4b35a-189">Неструктурированные данные могут требовать обработки в среде больших данных, такой как Spark в HDInsight, Azure Databricks, Hive LLAP в HDInsight или Azure Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="4b35a-189">Unstructured data may need to be processed in a big data environment such as Spark on HDInsight, Azure Databricks, Hive LLAP on HDInsight, or Azure Data Lake Analytics.</span></span> <span data-ttu-id="4b35a-190">Все они могут использовать в качестве модулей ELT (извлечение, загрузка, преобразование) и ETL (извлечение, преобразование и загрузка).</span><span class="sxs-lookup"><span data-stu-id="4b35a-190">All of these can serve as ELT (Extract, Load, Transform) and ETL (Extract, Transform, Load) engines.</span></span> <span data-ttu-id="4b35a-191">Они могут преобразовывать обработанные данные в структурированные данные, что упрощает загрузку в хранилище данных SQL и другое хранилище.</span><span class="sxs-lookup"><span data-stu-id="4b35a-191">They can output the processed data into structured data, making it easier to load into SQL Data Warehouse or one of the other options.</span></span> <span data-ttu-id="4b35a-192">Для структурированных данных хранилище данных SQL имеет уровень производительности, оптимизированный для ресурсоемких вычислительных нагрузок, требующих сверхвысокой производительности.</span><span class="sxs-lookup"><span data-stu-id="4b35a-192">For structured data, SQL Data Warehouse has a performance tier called Optimized for Compute, for compute-intensive workloads requiring ultra-high performance.</span></span>

- <span data-ttu-id="4b35a-193">Вы хотите отделить исторические данные от текущих рабочих данных?</span><span class="sxs-lookup"><span data-stu-id="4b35a-193">Do you want to separate your historical data from your current, operational data?</span></span> <span data-ttu-id="4b35a-194">Если это так, выберите один из вариантов, для которого требуется [оркестрация](../technology-choices/pipeline-orchestration-data-movement.md).</span><span class="sxs-lookup"><span data-stu-id="4b35a-194">If so, select one of the options where [orchestration](../technology-choices/pipeline-orchestration-data-movement.md) is required.</span></span> <span data-ttu-id="4b35a-195">Это автономные хранилища данных, оптимизированные для интенсивного доступа на чтение, которые лучше всего подходят в качестве отдельного хранилища исторических данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-195">These are standalone warehouses optimized for heavy read access, and are best suited as a separate historical data store.</span></span>

- <span data-ttu-id="4b35a-196">Нужно ли интегрировать данные из нескольких источников за пределами хранилища данных OLTP?</span><span class="sxs-lookup"><span data-stu-id="4b35a-196">Do you need to integrate data from several sources, beyond your OLTP data store?</span></span> <span data-ttu-id="4b35a-197">Если да, рассмотрите варианты, которые позволяют легко интегрировать несколько источников данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-197">If so, consider options that easily integrate multiple data sources.</span></span>

- <span data-ttu-id="4b35a-198">Требуется ли вам мультитенантность?</span><span class="sxs-lookup"><span data-stu-id="4b35a-198">Do you have a multi-tenancy requirement?</span></span> <span data-ttu-id="4b35a-199">В этом случае хранилище данных SQL вам не подойдет.</span><span class="sxs-lookup"><span data-stu-id="4b35a-199">If so, SQL Data Warehouse is not ideal for this requirement.</span></span> <span data-ttu-id="4b35a-200">Дополнительные сведения см. в записи блога [Azure SQL Data Warehouse Workload Patterns and Anti-Patterns](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/azure-sql-data-warehouse-workload-patterns-and-anti-patterns/) (Шаблоны и антишаблоны рабочих нагрузок хранилища данных SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="4b35a-200">For more information, see [SQL Data Warehouse Patterns and Anti-Patterns](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/azure-sql-data-warehouse-workload-patterns-and-anti-patterns/).</span></span>

- <span data-ttu-id="4b35a-201">Вы предпочитаете реляционное хранилище данных?</span><span class="sxs-lookup"><span data-stu-id="4b35a-201">Do you prefer a relational data store?</span></span> <span data-ttu-id="4b35a-202">В этом случае рассмотрите варианты с реляционным хранилищем данных. При этом обратите внимание, что при необходимости вы можете использовать такой инструмент, как PolyBase, для запроса нереляционных хранилищ данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-202">If so, narrow your options to those with a relational data store, but also note that you can use a tool like PolyBase to query non-relational data stores if needed.</span></span> <span data-ttu-id="4b35a-203">Если вы решили использовать PolyBase, выполните тесты производительности для неструктурированных наборов данных в рамках вашей рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="4b35a-203">If you decide to use PolyBase, however, run performance tests against your unstructured data sets for your workload.</span></span>

- <span data-ttu-id="4b35a-204">Вам требуется отчетность в реальном времени?</span><span class="sxs-lookup"><span data-stu-id="4b35a-204">Do you have real-time reporting requirements?</span></span> <span data-ttu-id="4b35a-205">Если вам требуется быстрое время отклика запросов в больших томах одноэлементных вставок, рассмотрите варианты, в которых есть поддержка отчетов в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="4b35a-205">If you require rapid query response times on high volumes of singleton inserts, narrow your options to those that can support real-time reporting.</span></span>

- <span data-ttu-id="4b35a-206">Вам нужно поддерживать большое количество одновременных пользователей и подключений?</span><span class="sxs-lookup"><span data-stu-id="4b35a-206">Do you need to support a large number of concurrent users and connections?</span></span> <span data-ttu-id="4b35a-207">Возможность поддержки нескольких одновременных пользователей и подключений зависит от некоторых факторов.</span><span class="sxs-lookup"><span data-stu-id="4b35a-207">The ability to support a number of concurrent users/connections depends on several factors.</span></span>

  - <span data-ttu-id="4b35a-208">Дополнительные сведения см. в статье [Ограничения ресурсов базы данных SQL Azure](/azure/sql-database/sql-database-resource-limits).</span><span class="sxs-lookup"><span data-stu-id="4b35a-208">For Azure SQL Database, refer to the [documented resource limits](/azure/sql-database/sql-database-resource-limits) based on your service tier.</span></span>
  
  - <span data-ttu-id="4b35a-209">SQL Server поддерживает не более 32 767 одновременных подключений пользователей.</span><span class="sxs-lookup"><span data-stu-id="4b35a-209">SQL Server allows a maximum of 32,767 user connections.</span></span> <span data-ttu-id="4b35a-210">При запуске на виртуальной машине производительность будет зависеть от размера виртуальной машины и других факторов.</span><span class="sxs-lookup"><span data-stu-id="4b35a-210">When running on a VM, performance will depend on the VM size and other factors.</span></span>

  - <span data-ttu-id="4b35a-211">Хранилище данных SQL имеет ограничения на параллельные запросы и подключения.</span><span class="sxs-lookup"><span data-stu-id="4b35a-211">SQL Data Warehouse has limits on concurrent queries and concurrent connections.</span></span> <span data-ttu-id="4b35a-212">Дополнительные сведения см. в статье [Управление параллелизмом и рабочей нагрузкой в хранилище данных SQL](/azure/sql-data-warehouse/sql-data-warehouse-develop-concurrency).</span><span class="sxs-lookup"><span data-stu-id="4b35a-212">For more information, see [Concurrency and workload management in SQL Data Warehouse](/azure/sql-data-warehouse/sql-data-warehouse-develop-concurrency).</span></span> <span data-ttu-id="4b35a-213">Рассмотрите возможность использования дополнительных служб, таких как [Azure Analysis Services](/azure/analysis-services/analysis-services-overview), чтобы преодолеть ограничения хранилища данных SQL.</span><span class="sxs-lookup"><span data-stu-id="4b35a-213">Consider using complementary services, such as [Azure Analysis Services](/azure/analysis-services/analysis-services-overview), to overcome limits in SQL Data Warehouse.</span></span>

- <span data-ttu-id="4b35a-214">Какой тип рабочей нагрузки вы используете?</span><span class="sxs-lookup"><span data-stu-id="4b35a-214">What sort of workload do you have?</span></span> <span data-ttu-id="4b35a-215">Как правило, решения хранилищ MPP лучше всего подходят для аналитических, пакетно-ориентированных рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="4b35a-215">In general, MPP-based warehouse solutions are best suited for analytical, batch-oriented workloads.</span></span> <span data-ttu-id="4b35a-216">Если ваши рабочие нагрузки являются транзакционными со множеством небольших операций чтения и записи или несколькими построчными операциями, рассмотрите возможность использования одного из вариантов SMP.</span><span class="sxs-lookup"><span data-stu-id="4b35a-216">If your workloads are transactional by nature, with many small read/write operations or multiple row-by-row operations, consider using one of the SMP options.</span></span> <span data-ttu-id="4b35a-217">Единственным исключением является использование потоковой обработки в кластере HDInsight, например Spark Streaming, и хранение данных в таблице Hive.</span><span class="sxs-lookup"><span data-stu-id="4b35a-217">One exception to this guideline is when using stream processing on an HDInsight cluster, such as Spark Streaming, and storing the data within a Hive table.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="4b35a-218">Матрица возможностей</span><span class="sxs-lookup"><span data-stu-id="4b35a-218">Capability Matrix</span></span>

<span data-ttu-id="4b35a-219">В следующих таблицах перечислены основные различия в возможностях.</span><span class="sxs-lookup"><span data-stu-id="4b35a-219">The following tables summarize the key differences in capabilities.</span></span>

### <a name="general-capabilities"></a><span data-ttu-id="4b35a-220">Общие возможности</span><span class="sxs-lookup"><span data-stu-id="4b35a-220">General capabilities</span></span>

<!-- markdownlint-disable MD033 -->

| | <span data-ttu-id="4b35a-221">Базы данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-221">Azure SQL Database</span></span> | <span data-ttu-id="4b35a-222">SQL Server (виртуальная машина)</span><span class="sxs-lookup"><span data-stu-id="4b35a-222">SQL Server (VM)</span></span> | <span data-ttu-id="4b35a-223">Хранилище данных SQL</span><span class="sxs-lookup"><span data-stu-id="4b35a-223">SQL Data Warehouse</span></span> | <span data-ttu-id="4b35a-224">Apache Hive в HDInsight</span><span class="sxs-lookup"><span data-stu-id="4b35a-224">Apache Hive on HDInsight</span></span> | <span data-ttu-id="4b35a-225">Hive LLAP в HDInsight</span><span class="sxs-lookup"><span data-stu-id="4b35a-225">Hive LLAP on HDInsight</span></span> |
| --- | --- | --- | --- | --- | --- | -- |
| <span data-ttu-id="4b35a-226">Является управляемой службой</span><span class="sxs-lookup"><span data-stu-id="4b35a-226">Is managed service</span></span> | <span data-ttu-id="4b35a-227">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-227">Yes</span></span> | <span data-ttu-id="4b35a-228">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-228">No</span></span> | <span data-ttu-id="4b35a-229">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-229">Yes</span></span> | <span data-ttu-id="4b35a-230">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-230">Yes <sup>1</sup></span></span> | <span data-ttu-id="4b35a-231">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-231">Yes <sup>1</sup></span></span> |
| <span data-ttu-id="4b35a-232">Требуется оркестрация данных (содержит копию простых или исторических данных)</span><span class="sxs-lookup"><span data-stu-id="4b35a-232">Requires data orchestration (holds copy of data/historical data)</span></span> | <span data-ttu-id="4b35a-233">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-233">No</span></span> | <span data-ttu-id="4b35a-234">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-234">No</span></span> | <span data-ttu-id="4b35a-235">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-235">Yes</span></span> | <span data-ttu-id="4b35a-236">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-236">Yes</span></span> | <span data-ttu-id="4b35a-237">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-237">Yes</span></span> |
| <span data-ttu-id="4b35a-238">Простая интеграция нескольких источников данных</span><span class="sxs-lookup"><span data-stu-id="4b35a-238">Easily integrate multiple data sources</span></span> | <span data-ttu-id="4b35a-239">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-239">No</span></span> | <span data-ttu-id="4b35a-240">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-240">No</span></span> | <span data-ttu-id="4b35a-241">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-241">Yes</span></span> | <span data-ttu-id="4b35a-242">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-242">Yes</span></span> | <span data-ttu-id="4b35a-243">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-243">Yes</span></span> |
| <span data-ttu-id="4b35a-244">Поддержка приостановки вычислительных ресурсов</span><span class="sxs-lookup"><span data-stu-id="4b35a-244">Supports pausing compute</span></span> | <span data-ttu-id="4b35a-245">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-245">No</span></span> | <span data-ttu-id="4b35a-246">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-246">No</span></span> | <span data-ttu-id="4b35a-247">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-247">Yes</span></span> | <span data-ttu-id="4b35a-248">Нет <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-248">No <sup>2</sup></span></span> | <span data-ttu-id="4b35a-249">Нет <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-249">No <sup>2</sup></span></span> |
| <span data-ttu-id="4b35a-250">Реляционное хранилище данных</span><span class="sxs-lookup"><span data-stu-id="4b35a-250">Relational data store</span></span> | <span data-ttu-id="4b35a-251">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-251">Yes</span></span> | <span data-ttu-id="4b35a-252">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-252">Yes</span></span> |  <span data-ttu-id="4b35a-253">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-253">Yes</span></span> | <span data-ttu-id="4b35a-254">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-254">No</span></span> | <span data-ttu-id="4b35a-255">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-255">No</span></span> |
| <span data-ttu-id="4b35a-256">Отчеты в реальном времени</span><span class="sxs-lookup"><span data-stu-id="4b35a-256">Real-time reporting</span></span> | <span data-ttu-id="4b35a-257">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-257">Yes</span></span> | <span data-ttu-id="4b35a-258">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-258">Yes</span></span> | <span data-ttu-id="4b35a-259">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-259">No</span></span> | <span data-ttu-id="4b35a-260">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-260">No</span></span> | <span data-ttu-id="4b35a-261">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-261">Yes</span></span> |
| <span data-ttu-id="4b35a-262">Гибкие точки восстановления и резервных копий</span><span class="sxs-lookup"><span data-stu-id="4b35a-262">Flexible backup restore points</span></span> | <span data-ttu-id="4b35a-263">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-263">Yes</span></span> | <span data-ttu-id="4b35a-264">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-264">Yes</span></span> | <span data-ttu-id="4b35a-265">Нет<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-265">No <sup>3</sup></span></span> | <span data-ttu-id="4b35a-266">Да <sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-266">Yes <sup>4</sup></span></span> | <span data-ttu-id="4b35a-267">Да <sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-267">Yes <sup>4</sup></span></span> |
| <span data-ttu-id="4b35a-268">SMP/MPP</span><span class="sxs-lookup"><span data-stu-id="4b35a-268">SMP/MPP</span></span> | <span data-ttu-id="4b35a-269">SMP</span><span class="sxs-lookup"><span data-stu-id="4b35a-269">SMP</span></span> | <span data-ttu-id="4b35a-270">SMP</span><span class="sxs-lookup"><span data-stu-id="4b35a-270">SMP</span></span> | <span data-ttu-id="4b35a-271">MPP</span><span class="sxs-lookup"><span data-stu-id="4b35a-271">MPP</span></span> | <span data-ttu-id="4b35a-272">MPP</span><span class="sxs-lookup"><span data-stu-id="4b35a-272">MPP</span></span> | <span data-ttu-id="4b35a-273">MPP</span><span class="sxs-lookup"><span data-stu-id="4b35a-273">MPP</span></span> |

<!-- markdownlint-enable MD033 -->

<span data-ttu-id="4b35a-274">[1] Настройка и масштабирование вручную.</span><span class="sxs-lookup"><span data-stu-id="4b35a-274">[1] Manual configuration and scaling.</span></span>

<span data-ttu-id="4b35a-275">[2] Кластеры HDInsight можно удалить, когда они не нужны, а затем повторно создать.</span><span class="sxs-lookup"><span data-stu-id="4b35a-275">[2] HDInsight clusters can be deleted when not needed, and then re-created.</span></span> <span data-ttu-id="4b35a-276">Присоедините внешнее хранилище данных к кластеру, чтобы ваши данные сохранялись в случае его удаления.</span><span class="sxs-lookup"><span data-stu-id="4b35a-276">Attach an external data store to your cluster so your data is retained when you delete your cluster.</span></span> <span data-ttu-id="4b35a-277">Можно использовать фабрику данных Azure для автоматизации жизненного цикла вашего кластера, создав кластер HDInsight по требованию для обработки рабочей нагрузки, а затем удалив его после завершения обработки.</span><span class="sxs-lookup"><span data-stu-id="4b35a-277">You can use Azure Data Factory to automate your cluster's lifecycle by creating an on-demand HDInsight cluster to process your workload, then delete it once the processing is complete.</span></span>

<span data-ttu-id="4b35a-278">[3] В хранилище данных SQL можно восстановить базу данных до любой точки восстановления за последние семь дней.</span><span class="sxs-lookup"><span data-stu-id="4b35a-278">[3] With SQL Data Warehouse, you can restore a database to any available restore point within the last seven days.</span></span> <span data-ttu-id="4b35a-279">Моментальные снимки создаются каждые четыре-восемь часов и доступны в течение семи дней.</span><span class="sxs-lookup"><span data-stu-id="4b35a-279">Snapshots start every four to eight hours and are available for seven days.</span></span> <span data-ttu-id="4b35a-280">Если моментальный снимок старше семи дней, то срок его действия истекает и его точка восстановления перестает быть доступной.</span><span class="sxs-lookup"><span data-stu-id="4b35a-280">When a snapshot is older than seven days, it expires and its restore point is no longer available.</span></span>

<span data-ttu-id="4b35a-281">[4] Рассмотрите возможность использования [внешнего хранилища метаданных Hive](/azure/hdinsight/hdinsight-hadoop-provision-linux-clusters#use-hiveoozie-metastore), которое можно заархивировать и восстановить при необходимости.</span><span class="sxs-lookup"><span data-stu-id="4b35a-281">[4] Consider using an [external Hive metastore](/azure/hdinsight/hdinsight-hadoop-provision-linux-clusters#use-hiveoozie-metastore) that can be backed up and restored as needed.</span></span> <span data-ttu-id="4b35a-282">Для данных могут использоваться стандартные варианты резервного копирования и восстановления, которые применяются к хранилищу BLOB-объектов или хранилищу Data Lake Store. Для большей гибкости и простоты можно также использовать сторонние решения для резервного копирования и восстановления HDInsight, например [Imanis Data](https://azure.microsoft.com/blog/imanis-data-cloud-migration-backup-for-your-big-data-applications-on-azure-hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="4b35a-282">Standard backup and restore options that apply to Blob Storage or Data Lake Store can be used for the data, or third party HDInsight backup and restore solutions, such as [Imanis Data](https://azure.microsoft.com/blog/imanis-data-cloud-migration-backup-for-your-big-data-applications-on-azure-hdinsight/) can be used for greater flexibility and ease of use.</span></span>

### <a name="scalability-capabilities"></a><span data-ttu-id="4b35a-283">Масштабируемость</span><span class="sxs-lookup"><span data-stu-id="4b35a-283">Scalability capabilities</span></span>

<!-- markdownlint-disable MD033 -->

| | <span data-ttu-id="4b35a-284">Базы данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-284">Azure SQL Database</span></span> | <span data-ttu-id="4b35a-285">SQL Server (виртуальная машина)</span><span class="sxs-lookup"><span data-stu-id="4b35a-285">SQL Server (VM)</span></span> |  <span data-ttu-id="4b35a-286">Хранилище данных SQL</span><span class="sxs-lookup"><span data-stu-id="4b35a-286">SQL Data Warehouse</span></span> | <span data-ttu-id="4b35a-287">Apache Hive в HDInsight</span><span class="sxs-lookup"><span data-stu-id="4b35a-287">Apache Hive on HDInsight</span></span> | <span data-ttu-id="4b35a-288">Hive LLAP в HDInsight</span><span class="sxs-lookup"><span data-stu-id="4b35a-288">Hive LLAP on HDInsight</span></span> |
| --- | --- | --- | --- | --- | --- | -- |
| <span data-ttu-id="4b35a-289">Избыточные региональные серверы для высокого уровня доступности</span><span class="sxs-lookup"><span data-stu-id="4b35a-289">Redundant regional servers for high availability</span></span>  | <span data-ttu-id="4b35a-290">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-290">Yes</span></span> | <span data-ttu-id="4b35a-291">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-291">Yes</span></span> | <span data-ttu-id="4b35a-292">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-292">Yes</span></span> | <span data-ttu-id="4b35a-293">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-293">No</span></span> | <span data-ttu-id="4b35a-294">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-294">No</span></span> |
| <span data-ttu-id="4b35a-295">Поддержка масштабирования запросов (распределенных)</span><span class="sxs-lookup"><span data-stu-id="4b35a-295">Supports query scale out (distributed queries)</span></span>  | <span data-ttu-id="4b35a-296">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-296">No</span></span> | <span data-ttu-id="4b35a-297">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-297">No</span></span> | <span data-ttu-id="4b35a-298">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-298">Yes</span></span> | <span data-ttu-id="4b35a-299">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-299">Yes</span></span> | <span data-ttu-id="4b35a-300">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-300">Yes</span></span> |
| <span data-ttu-id="4b35a-301">Динамическая масштабируемость</span><span class="sxs-lookup"><span data-stu-id="4b35a-301">Dynamic scalability</span></span> | <span data-ttu-id="4b35a-302">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-302">Yes</span></span> | <span data-ttu-id="4b35a-303">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-303">No</span></span> | <span data-ttu-id="4b35a-304">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-304">Yes <sup>1</sup></span></span> | <span data-ttu-id="4b35a-305">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-305">No</span></span> | <span data-ttu-id="4b35a-306">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-306">No</span></span> |
| <span data-ttu-id="4b35a-307">Выполняющееся в памяти кэширование данных</span><span class="sxs-lookup"><span data-stu-id="4b35a-307">Supports in-memory caching of data</span></span> | <span data-ttu-id="4b35a-308">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-308">Yes</span></span> |  <span data-ttu-id="4b35a-309">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-309">Yes</span></span> | <span data-ttu-id="4b35a-310">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-310">No</span></span> | <span data-ttu-id="4b35a-311">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-311">Yes</span></span> | <span data-ttu-id="4b35a-312">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-312">Yes</span></span> |

<span data-ttu-id="4b35a-313">[1] Хранилище данных SQL позволяет выполнять вертикальное или горизонтальное масштабирование, настраивая количество единиц использования хранилища данных (DWU).</span><span class="sxs-lookup"><span data-stu-id="4b35a-313">[1] SQL Data Warehouse allows you to scale up or down by adjusting the number of data warehouse units (DWUs).</span></span> <span data-ttu-id="4b35a-314">Дополнительные сведения см. в статье [Управление вычислительными ресурсами в хранилище данных SQL Azure (обзор)](/azure/sql-data-warehouse/sql-data-warehouse-manage-compute-overview).</span><span class="sxs-lookup"><span data-stu-id="4b35a-314">See [Manage compute power in Azure SQL Data Warehouse](/azure/sql-data-warehouse/sql-data-warehouse-manage-compute-overview).</span></span>

<!-- markdownlint-enable MD033 -->

### <a name="security-capabilities"></a><span data-ttu-id="4b35a-315">Возможности системы безопасности</span><span class="sxs-lookup"><span data-stu-id="4b35a-315">Security capabilities</span></span>

<!-- markdownlint-disable MD033 -->

|                         |           <span data-ttu-id="4b35a-316">Базы данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-316">Azure SQL Database</span></span>            |  <span data-ttu-id="4b35a-317">SQL Server на виртуальной машине</span><span class="sxs-lookup"><span data-stu-id="4b35a-317">SQL Server in a virtual machine</span></span>  | <span data-ttu-id="4b35a-318">Хранилище данных SQL</span><span class="sxs-lookup"><span data-stu-id="4b35a-318">SQL Data Warehouse</span></span> |   <span data-ttu-id="4b35a-319">Apache Hive в HDInsight</span><span class="sxs-lookup"><span data-stu-id="4b35a-319">Apache Hive on HDInsight</span></span>    |    <span data-ttu-id="4b35a-320">Hive LLAP в HDInsight</span><span class="sxs-lookup"><span data-stu-id="4b35a-320">Hive LLAP on HDInsight</span></span>     |
|-------------------------|-----------------------------------------|-----------------------------------|--------------------|-------------------------------|-------------------------------|
|     <span data-ttu-id="4b35a-321">Authentication</span><span class="sxs-lookup"><span data-stu-id="4b35a-321">Authentication</span></span>      | <span data-ttu-id="4b35a-322">SQL / Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="4b35a-322">SQL / Azure Active Directory (Azure AD)</span></span> | <span data-ttu-id="4b35a-323">SQL / Azure AD / Active Directory</span><span class="sxs-lookup"><span data-stu-id="4b35a-323">SQL / Azure AD / Active Directory</span></span> |   <span data-ttu-id="4b35a-324">SQL / Azure AD</span><span class="sxs-lookup"><span data-stu-id="4b35a-324">SQL / Azure AD</span></span>   | <span data-ttu-id="4b35a-325">Локальные средства или Azure AD <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-325">local / Azure AD <sup>1</sup></span></span> | <span data-ttu-id="4b35a-326">Локальные средства или Azure AD <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-326">local / Azure AD <sup>1</sup></span></span> |
|      <span data-ttu-id="4b35a-327">Авторизация</span><span class="sxs-lookup"><span data-stu-id="4b35a-327">Authorization</span></span>      |                   <span data-ttu-id="4b35a-328">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-328">Yes</span></span>                   |                <span data-ttu-id="4b35a-329">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-329">Yes</span></span>                |        <span data-ttu-id="4b35a-330">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-330">Yes</span></span>         |              <span data-ttu-id="4b35a-331">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-331">Yes</span></span>              |       <span data-ttu-id="4b35a-332">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-332">Yes <sup>1</sup></span></span>        |
|        <span data-ttu-id="4b35a-333">Аудит</span><span class="sxs-lookup"><span data-stu-id="4b35a-333">Auditing</span></span>         |                   <span data-ttu-id="4b35a-334">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-334">Yes</span></span>                   |                <span data-ttu-id="4b35a-335">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-335">Yes</span></span>                |        <span data-ttu-id="4b35a-336">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-336">Yes</span></span>         |              <span data-ttu-id="4b35a-337">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-337">Yes</span></span>              |       <span data-ttu-id="4b35a-338">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-338">Yes <sup>1</sup></span></span>        |
| <span data-ttu-id="4b35a-339">Шифрование неактивных данных</span><span class="sxs-lookup"><span data-stu-id="4b35a-339">Data encryption at rest</span></span> |            <span data-ttu-id="4b35a-340">Да <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-340">Yes <sup>2</sup></span></span>             |         <span data-ttu-id="4b35a-341">Да <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-341">Yes <sup>2</sup></span></span>          |  <span data-ttu-id="4b35a-342">Да <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-342">Yes <sup>2</sup></span></span>  |       <span data-ttu-id="4b35a-343">Да <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-343">Yes <sup>2</sup></span></span>        |       <span data-ttu-id="4b35a-344">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-344">Yes <sup>1</sup></span></span>        |
|   <span data-ttu-id="4b35a-345">Безопасность на уровне строк</span><span class="sxs-lookup"><span data-stu-id="4b35a-345">Row-level security</span></span>    |                   <span data-ttu-id="4b35a-346">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-346">Yes</span></span>                   |                <span data-ttu-id="4b35a-347">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-347">Yes</span></span>                |        <span data-ttu-id="4b35a-348">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-348">Yes</span></span>         |              <span data-ttu-id="4b35a-349">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-349">No</span></span>               |       <span data-ttu-id="4b35a-350">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-350">Yes <sup>1</sup></span></span>        |
|   <span data-ttu-id="4b35a-351">Поддержка брандмауэров</span><span class="sxs-lookup"><span data-stu-id="4b35a-351">Supports firewalls</span></span>    |                   <span data-ttu-id="4b35a-352">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-352">Yes</span></span>                   |                <span data-ttu-id="4b35a-353">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-353">Yes</span></span>                |        <span data-ttu-id="4b35a-354">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-354">Yes</span></span>         |              <span data-ttu-id="4b35a-355">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-355">Yes</span></span>              |       <span data-ttu-id="4b35a-356">Да <sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-356">Yes <sup>3</sup></span></span>        |
|  <span data-ttu-id="4b35a-357">Динамическое маскирование данных</span><span class="sxs-lookup"><span data-stu-id="4b35a-357">Dynamic data masking</span></span>   |                   <span data-ttu-id="4b35a-358">Yes</span><span class="sxs-lookup"><span data-stu-id="4b35a-358">Yes</span></span>                   |                <span data-ttu-id="4b35a-359">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-359">Yes</span></span>                |        <span data-ttu-id="4b35a-360">Да</span><span class="sxs-lookup"><span data-stu-id="4b35a-360">Yes</span></span>         |              <span data-ttu-id="4b35a-361">Нет </span><span class="sxs-lookup"><span data-stu-id="4b35a-361">No</span></span>               |       <span data-ttu-id="4b35a-362">Да <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="4b35a-362">Yes <sup>1</sup></span></span>        |

<!-- markdownlint-enable MD033 -->

<span data-ttu-id="4b35a-363">[1] Требуется использовать [присоединенный к домену кластер HDInsight](/azure/hdinsight/domain-joined/apache-domain-joined-introduction).</span><span class="sxs-lookup"><span data-stu-id="4b35a-363">[1] Requires using a [domain-joined HDInsight cluster](/azure/hdinsight/domain-joined/apache-domain-joined-introduction).</span></span>

<span data-ttu-id="4b35a-364">[2] Требуется использовать прозрачное шифрование данных (TDE) для шифрования и расшифровки неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="4b35a-364">[2] Requires using Transparent Data Encryption (TDE) to encrypt and decrypt your data at rest.</span></span>

<span data-ttu-id="4b35a-365">[3] Поддерживается при [использовании в виртуальной сети Azure](/azure/hdinsight/hdinsight-extend-hadoop-virtual-network).</span><span class="sxs-lookup"><span data-stu-id="4b35a-365">[3] Supported when [used within an Azure Virtual Network](/azure/hdinsight/hdinsight-extend-hadoop-virtual-network).</span></span>

<span data-ttu-id="4b35a-366">Дополнительные сведения о защите хранилища данных:</span><span class="sxs-lookup"><span data-stu-id="4b35a-366">Read more about securing your data warehouse:</span></span>

- [<span data-ttu-id="4b35a-367">Защита Базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="4b35a-367">Securing your SQL Database</span></span>](/azure/sql-database/sql-database-security-overview#connection-security)

- [<span data-ttu-id="4b35a-368">Защита базы данных в хранилище данных SQL</span><span class="sxs-lookup"><span data-stu-id="4b35a-368">Secure a database in SQL Data Warehouse</span></span>](/azure/sql-data-warehouse/sql-data-warehouse-overview-manage-security)

- [<span data-ttu-id="4b35a-369">Расширение возможностей HDInsight с помощью виртуальной сети Azure</span><span class="sxs-lookup"><span data-stu-id="4b35a-369">Extend Azure HDInsight using an Azure Virtual Network</span></span>](/azure/hdinsight/hdinsight-extend-hadoop-virtual-network)

- [<span data-ttu-id="4b35a-370">Основные сведения о безопасности Hadoop в присоединенных к домену кластерах HDInsight</span><span class="sxs-lookup"><span data-stu-id="4b35a-370">Enterprise-level Hadoop security with domain-joined HDInsight clusters</span></span>](/azure/hdinsight/domain-joined/apache-domain-joined-introduction)
