---
title: Обработка текста в свободной форме для поиска
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: ba1685d12834b04e7d231929c53453b51527cce2
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54484590"
---
# <a name="processing-free-form-text-for-search"></a><span data-ttu-id="dcf1b-102">Обработка текста в свободной форме для поиска</span><span class="sxs-lookup"><span data-stu-id="dcf1b-102">Processing free-form text for search</span></span>

<span data-ttu-id="dcf1b-103">Для обеспечения поиска обработка текста, представленного в свободной форме, может выполняться для документов, содержащих абзацы.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-103">To support search, free-form text processing can be performed against documents containing paragraphs of text.</span></span>

<span data-ttu-id="dcf1b-104">Для работы текстового поиска создается специализированный индекс, который предварительно вычисляется на основе коллекции документов.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-104">Text search works by constructing a specialized index that is precomputed against a collection of documents.</span></span> <span data-ttu-id="dcf1b-105">Клиентское приложение отправляет запрос, содержащий условия поиска.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-105">A client application submits a query that contains the search terms.</span></span> <span data-ttu-id="dcf1b-106">Запрос возвращает результирующий набор, состоящий из списка документов, отсортированных по степени соответствия каждого документа условиям поиска.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-106">The query returns a result set, consisting of a list of documents sorted by how well each document matches the search criteria.</span></span> <span data-ttu-id="dcf1b-107">Результирующий набор может также содержать контекст, в котором документ соответствует критериям, что позволяет приложению выделить соответствующую фразу в документе.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-107">The result set may also include the context in which the document matches the criteria, which enables the application to highlight the matching phrase in the document.</span></span>

![Схема конвейера поиска](./images/search-pipeline.png)

<span data-ttu-id="dcf1b-109">Обработка текста в свободной форме позволяет формировать полезные актуальные данные из большого объема разнородных текстовых данных.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-109">Free-form text processing can produce useful, actionable data from large amounts of noisy text data.</span></span> <span data-ttu-id="dcf1b-110">В результате неструктурированные документы могут приобрести четко определенную и доступную для запросов структуру.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-110">The results can give unstructured documents a well-defined and queryable structure.</span></span>

## <a name="challenges"></a><span data-ttu-id="dcf1b-111">Сложности</span><span class="sxs-lookup"><span data-stu-id="dcf1b-111">Challenges</span></span>

- <span data-ttu-id="dcf1b-112">Для обработки коллекции текстовых документов в свободной форме обычно требуется много времени и вычислительных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-112">Processing a collection of free-form text documents is typically computationally intensive, as well as time intensive.</span></span>
- <span data-ttu-id="dcf1b-113">Чтобы обеспечить эффективный поиск по тексту в свободной форме, поисковый индекс должен поддерживать поиск нечетких соответствий по терминам с подобной конструкцией.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-113">In order to search free-form text effectively, the search index should support fuzzy search based on terms that have a similar construction.</span></span> <span data-ttu-id="dcf1b-114">Например, индексы могут создаваться с использованием лемматизации и лингвистического выделения корней слов, чтобы запросы слова "запуск" сопоставлялись с документами, содержащими слова "запущен" и "запускается".</span><span class="sxs-lookup"><span data-stu-id="dcf1b-114">For example, search indexes are built with lemmatization and linguistic stemming, so that queries for "run" will match documents that contain "ran" and "running."</span></span>

## <a name="architecture"></a><span data-ttu-id="dcf1b-115">Архитектура</span><span class="sxs-lookup"><span data-stu-id="dcf1b-115">Architecture</span></span>

<span data-ttu-id="dcf1b-116">В большинстве случаев исходные текстовые документы загружаются в хранилище объектов, например в службу хранилища Azure или Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-116">In most scenarios, the source text documents are loaded into object storage such as Azure Storage or Azure Data Lake Store.</span></span> <span data-ttu-id="dcf1b-117">Исключением является использование полнотекстового поиска на сервере SQL Server или в базе данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-117">An exception is using full text search within SQL Server or Azure SQL Database.</span></span> <span data-ttu-id="dcf1b-118">В этом случае данные документа загружаются в таблицы, управляемые базой данных.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-118">In this case, the document data is loaded into tables managed by the database.</span></span> <span data-ttu-id="dcf1b-119">После сохранения документы обрабатываются в виде пакета для создания индекса.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-119">Once stored, the documents are processed in a batch to create the index.</span></span>

## <a name="technology-choices"></a><span data-ttu-id="dcf1b-120">Выбор технологий</span><span class="sxs-lookup"><span data-stu-id="dcf1b-120">Technology choices</span></span>

<span data-ttu-id="dcf1b-121">Для создания поискового индекса доступны такие варианты, как служба "Поиск Azure", Elasticsearch и HDInsight с Solr.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-121">Options for creating a search index include Azure Search, Elasticsearch, and HDInsight with Solr.</span></span> <span data-ttu-id="dcf1b-122">Каждая из этих технологий позволяет заполнить индекс поиска на основе коллекции документов.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-122">Each of these technologies can populate a search index from a collection of documents.</span></span> <span data-ttu-id="dcf1b-123">Служба "Поиск Azure" предоставляет индексаторы, которые могут автоматически заполнять индекс для документов (от обычного текста до документов в формате PDF и Excel).</span><span class="sxs-lookup"><span data-stu-id="dcf1b-123">Azure Search provides indexers that can automatically populate the index for documents ranging from plain text to Excel and PDF formats.</span></span> <span data-ttu-id="dcf1b-124">Apache Solr в HDInsight позволяет индексировать двоичные файлы различных типов, включая обычный текст, документы PDF и Word.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-124">On HDInsight, Apache Solr can index binary files of many types, including plain text, Word, and PDF.</span></span> <span data-ttu-id="dcf1b-125">После создания индекса клиенты могут получить доступ к интерфейсу поиска с помощью REST API.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-125">Once the index is constructed, clients can access the search interface by means of a REST API.</span></span>

<span data-ttu-id="dcf1b-126">Если текстовые данные хранятся на сервере SQL Server или в Базе данных SQL Azure, вы можете использовать полнотекстовый поиск, встроенный в базу данных.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-126">If your text data is stored in SQL Server or Azure SQL Database, you can use the full-text search that is built into the database.</span></span> <span data-ttu-id="dcf1b-127">База данных заполняет индекс на основе текстовых или двоичных данных либо XML-данных, хранящихся в той же базе данных.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-127">The database populates the index from text, binary, or XML data stored within the same database.</span></span> <span data-ttu-id="dcf1b-128">Клиенты выполняют поиск с помощью запросов T-SQL.</span><span class="sxs-lookup"><span data-stu-id="dcf1b-128">Clients search by using T-SQL queries.</span></span>

<span data-ttu-id="dcf1b-129">Дополнительные сведения см. в статье [о хранилищах данных для поиска](../technology-choices/search-options.md).</span><span class="sxs-lookup"><span data-stu-id="dcf1b-129">For more information, see [Search data stores](../technology-choices/search-options.md).</span></span>
