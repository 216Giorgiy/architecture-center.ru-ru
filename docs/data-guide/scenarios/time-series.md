---
title: Данные временных рядов
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.openlocfilehash: 9664940729430b08d7be52564e4971ec5e2b94d8
ms.sourcegitcommit: e7e0e0282fa93f0063da3b57128ade395a9c1ef9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/05/2018
ms.locfileid: "52901972"
---
# <a name="time-series-solutions"></a><span data-ttu-id="89007-102">Решения для временных рядов</span><span class="sxs-lookup"><span data-stu-id="89007-102">Time series solutions</span></span>

<span data-ttu-id="89007-103">Данные временных рядов — это набор значений, упорядоченных по времени.</span><span class="sxs-lookup"><span data-stu-id="89007-103">Time series data is a set of values organized by time.</span></span> <span data-ttu-id="89007-104">Примерами данных временных рядов являются данные датчиков, курса акций, посещаемости сайтов и данные телеметрии приложений.</span><span class="sxs-lookup"><span data-stu-id="89007-104">Examples of time series data include sensor data, stock prices, click stream data, and application telemetry.</span></span> <span data-ttu-id="89007-105">Благодаря анализу данных временных рядов можно узнавать исторические тенденции, получать оповещения в реальном времени или выполнять прогнозное моделирование.</span><span class="sxs-lookup"><span data-stu-id="89007-105">Time series data can be analyzed for historical trends, real-time alerts, or predictive modeling.</span></span>

![Аналитика временных рядов Azure](./images/time-series-insights.png) 

<span data-ttu-id="89007-107">Данные временных рядов — это сведения об изменении состояния ресурса или процесса с течением времени.</span><span class="sxs-lookup"><span data-stu-id="89007-107">Time series data represents how an asset or process changes over time.</span></span> <span data-ttu-id="89007-108">У этих данных есть метка времени, но важнее то, что время — это самая значимая ось для просмотра и анализа данных.</span><span class="sxs-lookup"><span data-stu-id="89007-108">The data has a timestamp, but more importantly, time is the most meaningful axis for viewing or analyzing the data.</span></span> <span data-ttu-id="89007-109">Обычно данные временных рядов поступают в строгой очередности, а их сохранение выполняется как вставка, а не обновление.</span><span class="sxs-lookup"><span data-stu-id="89007-109">Time series data typically arrives in order of time and is usually treated as an insert rather than an update to your database.</span></span> <span data-ttu-id="89007-110">Поэтому информация об изменениях поступает с течением времени, что позволяет анализировать прошедшие периоды и прогнозировать изменения на будущие.</span><span class="sxs-lookup"><span data-stu-id="89007-110">Because of this, change is measured over time, enabling you to look backward and to predict future change.</span></span> <span data-ttu-id="89007-111">Следовательно, данные временных рядов лучше всего визуализировать с помощью точечных диаграмм или графиков.</span><span class="sxs-lookup"><span data-stu-id="89007-111">As such, time series data is best visualized with scatter or line charts.</span></span>

![Данные временных рядов, показанные в виде графика](./images/time-series-chart.png)

<span data-ttu-id="89007-113">Вот некоторые примеры данных временных рядов:</span><span class="sxs-lookup"><span data-stu-id="89007-113">Some examples of time series data are:</span></span>

- <span data-ttu-id="89007-114">Данные курса акций, записываемые в долгосрочной перспективе для определения тенденций.</span><span class="sxs-lookup"><span data-stu-id="89007-114">Stock prices captured over time to detect trends.</span></span>
- <span data-ttu-id="89007-115">Данные производительности сервера, например загрузки ЦП, нагрузки ввода-вывода, использования памяти и пропускной способности сети.</span><span class="sxs-lookup"><span data-stu-id="89007-115">Server performance, such as CPU usage, I/O load, memory usage, and network bandwidth consumption.</span></span>
- <span data-ttu-id="89007-116">Данные телеметрии с датчиков промышленного оборудования, которые можно использовать для определения возможных сбоев и уведомления.</span><span class="sxs-lookup"><span data-stu-id="89007-116">Telemetry from sensors on industrial equipment, which can be used to detect pending equipment failure and trigger alert notifications.</span></span>
- <span data-ttu-id="89007-117">Данные телеметрии автомобилей, получаемые в реальном времени, в том числе сведения о скорости, торможении и ускорении за временное окно, позволяющие создавать статистическую оценку риска для водителя.</span><span class="sxs-lookup"><span data-stu-id="89007-117">Real-time car telemetry data including speed, braking, and acceleration over a time window to produce an aggregate risk score for the driver.</span></span>

<span data-ttu-id="89007-118">Каждый из этих примеров подтверждает значимость времени как оси.</span><span class="sxs-lookup"><span data-stu-id="89007-118">In each of these cases, you can see how time is most meaningful as an axis.</span></span> <span data-ttu-id="89007-119">Отображение событий в порядке их возникновения является ключевой характеристикой данных временных рядов, так как сохраняется естественная хронология.</span><span class="sxs-lookup"><span data-stu-id="89007-119">Displaying the events in the order in which they arrived is a key characteristic of time series data, as there is a natural temporal ordering.</span></span> <span data-ttu-id="89007-120">В этом заключается отличие от записи данных в стандартных конвейерах данных OLTP, где сведения можно вводить в любом порядке и обновлять в любое время.</span><span class="sxs-lookup"><span data-stu-id="89007-120">This differs from data captured for standard OLTP data pipelines where data can be entered in any order, and updated at any time.</span></span>

## <a name="when-to-use-this-solution"></a><span data-ttu-id="89007-121">Когда следует использовать это решение</span><span class="sxs-lookup"><span data-stu-id="89007-121">When to use this solution</span></span>

<span data-ttu-id="89007-122">Решение временных рядов следует выбрать, если необходимо принимать данные, стратегическое значение которых основывается на динамике изменений за период времени, а новые данные требуется сохранять в основном путем вставки, и редко — обновления, если оно вообще используется.</span><span class="sxs-lookup"><span data-stu-id="89007-122">Choose a time series solution when you need to ingest data whose strategic value is centered around changes over a period of time, and you are primarily inserting new data and rarely updating, if at all.</span></span> <span data-ttu-id="89007-123">Эти сведения можно использовать, чтобы обнаруживать аномалии, визуализировать тенденции, сравнивать текущие данные с историческими, и для многого другого.</span><span class="sxs-lookup"><span data-stu-id="89007-123">You can use this information to detect anomalies, visualize trends, and compare current data to historical data, among other things.</span></span> <span data-ttu-id="89007-124">Этот тип архитектуры также идеально подходит для прогнозного моделирования и прогнозирования результатов, так как имеющуюся историческую запись изменений можно применять ко множеству моделей прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="89007-124">This type of architecture is also best suited for predictive modeling and forecasting results, because you have the historical record of changes over time, which can be applied to any number of forecasting models.</span></span> 

<span data-ttu-id="89007-125">Использование данных временных рядов предоставляет следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="89007-125">Using time series offers the following benefits:</span></span>

* <span data-ttu-id="89007-126">Ясно показывают то, как изменялось состояние ресурса или процесса с течением времени.</span><span class="sxs-lookup"><span data-stu-id="89007-126">Clearly represents how an asset or process changes over time.</span></span>
* <span data-ttu-id="89007-127">Позволяют быстро выявить изменения в нескольких связанных источниках, четко выделяя аномалии и новые тенденции.</span><span class="sxs-lookup"><span data-stu-id="89007-127">Helps you quickly detect changes to a number of related sources, making anomalies and emerging trends clearly stand out.</span></span>
* <span data-ttu-id="89007-128">Идеально подходят для прогнозного моделирования и прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="89007-128">Best suited for predictive modeling and forecasting.</span></span>

### <a name="internet-of-things-iot"></a><span data-ttu-id="89007-129">Интернет вещей.</span><span class="sxs-lookup"><span data-stu-id="89007-129">Internet of Things (IoT)</span></span>

<span data-ttu-id="89007-130">Данные, собранные устройствами Интернета вещей, естественным образом подходят для хранения временных рядов и анализа.</span><span class="sxs-lookup"><span data-stu-id="89007-130">Data collected by IoT devices is a natural fit for time series storage and analysis.</span></span> <span data-ttu-id="89007-131">Входные данные вставляются, обновление ими базы данных используется редко, если вообще применяется.</span><span class="sxs-lookup"><span data-stu-id="89007-131">The incoming data is inserted and rarely, if ever, updated.</span></span> <span data-ttu-id="89007-132">К данным прикрепляется метка времени, и они вставляются в порядке получения. Обычно эти данные отображаются в хронологическом порядке, что позволяет пользователям определять тенденции, выявлять аномалии и пользоваться этими сведениями для прогнозного анализа.</span><span class="sxs-lookup"><span data-stu-id="89007-132">The data is time stamped and inserted in the order it was received, and this data is typically displayed in chronological order, enabling users to discover trends, spot anomalies, and use the information for predictive analysis.</span></span>

<span data-ttu-id="89007-133">Дополнительные сведения см. в разделе [Интернет вещей](../big-data/index.md#internet-of-things-iot).</span><span class="sxs-lookup"><span data-stu-id="89007-133">For more information, see [Internet of Things](../big-data/index.md#internet-of-things-iot).</span></span>

### <a name="real-time-analytics"></a><span data-ttu-id="89007-134">Анализ в реальном времени</span><span class="sxs-lookup"><span data-stu-id="89007-134">Real-time analytics</span></span>

<span data-ttu-id="89007-135">Данные временных рядов меняются с учетом времени, т. е. действия по определению тенденций в режиме реального времени и созданию предупреждений следует предпринимать быстро.</span><span class="sxs-lookup"><span data-stu-id="89007-135">Time series data is often time sensitive &mdash; that is, it must be acted on quickly, to spot trends in real time or generate alerts.</span></span> <span data-ttu-id="89007-136">В этих сценариях задержки в анализе могут повлечь простои и повлиять на бизнес.</span><span class="sxs-lookup"><span data-stu-id="89007-136">In these scenarios, any delay in insights can cause downtime and business impact.</span></span> <span data-ttu-id="89007-137">Кроме того, зачастую необходимо коррелировать данные из множества разных источников, таких как датчики.</span><span class="sxs-lookup"><span data-stu-id="89007-137">In addition, there is often a need to correlate data from a variety of different sources, such as sensors.</span></span>

<span data-ttu-id="89007-138">Лучше всего создать уровень обработки потоков, способный обрабатывать входные данные в реальном времени с высокой точностью и степенью детализации.</span><span class="sxs-lookup"><span data-stu-id="89007-138">Ideally, you would have a stream processing layer that can handle the incoming data in real time and process all of it with high precision and high granularity.</span></span> <span data-ttu-id="89007-139">Но это не всегда возможно и зависит от компонентов буферизации и архитектуры потоковой передачи, а также уровней обработки потоков.</span><span class="sxs-lookup"><span data-stu-id="89007-139">This isn't always possible, depending on your streaming architecture and the components of your stream buffering and stream processing layers.</span></span> <span data-ttu-id="89007-140">Возможно, потребуется пренебречь точностью данных временных рядов, сократив их.</span><span class="sxs-lookup"><span data-stu-id="89007-140">You may need to sacrifice some precision of the time series data by reducing it.</span></span> <span data-ttu-id="89007-141">Для этого используется обработка скользящих временных окон (например, длительностью несколько секунд), позволяющая своевременно выполнять вычисления на уровне обработки.</span><span class="sxs-lookup"><span data-stu-id="89007-141">This is done by processing sliding time windows (several seconds, for example), allowing the processing layer to perform calculations in a timely manner.</span></span> <span data-ttu-id="89007-142">Может также потребоваться уменьшить выборку и выполнить статистическое вычисление данных при отображении длительных периодов времени, например масштабировать, чтобы просмотреть данные, записанные в течение нескольких месяцев.</span><span class="sxs-lookup"><span data-stu-id="89007-142">You may also need to downsample and aggregate your data when displaying longer periods of time, such as zooming to display data captured over several months.</span></span>

## <a name="challenges"></a><span data-ttu-id="89007-143">Сложности</span><span class="sxs-lookup"><span data-stu-id="89007-143">Challenges</span></span>

* <span data-ttu-id="89007-144">Данные временных рядов зачастую отличаются очень большим объемом, особенно в сценариях с использованием Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="89007-144">Time series data is often very high volume, especially in IoT scenarios.</span></span> <span data-ttu-id="89007-145">Хранение, индексирование, выполнение запросов, анализ и визуализация данных временных рядов может представлять определенные трудности.</span><span class="sxs-lookup"><span data-stu-id="89007-145">Storing, indexing, querying, analyzing, and visualizing time series data can be challenging.</span></span> 
* <span data-ttu-id="89007-146">Подбор правильного сочетания высокоскоростного хранилища и мощных вычислительных операций для анализа в реальном времени может оказаться сложной задачей, но это сокращает время выхода на рынок и уменьшает общую стоимость инвестиций.</span><span class="sxs-lookup"><span data-stu-id="89007-146">It can be challenging to find the right combination of high-speed storage and powerful compute operations for handling real-time analytics, while minimizing time to market and overall cost investment.</span></span>

## <a name="architecture"></a><span data-ttu-id="89007-147">Архитектура</span><span class="sxs-lookup"><span data-stu-id="89007-147">Architecture</span></span>

<span data-ttu-id="89007-148">Во многих сценариях с использованием данных временных рядов, к примеру для Интернета вещей, данные записываются в реальном времени.</span><span class="sxs-lookup"><span data-stu-id="89007-148">In many scenarios that involve time series data, such as IoT, the data is captured in real time.</span></span> <span data-ttu-id="89007-149">Следовательно, архитектура [обработки в режиме реального времени](../big-data/real-time-processing.md) — подходящий вариант.</span><span class="sxs-lookup"><span data-stu-id="89007-149">As such, a [real-time processing](../big-data/real-time-processing.md) architecture is appropriate.</span></span> 

<span data-ttu-id="89007-150">[Центр Интернета вещей](/azure/iot-hub/), [Центры событий](/azure/event-hubs/) или [Kafka HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction) передают данные из одного или нескольких источников на уровень буферизации потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="89007-150">Data from one or more data sources is ingested into the stream buffering layer by [IoT Hub](/azure/iot-hub/), [Event Hubs](/azure/event-hubs/), or [Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction).</span></span> <span data-ttu-id="89007-151">Затем на уровне обработки данных происходит соответствующий процесс, отсюда можно передать обработанные данные в службу машинного обучения для прогнозного анализа.</span><span class="sxs-lookup"><span data-stu-id="89007-151">Next, the data is processed in the stream processing layer that can optionally hand off the processed data to a machine learning service for predictive analytics.</span></span> <span data-ttu-id="89007-152">Обработанные данные хранятся в хранилище аналитических данных, таком как [HBase](/azure/hdinsight/hbase/apache-hbase-overview), [Azure Cosmos DB](/azure/cosmos-db/), Azure Data Lake или хранилище BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="89007-152">The processed data is stored in an analytical data store, such as [HBase](/azure/hdinsight/hbase/apache-hbase-overview), [Azure Cosmos DB](/azure/cosmos-db/), Azure Data Lake, or Blob Storage.</span></span> <span data-ttu-id="89007-153">Чтобы просмотреть и проанализировать данные временных рядов, можно использовать приложения и службы анализа и создания отчетов, такие как Power BI или OpenTSDB (если данные хранятся в HBase).</span><span class="sxs-lookup"><span data-stu-id="89007-153">An analytics and reporting application or service, like Power BI or OpenTSDB (if stored in HBase) can be used to display the time series data for analysis.</span></span>

<span data-ttu-id="89007-154">Еще один способ — использовать службу [Аналитика временных рядов Azure](/azure/time-series-insights/).</span><span class="sxs-lookup"><span data-stu-id="89007-154">Another option is to use [Azure Time Series Insights](/azure/time-series-insights/).</span></span> <span data-ttu-id="89007-155">Это полностью управляемая служба для работы с данными временных рядов.</span><span class="sxs-lookup"><span data-stu-id="89007-155">Time Series Insights is a fully managed service for time series data.</span></span> <span data-ttu-id="89007-156">В этой архитектуре служба "Аналитика временных рядов" выполняет такие функции, как потоковая передача, хранение данных, анализ и создание отчетов.</span><span class="sxs-lookup"><span data-stu-id="89007-156">In this architecture, Time Series Insights performs the roles of stream processing, data store, and analytics and reporting.</span></span> <span data-ttu-id="89007-157">Она принимает потоки данных из Центра Интернета вещей или Центров событий и хранилищ, обрабатывает, анализирует и показывает данные почти в реальном времени.</span><span class="sxs-lookup"><span data-stu-id="89007-157">It accepts streaming data from either IoT Hub or Event Hubs and stores, processes, analyzes, and displays the data in near real time.</span></span> <span data-ttu-id="89007-158">Эта служба не выполняет статистические вычисления, но сохраняет необработанные события.</span><span class="sxs-lookup"><span data-stu-id="89007-158">It does not pre-aggregate the data, but stores the raw events.</span></span>

<span data-ttu-id="89007-159">Аналитика временных рядов адаптируется к схемам. Это значит, что перед анализом не нужно подготавливать данные.</span><span class="sxs-lookup"><span data-stu-id="89007-159">Time Series Insights is schema adaptive, which means that you do not have to do any data preparation to start deriving insights.</span></span> <span data-ttu-id="89007-160">Это позволяет легко просматривать, сравнивать и сопоставлять различные источники данных.</span><span class="sxs-lookup"><span data-stu-id="89007-160">This enables you to explore, compare, and correlate a variety of data sources seamlessly.</span></span> <span data-ttu-id="89007-161">В этой службе также предусмотрены фильтры и статистические выражения типа SQL, возможность создавать, визуализировать, сравнивать и накладывать различные шаблоны временных рядов, тепловые карты, а также сохранять и совместно использовать запросы.</span><span class="sxs-lookup"><span data-stu-id="89007-161">It also provides SQL-like filters and aggregates, ability to construct, visualize, compare, and overlay various time series patterns, heat maps, and the ability to save and share queries.</span></span> 

## <a name="technology-choices"></a><span data-ttu-id="89007-162">Выбор технологий</span><span class="sxs-lookup"><span data-stu-id="89007-162">Technology choices</span></span>

- [<span data-ttu-id="89007-163">Хранение данных</span><span class="sxs-lookup"><span data-stu-id="89007-163">Data Storage</span></span>](../technology-choices/data-storage.md)
- [<span data-ttu-id="89007-164">Анализ, визуализация и отчетность</span><span class="sxs-lookup"><span data-stu-id="89007-164">Analysis, visualizations, and reporting</span></span>](../technology-choices/analysis-visualizations-reporting.md)
- [<span data-ttu-id="89007-165">Хранилища аналитических данных</span><span class="sxs-lookup"><span data-stu-id="89007-165">Analytical Data Stores</span></span>](../technology-choices/analytical-data-stores.md)
- [<span data-ttu-id="89007-166">Потоковая обработка</span><span class="sxs-lookup"><span data-stu-id="89007-166">Stream processing</span></span>](../technology-choices/stream-processing.md)