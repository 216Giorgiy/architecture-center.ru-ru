---
title: "Контрольный список для обеспечения доступности"
description: "Контрольный список с рекомендациями по вопросам доступности, возникающим во время проектирования."
author: dragon119
ms.date: 03/24/2017
ms.custom: checklist
ms.openlocfilehash: 14e6cd6f25f613ea9793b5cf6c4f1abe6f405b74
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/14/2017
---
# <a name="availability-checklist"></a><span data-ttu-id="8b8d7-103">Контрольный список для обеспечения доступности</span><span class="sxs-lookup"><span data-stu-id="8b8d7-103">Availability checklist</span></span>
[!INCLUDE [header](../_includes/header.md)]

## <a name="application-design"></a><span data-ttu-id="8b8d7-104">Проектирование приложений</span><span class="sxs-lookup"><span data-stu-id="8b8d7-104">Application design</span></span>
* <span data-ttu-id="8b8d7-105">**Избегайте единых точек отказа.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-105">**Avoid any single point of failure.**</span></span> <span data-ttu-id="8b8d7-106">Все компоненты, службы, ресурсы и вычислительные сущности должны развертываться в нескольких экземплярах, чтобы предотвратить влияние на доступность единой точки отказа.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-106">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="8b8d7-107">Это относится и к механизмам аутентификации.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-107">This includes authentication mechanisms.</span></span> <span data-ttu-id="8b8d7-108">Проектируйте приложение так, чтобы его можно было настроить для использования нескольких экземпляров, а также для автоматического обнаружения сбоев и перенаправления запросов в исправные экземпляры там, где платформы не делают это автоматически.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-108">Design the application to be configurable to use multiple instances, and to automatically detect failures and redirect requests to non-failed instances where the platform does not do this automatically.</span></span>
* <span data-ttu-id="8b8d7-109">**Распределение рабочей нагрузки для разных соглашений об уровне обслуживания.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-109">**Decompose workload per different service-level agreement.**</span></span> <span data-ttu-id="8b8d7-110">Если служба состоит из критически важных и менее важных рабочих нагрузок, управляйте ими по-разному и укажите функции службы и число экземпляров в соответствии с их требованиями доступности.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-110">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>
* <span data-ttu-id="8b8d7-111">**Сводите к минимуму и понимайте зависимости службы.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-111">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="8b8d7-112">Сведите к минимуму количество различных используемых служб, где это возможно, и убедитесь, что вы понимаете все функции и зависимости службы, которые существуют в системе.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-112">Minimize the number of different services used where possible, and ensure you understand all of the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="8b8d7-113">Сюда относится характер этих зависимостей и влияние сбоя или понижения производительности в каждой из них на приложение в целом.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-113">This includes the nature of these dependencies, and the impact of failure or reduced performance in each one on the overall application.</span></span> <span data-ttu-id="8b8d7-114">Корпорация Майкрософт гарантирует не менее 99,9 % доступности для большинства служб, но это означает, что каждая дополнительная служба, от которой зависит приложение, потенциально уменьшает общую доступность по соглашению об уровне обслуживания системы на 0,1 %.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-114">Microsoft guarantees at least 99.9 percent availability for most services, but this means that every additional service an application relies on potentially reduces the overall availability SLA of your system by 0.1 percent.</span></span>
* <span data-ttu-id="8b8d7-115">**Проектируйте задачи и сообщения как идемпотентные (безопасно повторяемые), где это возможно,**чтобы повторяющиеся запросы не создавали проблем.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-115">**Design tasks and messages to be idempotent (safely repeatable) where possible**, so that duplicated requests will not cause problems.</span></span> <span data-ttu-id="8b8d7-116">Например, служба может действовать как получатель, который обрабатывает сообщения, отправленные как запросы другими частями системы, действующими как производители.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-116">For example, a service can act as a consumer that handles messages sent as requests by other parts of the system that act as producers.</span></span> <span data-ttu-id="8b8d7-117">Если сбой объекта-получателя происходит после обработки сообщения, но до подтверждения, что оно обработано, производитель может отправить повторный запрос, который может быть обработан другим экземпляром объекта-получателя.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-117">If the consumer fails after processing the message, but before acknowledging that it has been processed, a producer might submit a repeat request which could be handled by another instance of the consumer.</span></span> <span data-ttu-id="8b8d7-118">По этой причине объекты-получатели и операции, которые они выполняют, должны быть идемпотентными, чтобы повторение ранее выполненных операций не приводило к недопустимым результатам.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-118">For this reason, consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="8b8d7-119">Это может означать обнаружение повторяющихся сообщений или обеспечение согласованности с помощью оптимистичной методики обработки конфликтов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-119">This may mean detecting duplicated messages, or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>
* <span data-ttu-id="8b8d7-120">**Используйте брокер сообщений, реализующий высокий уровень доступности, для важных транзакций.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-120">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="8b8d7-121">Во многих сценариях для запуска задач или обращения к удаленным службам используется обмен сообщениями для передачи инструкций между приложением и целевой службой.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-121">Many scenarios for initiating tasks or accessing remote services use messaging to pass instructions between the application and the target service.</span></span> <span data-ttu-id="8b8d7-122">Для наилучшей производительности у приложения должна быть возможность отправить сообщение, а затем вернуться к обработке других запросов без необходимости ожидать ответа.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-122">For best performance, the application should be able to send the message and then return to process more requests, without needing to wait for a reply.</span></span> <span data-ttu-id="8b8d7-123">Чтобы гарантировать доставку сообщений, системе обмена сообщениями следует обеспечивать высокий уровень доступности.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-123">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="8b8d7-124">Очереди сообщений служебной шины реализуют семантику *по крайней мере один раз*.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-124">Azure Service Bus message queues implement *at least once* semantics.</span></span> <span data-ttu-id="8b8d7-125">Это означает, что каждое сообщение, отправленное в очередь, не будет потеряно, несмотря на то, что при определенных обстоятельствах в очереди могут появиться дубликаты.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-125">This means that each message posted to a queue will not be lost, although duplicate copies may be delivered under certain circumstances.</span></span> <span data-ttu-id="8b8d7-126">Если обработка сообщений идемпотентна (см. предыдущий пункт), то повторная доставка не должна стать проблемой.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-126">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>
* <span data-ttu-id="8b8d7-127">**Проектируйте приложения так, чтобы при достижении лимита ресурсов их производительность понижалась корректно** , и выполняли соответствующие действия, чтобы свести к минимуму влияние на пользователя.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-127">**Design applications to gracefully degrade** when reaching resource limits, and take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="8b8d7-128">В некоторых случаях нагрузка на приложение может превышать возможности одной или нескольких частей, вызывая ограничение доступности и сбои подключений.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-128">In some cases, the load on the application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="8b8d7-129">Масштабирование позволяет обойти эту проблему, но оно может достичь предела, обусловленного другими факторами, такими как доступность ресурсов или затраты.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-129">Scaling can help to alleviate this, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="8b8d7-130">Спроектируйте приложение таким образом, чтобы в этом случае его производительность могла корректно автоматически понижаться.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-130">Design the application so that, in this situation, it can automatically degrade gracefully.</span></span> <span data-ttu-id="8b8d7-131">Например, если в системе электронной коммерции подсистема обработки заказов испытывает высокую нагрузку (или даже полностью неисправна), эту часть системы можно временно отключить, включив другие функциональные возможности (скажем, просмотр каталога продуктов).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-131">For example, in an ecommerce system, if the order-processing subsystem is under strain (or has even failed completely), it can be temporarily disabled while allowing other functionality (such as browsing the product catalog) to continue.</span></span> <span data-ttu-id="8b8d7-132">При этом может быть удобно отложить запросы к неисправной подсистеме, например, по-прежнему позволяя клиентам размещать заказы, но сохраняя их для последующей обработки, когда подсистема обработки заказов снова станет доступна.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-132">It might be appropriate to postpone requests to a failing subsystem, for example still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>
* <span data-ttu-id="8b8d7-133">**Корректно обрабатывайте внезапные всплески активности.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-133">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="8b8d7-134">Большинству приложений время от времени требуется обрабатывать меняющиеся рабочие нагрузки, например первые пики утром в бизнес-приложении или при выпуске нового продукта на сайте электронной коммерции.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-134">Most applications need to handle varying workloads over time, such as peaks first thing in the morning in a business application or when a new product is released in an ecommerce site.</span></span> <span data-ttu-id="8b8d7-135">Автоматическое масштабирование позволяет справиться с нагрузкой, но подключение дополнительных экземпляров к сети для обработки запросов может потребовать какого-то времени.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-135">Auto-scaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="8b8d7-136">Предотвратите перегрузку приложения при внезапных и непредвиденных всплесках активности. Для этого спроектируйте его так, чтобы оно ставило в очередь запросы к службам и постепенно снижало скорость обработки запросов, когда очереди близки к заполнению.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-136">Prevent sudden and unexpected bursts of activity from overwhelming the application: design it to queue requests to the services it uses and degrade gracefully when queues are near to full capacity.</span></span> <span data-ttu-id="8b8d7-137">Убедитесь, что при отсутствии всплесков производительности и мощности достаточно, чтобы опустошить очереди и обработать необработанные запросы.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-137">Ensure that there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="8b8d7-138">Дополнительные сведения см. в статье [Queue-Based Load Leveling Pattern](https://msdn.microsoft.com/library/dn589783.aspx) (Шаблон балансировки нагрузки на основе очередей).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-138">For more information, see the [Queue-Based Load Leveling Pattern](https://msdn.microsoft.com/library/dn589783.aspx).</span></span>

## <a name="deployment-and-maintenance"></a><span data-ttu-id="8b8d7-139">Развертывание и обслуживание</span><span class="sxs-lookup"><span data-stu-id="8b8d7-139">Deployment and maintenance</span></span>
* <span data-ttu-id="8b8d7-140">**Развертывайте по несколько экземпляров ролей для каждой службы.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-140">**Deploy multiple instances of roles for each service.**</span></span> <span data-ttu-id="8b8d7-141">Корпорация Майкрософт предоставляет гарантии доступности для служб, которые вы создаете и развертываете, но эти гарантии действительны только при развертывании по крайней мере двух экземпляров каждой роли в службе.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-141">Microsoft makes availability guarantees for services that you create and deploy, but these guarantees are only valid if you deploy at least two instances of each role in the service.</span></span> <span data-ttu-id="8b8d7-142">Тогда одна роль может быть недоступна, пока другая остается активной.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-142">This enables one role to be unavailable while the other remains active.</span></span> <span data-ttu-id="8b8d7-143">Это особенно важно, если необходимо выполнять развертывание обновлений в динамической системе без прерывания действий клиентов; экземпляры могут остановлены и обновлены по отдельности, пока остальные остаются в сети.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-143">This is especially important if you need to deploy updates to a live system without interrupting clients' activities; instances can be taken down and upgraded individually while the others continue online.</span></span>
* <span data-ttu-id="8b8d7-144">**Размещайте приложения в нескольких центрах обработки данных.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-144">**Host applications in multiple datacenters.**</span></span> <span data-ttu-id="8b8d7-145">Хотя и крайне маловероятно, но возможно отключение всего центра обработки данных из-за таких событий, как стихийное бедствие или сбои в сети Интернет.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-145">Although extremely unlikely, it is possible for an entire datacenter to go offline through an event such as a natural disaster or Internet failure.</span></span> <span data-ttu-id="8b8d7-146">Критически важные бизнес-приложения должны быть размещены в более чем одном центре обработки данных, чтобы обеспечить максимальную доступность.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-146">Vital business applications should be hosted in more than one datacenter to provide maximum availability.</span></span> <span data-ttu-id="8b8d7-147">Это также может снизить задержку для локальных пользователей и предоставляет дополнительные возможности для обеспечения гибкости при обновлении приложений.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-147">This can also reduce latency for local users, and provide additional opportunities for flexibility when updating applications.</span></span>
* <span data-ttu-id="8b8d7-148">**Автоматизируйте и тестируйте задачи развертывания и обслуживания.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-148">**Automate and test deployment and maintenance tasks.**</span></span> <span data-ttu-id="8b8d7-149">Распределенные приложения состоят из нескольких частей, которые должны работать вместе.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-149">Distributed applications consist of multiple parts that must work together.</span></span> <span data-ttu-id="8b8d7-150">Поэтому развертывание должно быть автоматизировано с помощью проверенных и надежных механизмов, таких как сценарии и приложения развертывания.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-150">Deployment should therefore be automated, using tested and proven mechanisms such as scripts and deployment applications.</span></span> <span data-ttu-id="8b8d7-151">Они могут обновить и проверить конфигурацию, а также автоматизировать процесс развертывания.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-151">These can update and validate configuration, and automate the deployment process.</span></span> <span data-ttu-id="8b8d7-152">Автоматизированные методы должны также использоваться для обновления всех или части приложений.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-152">Automated techniques should also be used to perform updates of all or parts of applications.</span></span> <span data-ttu-id="8b8d7-153">Важно протестировать все эти процессы полностью, чтобы удостовериться, что ошибки не приводят к дополнительным простоям.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-153">It is vital to test all of these processes fully to ensure that errors do not cause additional downtime.</span></span> <span data-ttu-id="8b8d7-154">У всех инструментов развертывания должны быть соответствующие ограничения безопасности для защиты развернутого приложения. Внимательно определяйте и применяйте политики развертывания и сведите к минимуму необходимость вмешательства человека.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-154">All deployment tools must have suitable security restrictions to protect the deployed application; define and enforce deployment policies carefully and minimize the need for human intervention.</span></span>
* <span data-ttu-id="8b8d7-155">**Рассмотрите возможность использования промежуточной и рабочей среды для платформы** , где это возможно.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-155">**Consider using staging and production features of the platform** where these are available.</span></span> <span data-ttu-id="8b8d7-156">Например, использование промежуточной и рабочей сред облачных служб Azure позволяет приложениям мгновенно переключаться между собой благодаря переключению виртуальных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-156">For example, using Azure Cloud Services staging and production environments allows applications to be switched from one to another instantly through a virtual IP address swap (VIP Swap).</span></span> <span data-ttu-id="8b8d7-157">Тем не менее, если вы предпочитаете локальное размещение или одновременное развертывание различных версий приложения с постепенным переносом пользователей, то нельзя будет использовать операцию переключения виртуальных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-157">However, if you prefer to stage on-premises, or deploy different versions of the application concurrently and gradually migrate users, you may not be able to use a VIP Swap operation.</span></span>
* <span data-ttu-id="8b8d7-158">**Применяйте изменения конфигурации без повторного использования** экземпляра, если это возможно.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-158">**Apply configuration changes without recycling** the instance when possible.</span></span> <span data-ttu-id="8b8d7-159">Во многих случаях параметры конфигурации для службы или приложения Azure можно изменить без необходимости перезапуска роли.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-159">In many cases, the configuration settings for an Azure application or service can be changed without requiring the role to be restarted.</span></span> <span data-ttu-id="8b8d7-160">Роли предоставляют события, которые могут быть обработаны, чтобы обнаруживать изменения конфигурации и применять их к компонентам в приложении.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-160">Role expose events that can be handled to detect configuration changes and apply them to components within the application.</span></span> <span data-ttu-id="8b8d7-161">Тем не менее, для изменения некоторых основных параметров платформы требуется перезапуск роли.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-161">However, some changes to the core platform settings do require a role to be restarted.</span></span> <span data-ttu-id="8b8d7-162">При создании компонентов и служб обеспечьте максимальную доступность и сведите к минимуму время простоя, спроектировав их таким образом, чтобы они принимали изменения параметров конфигурации без необходимости перезапуска всего приложения.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-162">When building components and services, maximize availability and minimize downtime by designing them to accept changes to configuration settings without requiring the application as a whole to be restarted.</span></span>
* <span data-ttu-id="8b8d7-163">**Используйте домены обновления, чтобы свести к нулю время простоя при обновлениях.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-163">**Use upgrade domains for zero downtime during updates.**</span></span> <span data-ttu-id="8b8d7-164">Такие единицы вычислений Azure, как веб-роли и рабочие роли, назначаются доменам обновления.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-164">Azure compute units such as web and worker roles are allocated to upgrade domains.</span></span> <span data-ttu-id="8b8d7-165">Домены обновления объединяют экземпляры роли в группы, чтобы при последовательном обновлении каждая роль в домене обновления по очереди останавливалась, обновлялась и перезапускалась.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-165">Upgrade domains group role instances together so that, when a rolling update takes place, each role in the upgrade domain is stopped, updated, and restarted in turn.</span></span> <span data-ttu-id="8b8d7-166">Это позволяет свести к минимуму влияние на доступность приложения.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-166">This minimizes the impact on application availability.</span></span> <span data-ttu-id="8b8d7-167">Для службы можно указать количество доменов обновления, которое должно быть создано, при ее развертывании.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-167">You can specify how many upgrade domains should be created for a service when the service is deployed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="8b8d7-168">Роли также распределяются по доменам сбоя, каждый из которых является достаточно независимым от других доменов сбоя с точки зрения серверной стойки, подачи питания и охлаждения, чтобы свести к минимуму вероятность возникновения сбоя, влияющего на все экземпляры роли.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-168">Roles are also distributed across fault domains, each of which is reasonably independent from other fault domains in terms of server rack, power, and cooling provision, in order to minimize the chance of a failure affecting all role instances.</span></span> <span data-ttu-id="8b8d7-169">Это распределение выполняется, и управлять им нельзя.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-169">This distribution occurs automatically, and you cannot control it.</span></span>
  > 
  > 
* <span data-ttu-id="8b8d7-170">**Настройте группы доступности для виртуальных машин Azure.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-170">**Configure availability sets for Azure virtual machines.**</span></span> <span data-ttu-id="8b8d7-171">Размещение двух или больше виртуальных машин в одной группе доступности гарантирует, что эти виртуальные машины не будет развернуты в одном домене сбоя.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-171">Placing two or more virtual machines in the same availability set guarantees that these virtual machines will not be deployed to the same fault domain.</span></span> <span data-ttu-id="8b8d7-172">Чтобы добиться максимальной доступности, следует создать несколько экземпляров каждой критически важной виртуальной машины, используемой системой, и поместить эти экземпляры в одну группе доступности.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-172">To maximize availability, you should create multiple instances of each critical virtual machine used by your system and place these instances in the same availability set.</span></span> <span data-ttu-id="8b8d7-173">Если вы используете несколько виртуальных машин, которые предназначены для разных целей, создайте группу доступности для каждой виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-173">If you are running multiple virtual machines that serve different purposes, create an availability set for each virtual machine.</span></span> <span data-ttu-id="8b8d7-174">Добавьте экземпляры каждой виртуальной машины в каждую группу доступности.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-174">Add instances of each virtual machine to each availability set.</span></span> <span data-ttu-id="8b8d7-175">Например, если вы создали отдельные виртуальные машины для веб-сервера и сервера отчетов, создайте одну группу доступности для веб-сервера, а другую — для сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-175">For example, if you have created separate virtual machines to act as a web server and a reporting server, create an availability set for the web server and another availability set for the reporting server.</span></span> <span data-ttu-id="8b8d7-176">Добавьте экземпляры виртуальной машины веб-сервера в группу доступности веб-сервера и добавьте экземпляры виртуальной машины сервера отчетов в группу доступности сервера отчетов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-176">Add instances of the web server virtual machine to the web server availability set, and add instances of the reporting server virtual machine to the reporting server availability set.</span></span>

## <a name="data-management"></a><span data-ttu-id="8b8d7-177">Управление данными</span><span class="sxs-lookup"><span data-stu-id="8b8d7-177">Data management</span></span>

* <span data-ttu-id="8b8d7-178">**Георепликация данных в службе хранилища Azure.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-178">**Geo-replicate data in Azure Storage**.</span></span> <span data-ttu-id="8b8d7-179">Данные в службе хранилище Azure автоматически реплицируются в пределах центра обработки данных.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-179">Data in Azure Storage is automatically replicated within in a datacenter.</span></span> <span data-ttu-id="8b8d7-180">Чтобы дополнительно повысить их доступность, используйте геоизбыточное хранилище с доступом для чтения (-RAGRS), которое реплицирует хранимые данные в дополнительный регион и предоставляет к ним доступ только для чтения.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-180">For even higher availability, use Read-access geo-redundant storage (-RAGRS), which replicates your data to a secondary region and provides read-only access to the data in the secondary location.</span></span> <span data-ttu-id="8b8d7-181">Данные будут доступны даже в случае аварии или полного отключения региона.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-181">The data is durable even in the case of a complete regional outage or a disaster.</span></span> <span data-ttu-id="8b8d7-182">Дополнительные сведения см. в статье [Репликация службы хранилища Azure](/azure/storage/storage-redundancy).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-182">For more information, see [Azure Storage replication](/azure/storage/storage-redundancy).</span></span>
* <span data-ttu-id="8b8d7-183">**Георепликация баз данных.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-183">**Geo-replicate databases**.</span></span> <span data-ttu-id="8b8d7-184">База данных SQL Azure и Cosmos DB поддерживают георепликацию, что позволяет настроить базы данных-получатели (реплики) в других регионах.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-184">Azure SQL Database and Cosmos DB both support geo-replication, which enables you to configure secondary database replicas in other regions.</span></span> <span data-ttu-id="8b8d7-185">Базы данных-получатели доступны для выполнения запросов и отработки отказа при сбое центра обработки данных или невозможности подключения к базе данных-источнику.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-185">Secondary databases are available for querying and for failover in the case of a data center outage or the inability to connect to the primary database.</span></span> <span data-ttu-id="8b8d7-186">Дополнительные сведения см. в обзоре [групп отработки отказа и активной георепликации](/azure/sql-database/sql-database-geo-replication-overview) (для базы данных SQL) и в статье [Как работает глобальное распределение данных в Azure с помощью Cosmos DB](/azure/cosmos-db/distribute-data-globally).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-186">For more information, see [Failover groups and active geo-replication](/azure/sql-database/sql-database-geo-replication-overview) (SQL Database) and [How to distribute data globally with Azure Cosmos DB?](/azure/cosmos-db/distribute-data-globally).</span></span>
* <span data-ttu-id="8b8d7-187">**Используйте оптимистичный параллелизм и согласованность в конечном счете** там, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-187">**Use optimistic concurrency and eventual consistency** where possible.</span></span> <span data-ttu-id="8b8d7-188">Транзакции, которые блокируют доступ к ресурсам из-за блокировки (пессимистичный параллелизм), могут привести к снижению производительности и значительно уменьшить доступность.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-188">Transactions that block access to resources through locking (pessimistic concurrency) can cause poor performance and considerably reduce availability.</span></span> <span data-ttu-id="8b8d7-189">Эти проблемы могут стать особенно ощутимыми в распределенных системах.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-189">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="8b8d7-190">Во многих случаях тщательное проектирование и такие методы, как секционирование, могут свести к минимуму вероятность конфликта обновлений.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-190">In many cases, careful design and techniques such as partitioning can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="8b8d7-191">Когда данные реплицируются или считываются из отдельно обновляемого хранилища, эти данные будут окончательно согласованными.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-191">Where data is replicated, or is read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="8b8d7-192">Но преимущества обычно намного перевешивают влияние транзакций для обеспечения мгновенной согласованности на доступность.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-192">But the advantages usually far outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>
* <span data-ttu-id="8b8d7-193">**Используйте периодическое резервное копирование и восстановление на определенный момент**и убедитесь, что это соответствует целевой точке восстановления (RPO).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-193">**Use periodic backup and point-in-time restore**, and ensure it meets the Recovery Point Objective (RPO).</span></span> <span data-ttu-id="8b8d7-194">Автоматически и регулярно создавайте резервные копии данных, которые не сохраняются в другом месте, и убедитесь, что можете гарантированно восстановить данные и само приложение в случае сбоя.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-194">Regularly and automatically back up data that is not preserved elsewhere, and verify you can reliably restore both the data and the application itself should a failure occur.</span></span> <span data-ttu-id="8b8d7-195">Репликация данных — это не резервное копирование, так как ошибки и несогласованности из-за сбоев, ошибок или вредоносных операций будут реплицированы во все хранилища.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-195">Data replication is not a backup feature because errors and inconsistencies introduced through failure, error, or malicious operations will be replicated across all stores.</span></span> <span data-ttu-id="8b8d7-196">Процесс резервного копирования должен быть безопасным, чтобы обеспечить защиту данных во время передачи и хранения.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-196">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="8b8d7-197">Базы данных или части хранилища данных обычно восстанавливаются до состояния в более ранний момент времени с помощью журналов транзакций.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-197">Databases or parts of a data store can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="8b8d7-198">Microsoft Azure предоставляет функции архивации данных, хранящихся в базе данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-198">Microsoft Azure provides a backup facility for data stored in Azure SQL Database.</span></span> <span data-ttu-id="8b8d7-199">Данные экспортируются в пакет архивации в хранилище BLOB-объектов Azure, и их можно скачать в безопасное локальное расположение для хранения.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-199">The data is exported to a backup package on Azure blob storage, and can be downloaded to a secure on-premises location for storage.</span></span>
* <span data-ttu-id="8b8d7-200">**Включите высокую доступность для дополнительной копии кэша Redis для Azure.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-200">**Enable the high availability option to maintain a secondary copy of an Azure Redis cache.**</span></span> <span data-ttu-id="8b8d7-201">При использовании кэша Redis для Azure выберите стандартный вариант для использования дополнительной копии содержимого.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-201">When using Azure Redis Cache, choose the standard option to maintain a secondary copy of the contents.</span></span> <span data-ttu-id="8b8d7-202">Дополнительные сведения см. в статье [Как использовать кэш Redis для Azure](https://msdn.microsoft.com/library/dn690516.aspx).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-202">For more information, see [Create a cache in Azure Redis Cache](https://msdn.microsoft.com/library/dn690516.aspx).</span></span>

## <a name="errors-and-failures"></a><span data-ttu-id="8b8d7-203">Ошибки и сбои</span><span class="sxs-lookup"><span data-stu-id="8b8d7-203">Errors and failures</span></span>
* <span data-ttu-id="8b8d7-204">**Введите понятие времени ожидания.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-204">**Introduce the concept of a timeout.**</span></span> <span data-ttu-id="8b8d7-205">Службы и ресурсы могут стать недоступными, что приводит к сбою запросов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-205">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="8b8d7-206">Убедитесь, что используемые значения времени ожидания достаточны для каждой службы или ресурса, а также для клиента, который к ним обращается.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-206">Ensure that the timeouts you apply are appropriate for each service or resource as well as the client that is accessing them.</span></span> <span data-ttu-id="8b8d7-207">(В некоторых случаях можно увеличить время ожидания для конкретного экземпляра клиента в зависимости от контекста и других действий, выполняемых клиентом.) Очень короткое время ожидания может привести к чрезмерному повторению операций для служб и ресурсов, которые имеют значительные задержки.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-207">(In some cases, it may be appropriate to allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.) Very short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="8b8d7-208">Очень длинное время ожидания может вызвать блокировку, если в очереди находится большое количество запросов, ожидающих ответа от служб или ресурсов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-208">Very long timeouts can cause blocking if a large number of requests are queued, waiting for a service or resource to respond.</span></span>
* <span data-ttu-id="8b8d7-209">**Повторяйте неудачные операции, вызванные временными сбоями.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-209">**Retry failed operations caused by transient faults.**</span></span> <span data-ttu-id="8b8d7-210">Разработайте стратегию повторов для доступа ко всем службам и ресурсам там, где они по своей природе не поддерживают автоматический повтор подключения.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-210">Design a retry strategy for access to all services and resources where they do not inherently support automatic connection retry.</span></span> <span data-ttu-id="8b8d7-211">Используйте стратегию, которая включает в себя увеличение интервала между повторными попытками при увеличении количества сбоев. Это позволит предотвратить перегрузку ресурса и корректно восстановить его работоспособность и обработать запросы в очереди.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-211">Use a strategy that includes an increasing delay between retries as the number of failures increases, to prevent overloading of the resource and to allow it to gracefully recover and handle queued requests.</span></span> <span data-ttu-id="8b8d7-212">Постоянные повторные попытки с очень короткими задержками могут усугубить проблему.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-212">Continual retries with very short delays are likely to exacerbate the problem.</span></span>
* <span data-ttu-id="8b8d7-213">**Останавливайте отправку запросов, чтобы избежать лавинообразного накопления сбоев**, когда удаленные службы недоступны.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-213">**Stop sending requests to avoid cascading failures** when remote services are unavailable.</span></span> <span data-ttu-id="8b8d7-214">Возможны ситуации, при которых временные или другие ошибки (различающиеся по степени серьезности от частичной потери подключения до полного сбоя службы) требуют намного больше времени для возврата в обычный режим.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-214">There may be situations in which transient or other faults, ranging in severity from a partial loss of connectivity to the complete failure of a service, take much longer than expected to return to normal.</span></span> <span data-ttu-id="8b8d7-215">Кроме того, если служба очень занята, сбой в одной из частей системы может привести к лавинообразному накоплению сбоев и, в свою очередь, блокированию многих операций, удерживающих критические системные ресурсы, например память, потоки и подключения к базе данных.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-215">Additionally, if a service is very busy, failure in one part of the system may lead to cascading failures, and result in many operations becoming blocked while holding onto critical system resources such as memory, threads, and database connections.</span></span> <span data-ttu-id="8b8d7-216">Вместо постоянных попыток повторить операцию, которая, скорее всего, не будет успешно выполнена, приложение должно быстро принять сбой операции и обработать этот сбой.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-216">Instead of continually retrying an operation that is unlikely to succeed, the application should quickly accept that the operation has failed, and gracefully handle this failure.</span></span> <span data-ttu-id="8b8d7-217">Можно использовать шаблон размыкателя, чтобы отклонять запросы для определенных операций в заданные периоды.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-217">You can use the circuit breaker pattern to reject requests for specific operations for defined periods.</span></span> <span data-ttu-id="8b8d7-218">Дополнительные сведения см. в статье [Circuit Breaker Pattern](../patterns/circuit-breaker.md) (Шаблон автоматического выключения).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-218">For more information, see [Circuit Breaker Pattern](../patterns/circuit-breaker.md).</span></span>
* <span data-ttu-id="8b8d7-219">**Составьте или вернитесь к нескольким компонентам**, чтобы снизить влияние недоступности или отключения определенной службы.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-219">**Compose or fall back to multiple components** to mitigate the impact of a specific service being offline or unavailable.</span></span> <span data-ttu-id="8b8d7-220">Проектируйте приложения таким образом, чтобы использовать преимущества нескольких экземпляров, не влияя на операции и существующие подключения, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-220">Design applications to take advantage of multiple instances without affecting operation and existing connections where possible.</span></span> <span data-ttu-id="8b8d7-221">Используйте несколько экземпляров и распределяйте запросы между ними. Выявляйте неработоспособные экземпляры и не отправляйте запросы к ним. Все это позволит добиться максимальной доступности.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-221">Use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances, in order to maximize availability.</span></span>
* <span data-ttu-id="8b8d7-222">**Возвращайтесь к другой службе или рабочему процессу** , где это возможно.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-222">**Fall back to a different service or workflow** where possible.</span></span> <span data-ttu-id="8b8d7-223">Например, в случае сбоя при записи в базу данных SQL временно сохраняйте данные в хранилище BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-223">For example, if writing to SQL Database fails, temporarily store data in blob storage.</span></span> <span data-ttu-id="8b8d7-224">Предоставьте возможность воспроизвести запись из хранилища BLOB-объектов в базу данных SQL, когда служба станет доступной.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-224">Provide a facility to replay the writes in blob storage to SQL Database when the service becomes available.</span></span> <span data-ttu-id="8b8d7-225">В некоторых случаях у завершенной сбоем операции может быть альтернативное действие, которое позволяет приложению продолжать работать даже при сбое компонента или службы.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-225">In some cases, a failed operation may have an alternative action that allows the application to continue to work even when a component or service fails.</span></span> <span data-ttu-id="8b8d7-226">По возможности выявляйте сбои и перенаправляйте запросы в другие службы, которые могут предложить подходящие альтернативные функции, или в резервные экземпляры или экземпляры со сниженной функциональностью, которые могут поддержать основные операции, пока основная служба отключена.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-226">If possible, detect failures and redirect requests to other services that can offer a suitable alternative functionality, or to back up or reduced functionality instances that can maintain core operations while the primary service is offline.</span></span>

## <a name="monitoring-and-disaster-recovery"></a><span data-ttu-id="8b8d7-227">Мониторинг и аварийное восстановление</span><span class="sxs-lookup"><span data-stu-id="8b8d7-227">Monitoring and disaster recovery</span></span>
* <span data-ttu-id="8b8d7-228">**Предоставьте расширенный инструментарий для обработки возможных сбоев и событий сбоев**, чтобы сообщать о ситуации эксплуатационному персоналу.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-228">**Provide rich instrumentation for likely failures and failure events** to report the situation to operations staff.</span></span> <span data-ttu-id="8b8d7-229">Для сбоев, которые вероятны, но еще не произошли, предоставьте достаточно данных, чтобы эксплуатационный персонал мог определить причину, уменьшить последствия ситуации и обеспечить доступность системы.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-229">For failures that are likely but have not yet occurred, provide sufficient data to enable operations staff to determine the cause, mitigate the situation, and ensure that the system remains available.</span></span> <span data-ttu-id="8b8d7-230">Для сбоев, которые уже произошли, приложение должно возвращать соответствующее сообщение об ошибке для пользователя. При этом приложение пытается продолжать работу, пусть и с ограниченными функциональными возможностями.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-230">For failures that have already occurred, the application should return an appropriate error message to the user but attempt to continue running, albeit with reduced functionality.</span></span> <span data-ttu-id="8b8d7-231">Во всех случаях система мониторинга должна записывать всеобъемлющие данные, чтобы эксплуатационный персонал мог быстро восстановить работу приложения, а конструкторы и разработчики при необходимости могли изменить систему для предотвращения подобных ситуаций в будущем.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-231">In all cases, the monitoring system should capture comprehensive details to enable operations staff to effect a quick recovery, and if necessary, for designers and developers to modify the system to prevent the situation from arising again.</span></span>
* <span data-ttu-id="8b8d7-232">**Наблюдайте за работоспособностью системы, реализовав функции проверки.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-232">**Monitor system health by implementing checking functions.**</span></span> <span data-ttu-id="8b8d7-233">Работоспособность и производительность приложения могут незаметно снижаться с течением времени, пока не произойдет сбой.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-233">The health and performance of an application can degrade over time, without being noticeable until it fails.</span></span> <span data-ttu-id="8b8d7-234">Реализуйте проверочные функции, которые будут регулярно выполняться извне приложения.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-234">Implement probes or check functions that are executed regularly from outside the application.</span></span> <span data-ttu-id="8b8d7-235">Эти проверки могут быть просто измерением времени отклика приложения в целом, отдельных частей приложения, отдельных служб, которые используются приложением, или отдельных компонентов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-235">These checks can be as simple as measuring response time for the application as a whole, for individual parts of the application, for individual services that the application uses, or for individual components.</span></span> <span data-ttu-id="8b8d7-236">Функции проверки могут выполнять процессы, чтобы обеспечить получение ими допустимых результатов, измерять задержку и проверять доступность, а также извлекать информацию из системы.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-236">Check functions can execute processes to ensure they produce valid results, measure latency and check availability, and extract information from the system.</span></span>
* <span data-ttu-id="8b8d7-237">**Регулярно тестируйте все системы отработки отказа и резервирования** , чтобы убедиться, что они доступны и работают так, как ожидается.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-237">**Regularly test all failover and fallback systems** to ensure they are available and operate as expected.</span></span> <span data-ttu-id="8b8d7-238">Изменения систем и операций могут повлиять на резервные функции и функции отработки отказа, но влияние может быть не обнаружено, пока не произойдет сбой основной системы или она не окажется перегружена.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-238">Changes to systems and operations may affect failover and fallback functions, but the impact may not be detected until the main system fails or becomes overloaded.</span></span> <span data-ttu-id="8b8d7-239">Проводите тестирование заблаговременно, чтобы не пришлось расплачиваться за это реальной ошибкой в рабочей системе.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-239">Test it before it is required to compensate for a live problem at runtime.</span></span>
* <span data-ttu-id="8b8d7-240">**Протестируйте системы мониторинга.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-240">**Test the monitoring systems.**</span></span> <span data-ttu-id="8b8d7-241">Работа всех автоматизированных систем отработки отказа и восстановления, а также всех систем визуализации работоспособности и производительности системы с использованием панелей мониторинга зависит от правильной работы функций мониторинга и инструментирования.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-241">Automated failover and fallback systems, and manual visualization of system health and performance by using dashboards, all depend on monitoring and instrumentation functioning correctly.</span></span> <span data-ttu-id="8b8d7-242">Если происходит сбой этих элементов, они пропускают важную информацию или сообщают неточные данные, поэтому оператор может не понять, что система работает неправильно.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-242">If these elements fail, miss critical information, or report inaccurate data, an operator might not realize that the system is unhealthy or failing.</span></span>
* <span data-ttu-id="8b8d7-243">**Отслеживайте ход выполнения длительных рабочих процессов** и повторяйте попытку в случае сбоя.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-243">**Track the progress of long-running workflows** and retry on failure.</span></span> <span data-ttu-id="8b8d7-244">Длительные рабочие процессы часто состоят из нескольких шагов.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-244">Long-running workflows are often composed of multiple steps.</span></span> <span data-ttu-id="8b8d7-245">Убедитесь, что каждый шаг независим и его можно повторить. Это позволит свести к минимуму вероятность того, что придется производить откат всего рабочего процесса или выполнять несколько компенсирующих транзакций.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-245">Ensure that each step is independent and can be retried to minimize the chance that the entire workflow will need to be rolled back, or that multiple compensating transactions need to be executed.</span></span> <span data-ttu-id="8b8d7-246">Отслеживайте ход выполнения длительных рабочих процессов и управляйте ими, реализовав шаблон, такой как [шаблон супервизора агента планировщика](https://msdn.microsoft.com/library/dn589780.aspx).</span><span class="sxs-lookup"><span data-stu-id="8b8d7-246">Monitor and manage the progress of long-running workflows by implementing a pattern such as [Scheduler Agent Supervisor Pattern](https://msdn.microsoft.com/library/dn589780.aspx).</span></span>
* <span data-ttu-id="8b8d7-247">**Планируйте аварийное восстановление.**</span><span class="sxs-lookup"><span data-stu-id="8b8d7-247">**Plan for disaster recovery.**</span></span> <span data-ttu-id="8b8d7-248">Создайте утвержденный и полностью проверенный план восстановления для ошибок любого типа, которые могут повлиять на доступность системы.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-248">Create an accepted, fully-tested plan for recovery from any type of failure that may affect system availability.</span></span> <span data-ttu-id="8b8d7-249">Выберите архитектуру с несколькими сайтами для восстановления всех критически важных приложений.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-249">Choose a multi-site disaster recovery architecture for any mission-critical applications.</span></span> <span data-ttu-id="8b8d7-250">Назначьте ответственного за реализацию плана аварийного восстановления, включая его автоматизацию и тестирование.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-250">Identify a specific owner of the disaster recovery plan, including automation and testing.</span></span> <span data-ttu-id="8b8d7-251">Убедитесь, что план хорошо документирован, и максимально автоматизируйте все его процессы.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-251">Ensure the plan is well-documented, and automate the process as much as possible.</span></span> <span data-ttu-id="8b8d7-252">Создайте стратегию резервного копирования для всех эталонных данных и данных о транзакциях. Регулярно проверяйте возможность восстановления из этих резервных копий.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-252">Establish a backup strategy for all reference and transactional data, and test the restoration of these backups regularly.</span></span> <span data-ttu-id="8b8d7-253">Обучите линейных сотрудников выполнять этот план и регулярно проводите имитации аварийных ситуаций, чтобы постоянно проверять и улучшать его.</span><span class="sxs-lookup"><span data-stu-id="8b8d7-253">Train operations staff to execute the plan, and perform regular disaster simulations to validate and improve the plan.</span></span>
