---
title: Решения по хранению и анализу данных для продаж и маркетинга
titleSuffix: Azure Example Scenarios
description: Объединение данных из нескольких источников и оптимизация аналитики данных.
author: alexbuckgit
ms.date: 09/15/2018
ms.openlocfilehash: 5727b6ab475224541e272c6da6243cabe851b919
ms.sourcegitcommit: bb7fcffbb41e2c26a26f8781df32825eb60df70c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/20/2018
ms.locfileid: "53644000"
---
# <a name="data-warehousing-and-analytics-for-sales-and-marketing"></a>Решения по хранению и анализу данных для продаж и маркетинга

Сценарий этого примера демонстрирует конвейер данных, который объединяет большие объемы данных из нескольких источников в единую аналитическую платформу в Azure. Этот конкретный сценарий основан на решении по продажам и маркетингу, но конструктивные шаблоны актуальны для многих отраслей, требующих расширенной аналитики больших наборов данных, таких как электронная коммерция, розничная торговля и здравоохранение.

Этот пример демонстрирует компанию по продажам и маркетингу, которая создает программы стимулирования. Это программы для вознаграждения клиентов, поставщиков, продавцов и сотрудников. Основой для этих программ являются данные, и компания хочет улучшить аналитические сведения, полученные с помощью аналитики данных с использованием Azure.

Компании необходим современный подход к анализу данных, чтобы своевременно принимать решения, используя правильные данные. Компания поставила перед собой следующие цели.

- Объединить различные типы источников данных в платформу в масштабе облака.
- Преобразовать источник данных в общую классификацию и структуру, чтобы данные были согласованными и их можно было с легкостью сравнивать.
- Загружать данные, используя строгий параллельный подход, который может поддерживать тысячи программ стимулирования без высоких затрат на развертывание и обслуживание локальной инфраструктуры.
- Значительно уменьшить время, необходимое для сбора и преобразования данных, чтобы вы могли сосредоточиться на анализе данных.

## <a name="relevant-use-cases"></a>Варианты соответствующего использования

Этот подход также может использоваться для:

- Создания хранилища данных, которое будет единственным источником правильных данных.
- Интеграции реляционных источников данных с другими неструктурированными наборами данных.
- Использования семантического моделирования и мощных средств визуализации для более простого анализа данных.

## <a name="architecture"></a>Архитектура

![Архитектура для сценария хранения и анализа данных в Azure][architecture]

Поток данных проходит через решение следующим образом.

1. Для каждого источника данных в промежуточную область хранилища BLOB-объектов Azure периодически экспортируются обновления.
2. Фабрика данных последовательно загружает данные из хранилища BLOB-объектов в промежуточные таблицы Хранилища данных SQL. В ходе этого процесса данные очищаются и преобразовываются. PolyBase может параллелизовать процесс для больших наборов данных.
3. После загрузки нового пакета данных в хранилище ранее созданная табличная модель Analysis Services обновляется. Эта семантическая модель упрощает анализ бизнес-данных и связей.
4. Бизнес-аналитики используют Microsoft Power BI для анализа данных в хранилище с помощью семантической модели Analysis Services.

### <a name="components"></a>Компоненты

У компании имеются источники данных на различных платформах:

- Локальный сервер SQL Server
- Локальный Oracle
- Базы данных SQL Azure
- Хранилище таблиц Azure
- База данных Cosmos

Данные из этих разных источников данных загружаются с помощью нескольких компонентов Azure:

- [Хранилище BLOB-объектов](/azure/storage/blobs/storage-blobs-introduction) используется для подготовки исходных данных перед загрузкой в Хранилище данных SQL.
- [Фабрика данных](/azure/data-factory) преобразовывает промежуточные данные в общую структуру в Хранилище данных SQL. Фабрика данных [загружает данные в Хранилище данных SQL Azure с помощью PolyBase](/azure/data-factory/connector-azure-sql-data-warehouse#use-polybase-to-load-data-into-azure-sql-data-warehouse) для повышения пропускной способности.
- [Хранилище данных SQL](/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) — это распределенная система для хранения и анализа больших наборов данных. Использование ею массовой параллельной обработки (MPP) делает ее пригодной для запуска высокопроизводительной аналитики. Хранилище данных SQL может использовать [PolyBase](/sql/relational-databases/polybase/polybase-guide), чтобы быстро загрузить данные из хранилища BLOB-объектов.
- [Analysis Services](/azure/analysis-services) предоставляет семантическую модель данных. А также может увеличить производительность системы при анализе данных.
- [Power BI](/power-bi) — набор средств бизнес-аналитики для анализа данных и обмена информацией. Power BI может запрашивать семантическую модель, хранящуюся в Analysis Services, или напрямую запрашивать Хранилище данных SQL.
- [Azure Active Directory](/azure/active-directory) (Azure AD) аутентифицирует пользователей, которые подключаются к серверу Analysis Services через Power BI. Фабрика данных также может использовать Microsoft Azure AD для аутентификации в Хранилище данных SQL с использованием субъекта-службы или [управляемого удостоверения для ресурсов Azure](/azure/active-directory/managed-identities-azure-resources/overview).

### <a name="alternatives"></a>Альтернативные варианты

- Этот пример конвейера включает несколько разных источников данных. Эта архитектура может обрабатывать самые разнообразные источники реляционных и нереляционных данных.
- Фабрика данных управляет рабочими процессами конвейера данных. Если вы хотите загружать данные только один раз или по требованию, то можете использовать такие инструменты, как программа массового копирования для Microsoft SQL Server (BCP) и AzCopy для копирования данных в хранилище BLOB-объектов. Вы также можете напрямую загрузить данные в Хранилище данных SQL с помощью PolyBase.
- Если у вас очень большие наборы данных, рассмотрите возможность использования [Data Lake Storage](/azure/storage/data-lake-storage/introduction), который обеспечивает неограниченное хранение данных аналитики.
- Для обработки большого количества данных вы также можете использовать локальное [хранилище параллельных данных Microsoft SQL Server](/sql/analytics-platform-system). Однако благодаря управляемому облачному решению, например Хранилищу данных SQL, эксплуатационные расходы часто намного ниже.
- Хранилище данных SQL не подходит для рабочих нагрузок OLTP или малых наборов данных (<250 ГБ). Для этих случаев следует использовать Базу данных SQL Azure или Microsoft SQL Server.
- Сравните с другими альтернативами:

  - [Выбор технологии для оркестрации конвейеров данных в Azure](/azure/architecture/data-guide/technology-choices/pipeline-orchestration-data-movement)
  - [Выбор технологии пакетной обработки в Azure](/azure/architecture/data-guide/technology-choices/batch-processing)
  - [Выбор хранилища аналитических данных в Azure](/azure/architecture/data-guide/technology-choices/analytical-data-stores)
  - [Выбор технологии для анализа данных в Azure](/azure/architecture/data-guide/technology-choices/analysis-visualizations-reporting)

## <a name="considerations"></a>Рекомендации

Технологии этой архитектуры были выбраны, поскольку они отвечали требованиям компании к масштабируемости и доступности во время контролирования затрат.

- [Архитектура вычислений с массовым параллелизмом](/azure/sql-data-warehouse/massively-parallel-processing-mpp-architecture) Хранилища данных SQL предоставляет такие возможности, как масштабируемость и высокую производительность.
- Хранилище данных SQL обладает [соглашением об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/sql-data-warehouse) и [практическими рекомендациями для получения высокого уровня доступности](/azure/sql-data-warehouse/sql-data-warehouse-best-practices).
- Если анализ активности находится на низком уровне, компания может [потребовать выполнение масштабируемости Хранилища данных SQL Azure](/azure/sql-data-warehouse/sql-data-warehouse-manage-compute-overview), уменьшения или даже приостановки вычислений, чтобы уменьшить затраты.
- Azure Analysis Services могут быть [масштабированы](/azure/analysis-services/analysis-services-scale-out), чтобы уменьшить время отклика во время высоких рабочих нагрузок запросов. Операции обработки могут выполняться отдельно от пула запросов, чтобы эти операции не замедлялись из-за клиентских запросов.
- Azure Analysis Services также обладает [Соглашением об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/analysis-services) и [практическими рекомендациями для получения высокой производительности](/azure/analysis-services/analysis-services-bcdr).
- [Модель безопасности Хранилища данных SQL](/azure/sql-data-warehouse/sql-data-warehouse-overview-manage-security) обеспечивает безопасность подключения, [проверки подлинности и авторизации](/azure/sql-data-warehouse/sql-data-warehouse-authentication) с помощью Azure AD или проверки подлинности SQL Server и шифрования. [Azure Analysis Services](/azure/analysis-services/analysis-services-manage-users) использует Microsoft Azure AD для управления удостоверениями и проверки подлинности пользователей.

## <a name="pricing"></a>Цены

Просмотрите [образец цен для сценария хранилища данных][calculator] с помощью калькулятора цен Azure. Изменяйте значения до тех пор, пока не увидите, как ваши требования влияют на затраты.

- [Хранилище данных SQL](https://azure.microsoft.com/pricing/details/sql-data-warehouse/gen2) позволяет независимо масштабировать уровни вычисления и хранилища. Стоимость за использование вычислительных ресурсов взимается каждый час. По требованию пользователя может быть выполнена приостановка использования данных ресурсов или их масштабируемость. В ресурсах хранилища стоимость взимается за используемые терабайты, что значит, что при получении большего количества данных стоимость увеличится.
- Цены [Фабрики данных](https://azure.microsoft.com/pricing/details/data-factory) основаны на количестве операций чтения и записи, операций мониторинга и операций оркестрации, выполняемых в рабочей нагрузке. Цены Фабрики данных будут увеличиваться с каждым дополнительным потоком и объемом данных, обработанных каждым из них.
- [Analysis Services](https://azure.microsoft.com/pricing/details/analysis-services) предоставляются на уровнях "Разработка", "Базовый" и "Стандартный". Оценивание экземпляров происходит на основе используемых единиц обработки запроса (QPU) и доступной памяти. Чтобы снизить затраты, свести к минимуму количество запущенных запросов, необходимо знать, сколько данных они обрабатывают и как часто они запускаются.
- Существуют различные варианты решения [Power BI](https://powerbi.microsoft.com/pricing). С их помощью оно может соответствовать различным требованиям. [Power BI Embedded](https://azure.microsoft.com/pricing/details/power-bi-embedded) предоставляет опцию на основе Azure для внедрения функций Power BI в ваши приложения. Экземпляр Power BI Embedded включен в образец цены выше.

## <a name="next-steps"></a>Дальнейшие действия

- Просмотрите статью [Автоматизированная корпоративная бизнес-аналитика с использованием Хранилища данных SQL и Фабрики данных Azure](/azure/architecture/reference-architectures/data/enterprise-bi-adf), которая включает инструкции по развертыванию экземпляра этой архитектуры в Azure.
- Прочтите статью [Maritz Motivation Solutions customer story] (О клиентах компании Maritz Motivation Solutions)[source-document]. В ней описан аналогичный подход к управлению данными клиентов.
- Из [руководства по архитектуре данных в Azure](/azure/architecture/data-guide) можно получить общие сведения о конвейерах данных, их хранении, оперативной аналитической обработке (OLAP) и больших данных.

<!-- links -->
[source-document]: https://customers.microsoft.com/story/maritz
[calculator]: https://azure.com/e/b798fb70c53e4dd19fdeacea4db78276
[architecture]: ./media/architecture-data-warehouse.png
