---
title: Масштабируемая обработка заказов в Azure
description: Создание конвейера обработки заказа с высокой степенью масштабируемости с помощью Azure Cosmos DB.
author: alexbuckgit
ms.date: 07/10/2018
ms.openlocfilehash: 1c3bb2cc33be74f5ff8ee0513de4c3f7df70aa37
ms.sourcegitcommit: 0a31fad9b68d54e2858314ca5fe6cba6c6b95ae4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/13/2018
ms.locfileid: "51610861"
---
# <a name="scalable-order-processing-on-azure"></a><span data-ttu-id="a9e05-103">Масштабируемая обработка заказов в Azure</span><span class="sxs-lookup"><span data-stu-id="a9e05-103">Scalable order processing on Azure</span></span>

<span data-ttu-id="a9e05-104">Этот пример сценария относится к организациям, которым требуется высокая степень масштабируемости и устойчивая архитектура для обработки заказов через Интернет.</span><span class="sxs-lookup"><span data-stu-id="a9e05-104">This example scenario is relevant to organizations that need a highly scalable and resilient architecture for online order processing.</span></span> <span data-ttu-id="a9e05-105">Потенциальные приложения включают точки продажи для электронной коммерции и розничной торговли, выполнение заказов, резервирование и отслеживание оборудования.</span><span class="sxs-lookup"><span data-stu-id="a9e05-105">Potential applications include e-commerce and retail point-of-sale, order fulfillment, and inventory reservation and tracking.</span></span> 

<span data-ttu-id="a9e05-106">В этом сценарии применяется подход источника событий с использованием модели функционального программирования, реализованной с помощью микрослужб.</span><span class="sxs-lookup"><span data-stu-id="a9e05-106">This scenario takes an event sourcing approach, using a functional programming model implemented via microservices.</span></span> <span data-ttu-id="a9e05-107">Каждая микрослужба считается обработчиком потоков. Вся бизнес-логика реализуется через микрослужбы.</span><span class="sxs-lookup"><span data-stu-id="a9e05-107">Each microservice is treated as a stream processor, and all business logic is implemented via microservices.</span></span> <span data-ttu-id="a9e05-108">Этот подход обеспечивает высокий уровень доступности и устойчивости, георепликацию и высокую производительность.</span><span class="sxs-lookup"><span data-stu-id="a9e05-108">This approach enables high availability and resiliency, geo-replication, and fast performance.</span></span>

<span data-ttu-id="a9e05-109">Использование управляемых служб Azure, таких как Cosmos DB и HDInsight, поможет сократить затраты за счет использования опыта корпорации Майкрософт в области хранения и извлечения данных в глобальных масштабах.</span><span class="sxs-lookup"><span data-stu-id="a9e05-109">Using managed Azure services such as Cosmos DB and HDInsight can help reduce costs by leveraging Microsoft's expertise in globally distributed cloud-scale data storage and retrieval.</span></span> <span data-ttu-id="a9e05-110">В этом сценарии конкретно рассматривается сценарий электронной коммерции или розничной торговли. Если у вас есть другие потребности в службах данных, изучите список доступных [полностью управляемых интеллектуальных служб баз данных в Azure][product-category].</span><span class="sxs-lookup"><span data-stu-id="a9e05-110">This scenario specifically addresses an e-commerce or retail scenario; if you have other needs for data services, you should review the list of available [fully managed intelligent database services in Azure][product-category].</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="a9e05-111">Варианты соответствующего использования</span><span class="sxs-lookup"><span data-stu-id="a9e05-111">Relevant use cases</span></span>

<span data-ttu-id="a9e05-112">Другие варианты использования:</span><span class="sxs-lookup"><span data-stu-id="a9e05-112">Other relevant use cases include:</span></span>

* <span data-ttu-id="a9e05-113">Серверные системы для точек продажи для электронной коммерции или розничной торговли.</span><span class="sxs-lookup"><span data-stu-id="a9e05-113">E-commerce or retail point-of-sale back-end systems.</span></span>
* <span data-ttu-id="a9e05-114">Системы управления запасами.</span><span class="sxs-lookup"><span data-stu-id="a9e05-114">Inventory management systems.</span></span>
* <span data-ttu-id="a9e05-115">Систем выполнения заказов.</span><span class="sxs-lookup"><span data-stu-id="a9e05-115">Order fulfillment systems.</span></span>
* <span data-ttu-id="a9e05-116">Другие сценарии интеграции, относящиеся к конвейеру обработки заказов.</span><span class="sxs-lookup"><span data-stu-id="a9e05-116">Other integration scenarios relevant to an order processing pipeline.</span></span>

## <a name="architecture"></a><span data-ttu-id="a9e05-117">Архитектура</span><span class="sxs-lookup"><span data-stu-id="a9e05-117">Architecture</span></span>

![Пример архитектуры для конвейера масштабируемой обработки заказов][architecture]

<span data-ttu-id="a9e05-119">Эта архитектура подробно описывает ключевые компоненты конвейера обработки заказа.</span><span class="sxs-lookup"><span data-stu-id="a9e05-119">This architecture details key components of an order processing pipeline.</span></span> <span data-ttu-id="a9e05-120">Данные передаются в сценарии следующим образом:</span><span class="sxs-lookup"><span data-stu-id="a9e05-120">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="a9e05-121">Сообщения о событиях вводятся в систему с помощью клиентского приложения (синхронно, по протоколу HTTP) и различных серверных систем (асинхронно с помощью Apache Kafka).</span><span class="sxs-lookup"><span data-stu-id="a9e05-121">Event messages enter the system via customer-facing applications (synchronously over HTTP) and various back-end systems (asynchronously via Apache Kafka).</span></span> <span data-ttu-id="a9e05-122">Эти сообщения передаются в конвейер обработки команд.</span><span class="sxs-lookup"><span data-stu-id="a9e05-122">These messages are passed into a command processing pipeline.</span></span>
2. <span data-ttu-id="a9e05-123">С помощью микрослужбы обработчика команд каждое сообщение о событии принимается и сопоставляется с одной из определенных команд.</span><span class="sxs-lookup"><span data-stu-id="a9e05-123">Each event message is ingested and mapped to one of a defined set of commands by a command processor microservice.</span></span> <span data-ttu-id="a9e05-124">Обработчик команд извлекает любое текущее состояние, соответствующее выполнению команды, из базы данных моментальных снимков потока событий.</span><span class="sxs-lookup"><span data-stu-id="a9e05-124">The command processor retrieves any current state relevant to executing the command from an event stream snapshot database.</span></span> <span data-ttu-id="a9e05-125">Затем выполняется команда и выходные данные команды выдаются как новое событие.</span><span class="sxs-lookup"><span data-stu-id="a9e05-125">The command is then executed, and the output of the command is emitted as a new event.</span></span>
3. <span data-ttu-id="a9e05-126">Каждое событие, выданное как выходные данные команды, фиксируется в базе данных потока событий с помощью Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a9e05-126">Each event emitted as the output of a command is committed to an event stream database using Cosmos DB.</span></span>
4. <span data-ttu-id="a9e05-127">Для каждой операции вставки или обновления базы данных, привязанной к базе данных потока событий, вызывается событие с помощью канала изменений Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a9e05-127">For each database insert or update committed to the event stream database, an event is raised by the Cosmos DB Change Feed.</span></span> <span data-ttu-id="a9e05-128">Подчиненные системы могут подписаться на любые темы событий, связанные с этой системой.</span><span class="sxs-lookup"><span data-stu-id="a9e05-128">Downstream systems can subscribe to any event topics that are relevant to that system.</span></span>
5. <span data-ttu-id="a9e05-129">Все события из канала изменений Cosmos DB также отправляются в микрослужбу моментальных снимков потока событий, которая вычисляет любое изменения состояния, вызванное произошедшими событиями.</span><span class="sxs-lookup"><span data-stu-id="a9e05-129">All events from the Cosmos DB Change Feed are also sent to a snapshot event stream microservice, which calculates any state changes caused by events that have occurred.</span></span> <span data-ttu-id="a9e05-130">Затем новое состояние фиксируется в базе данных моментальных снимков потока событий, хранящейся в Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a9e05-130">The new state is then committed to the event stream snapshot database stored in Cosmos DB.</span></span> <span data-ttu-id="a9e05-131">База данных моментальных снимков предоставляет глобально распределенный источник данных с низкой задержкой для текущего состояния всех элементов данных.</span><span class="sxs-lookup"><span data-stu-id="a9e05-131">The snapshot database provides a globally distributed, low latency data source for the current state of all data elements.</span></span> <span data-ttu-id="a9e05-132">Она обеспечивает полную запись всех сообщений о событиях, прошедших через архитектуру, за счет чего обеспечивается надежное тестирование, устранение неполадок и сценарии аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="a9e05-132">The event stream database provides a complete record of all event messages that have passed through the architecture, which enables robust testing, troubleshooting, and disaster recovery scenarios.</span></span>

### <a name="components"></a><span data-ttu-id="a9e05-133">Компоненты</span><span class="sxs-lookup"><span data-stu-id="a9e05-133">Components</span></span>

* <span data-ttu-id="a9e05-134">[Cosmos DB](/azure/cosmos-db/introduction) — это глобально распределенная многомодельная база данных Майкрософт, которая позволяет решениям гибко и независимо масштабировать пропускную способность и ресурсы хранилища в любом числе регионов.</span><span class="sxs-lookup"><span data-stu-id="a9e05-134">[Cosmos DB](/azure/cosmos-db/introduction) is Microsoft's globally distributed, multi-model database that enables your solutions to elastically and independently scale throughput and storage across any number of geographic regions.</span></span> <span data-ttu-id="a9e05-135">Она гарантирует пропускную способность, задержку, доступность и согласованность в соответствии с комплексными Соглашениями об уровне обслуживания (SLA).</span><span class="sxs-lookup"><span data-stu-id="a9e05-135">It offers throughput, latency, availability, and consistency guarantees with comprehensive service level agreements (SLAs).</span></span> <span data-ttu-id="a9e05-136">Этот сценарий использует Cosmos DB для хранения потока событий и моментальных снимков, а также использует функции [канала изменений Cosmos DB][docs-cosmos-db-change-feed] для обеспечения целостности данных и восстановления после сбоев.</span><span class="sxs-lookup"><span data-stu-id="a9e05-136">This scenario uses Cosmos DB for event stream storage and snapshot storage, and leverages [Cosmos DB's Change Feed][docs-cosmos-db-change-feed] features to provide data consistency and fault recovery.</span></span>
* <span data-ttu-id="a9e05-137">[Apache Kafka в HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction) —  это управляемая служебная реализация Apache Kafka — распределенной платформы потоковой передачи с открытым кодом, которую можно использовать для создания конвейеров и приложений потоковой передачи данных в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="a9e05-137">[Apache Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction) is a managed service implementation of Apache Kafka, an open-source distributed streaming platform for building real-time streaming data pipelines and applications.</span></span> <span data-ttu-id="a9e05-138">Kafka также предоставляет функцию брокера сообщений, подобную очереди сообщений для публикации и подписки на именованные потоки данных.</span><span class="sxs-lookup"><span data-stu-id="a9e05-138">Kafka also provides message broker functionality similar to a message queue, for publishing and subscribing to named data streams.</span></span> <span data-ttu-id="a9e05-139">Этот сценарий используется Kafka для обработки входящих и подчиненных событий в конвейере обработки заказов.</span><span class="sxs-lookup"><span data-stu-id="a9e05-139">This scenario uses Kafka to process incoming as well as downstream events in the order processing pipeline.</span></span> 

## <a name="considerations"></a><span data-ttu-id="a9e05-140">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="a9e05-140">Considerations</span></span>

<span data-ttu-id="a9e05-141">Различные варианты технологий доступны в режиме реального времени для приема сообщений, хранения данных, обработки потоков данных, хранения аналитических данных, а также аналитики и отчетности.</span><span class="sxs-lookup"><span data-stu-id="a9e05-141">Many technology options are available for real-time message ingestion, data storage, stream processing, storage of analytical data, and analytics and reporting.</span></span> <span data-ttu-id="a9e05-142">Обзор этих параметров, их возможностей и ключевых критериев выбора см. в разделе [Выбор технологии приема сообщений в реальном времени в Azure](/azure/architecture/data-guide/technology-choices/real-time-ingestion) в [Руководстве по архитектуре данных Azure](/azure/architecture/data-guide).</span><span class="sxs-lookup"><span data-stu-id="a9e05-142">For an overview of these options, their capabilities, and key selection criteria, see [Big data architectures: Real-time processing](/azure/architecture/data-guide/technology-choices/real-time-ingestion) in the [Azure Data Architecture Guide](/azure/architecture/data-guide).</span></span>

<span data-ttu-id="a9e05-143">Архитектура микрослужб широко используется для создания устойчивых, высокомасштабируемых, независимо развертываемых и быстро развивающихся облачных приложений.</span><span class="sxs-lookup"><span data-stu-id="a9e05-143">Microservices have become a popular architectural style for building cloud applications that are resilient, highly scalable, independently deployable, and able to evolve quickly.</span></span> <span data-ttu-id="a9e05-144">Применение микрослужб требует другого подхода к разработке и созданию приложений.</span><span class="sxs-lookup"><span data-stu-id="a9e05-144">Microservices require a different approach to designing and building applications.</span></span> <span data-ttu-id="a9e05-145">Такие инструменты, как Docker, Kubernetes, Azure Service Fabric и Nomad, позволяют разрабатывать архитектуры на основе микрослужб.</span><span class="sxs-lookup"><span data-stu-id="a9e05-145">Tools such as Docker, Kubernetes, Azure Service Fabric, and Nomad enable the development of microservices-based architectures.</span></span> <span data-ttu-id="a9e05-146">Рекомендации о создании и запуске архитектуры на основе микрослужб см. в статье [Проектирование, создание и использование микрослужб в Azure](/azure/architecture/microservices) в Центре архитектуры Azure.</span><span class="sxs-lookup"><span data-stu-id="a9e05-146">For guidance on building and running a microservices-based architecture, see [Designing microservices on Azure](/azure/architecture/microservices in the Azure Architecture Center.</span></span>

### <a name="availability"></a><span data-ttu-id="a9e05-147">Доступность</span><span class="sxs-lookup"><span data-stu-id="a9e05-147">Availability</span></span>

<span data-ttu-id="a9e05-148">Подход к источнику событий этого сценария позволяет использовать слабо связанные системные компоненты, развертываемые независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="a9e05-148">This scenario's event sourcing approach allows system components to be loosely coupled and deployed independently of one another.</span></span> <span data-ttu-id="a9e05-149">Cosmos DB предлагает [высокий уровень доступности][docs-cosmos-db-regional-failover] и помогает организации управлять компромиссами, связанными с целостностью, доступностью и производительностью с [соответствующими гарантиями ][docs-cosmos-db-guarantees].</span><span class="sxs-lookup"><span data-stu-id="a9e05-149">Cosmos DB offers [high availability][docs-cosmos-db-regional-failover] and helps organization manage the tradeoffs associated with consistency, availability, and performance, all with [corresponding guarantees][docs-cosmos-db-guarantees].</span></span> <span data-ttu-id="a9e05-150">Apache Kafka в HDInsight также предназначен для обеспечения [высокого уровня доступности][docs-kafka-high-availability].</span><span class="sxs-lookup"><span data-stu-id="a9e05-150">Apache Kafka on HDInsight is also designed for [high availability][docs-kafka-high-availability].</span></span>

<span data-ttu-id="a9e05-151">Azure Monitor предоставляет унифицированный пользовательский интерфейс для мониторинга различных служб Azure.</span><span class="sxs-lookup"><span data-stu-id="a9e05-151">Azure Monitor provides unified user interfaces for monitoring across various Azure services.</span></span> <span data-ttu-id="a9e05-152">Для получения дополнительных сведений см. раздел [Мониторинг приложений и ресурсов в Azure](/azure/monitoring-and-diagnostics/monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="a9e05-152">For more information, see [Monitoring in Microsoft Azure](/azure/monitoring-and-diagnostics/monitoring-overview).</span></span> <span data-ttu-id="a9e05-153">Центры событий и Stream Analytics интегрированы с Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="a9e05-153">Event Hubs and Stream Analytics are both integrated with Azure Monitor.</span></span> 

<span data-ttu-id="a9e05-154">Сведения о других вопросах доступности см. в статье [Контрольном списке для обеспечения доступности][availability].</span><span class="sxs-lookup"><span data-stu-id="a9e05-154">For other availability considerations, see the [availability checklist][availability].</span></span>

### <a name="scalability"></a><span data-ttu-id="a9e05-155">Масштабируемость</span><span class="sxs-lookup"><span data-stu-id="a9e05-155">Scalability</span></span>

<span data-ttu-id="a9e05-156">Kafka в HDInsight позволяет [настраивать хранилища и масштабируемость](/azure/hdinsight/kafka/apache-kafka-scalability) для кластеров Kafka.</span><span class="sxs-lookup"><span data-stu-id="a9e05-156">Kafka on HDInsight allows [configuration of storage and scalability](/azure/hdinsight/kafka/apache-kafka-scalability) for Kafka clusters.</span></span> <span data-ttu-id="a9e05-157">Cosmos DB обеспечивает быструю, предсказуемую производительность и [легкую масштабируемость](/azure/cosmos-db/partition-data) по мере увеличения объема данных приложения.</span><span class="sxs-lookup"><span data-stu-id="a9e05-157">Cosmos DB provides fast, predictable performance and [scales seamlessly](/azure/cosmos-db/partition-data) as your application grows.</span></span>
<span data-ttu-id="a9e05-158">Архитектура этого сценария, основанная на использовании микрослужб источников событий, также облегчает масштабирование системы и расширение ее функциональности.</span><span class="sxs-lookup"><span data-stu-id="a9e05-158">The event sourcing microservices-based architecture of this scenario also makes it easier to scale your system and expand its functionality.</span></span>

<span data-ttu-id="a9e05-159">Сведения по другим вопросам масштабируемости см. в статье [Контрольный список для обеспечения масштабируемости][scalability] в Центре архитектуры Azure.</span><span class="sxs-lookup"><span data-stu-id="a9e05-159">For other scalability considerations, see the [scalability checklist][scalability] available in the Azure Architecture Center.</span></span>

### <a name="security"></a><span data-ttu-id="a9e05-160">Безопасность</span><span class="sxs-lookup"><span data-stu-id="a9e05-160">Security</span></span>

<span data-ttu-id="a9e05-161">[Модель безопасности Cosmos DB](/azure/cosmos-db/secure-access-to-data) проверяет подлинность пользователей и предоставляет доступ к своим данным и ресурсам.</span><span class="sxs-lookup"><span data-stu-id="a9e05-161">The [Cosmos DB security model](/azure/cosmos-db/secure-access-to-data) authenticates users and provides access to its data and resources.</span></span> <span data-ttu-id="a9e05-162">Дополнительные сведения см. в статье [Безопасность базы данных в Azure Cosmos DB](/azure/cosmos-db/database-security).</span><span class="sxs-lookup"><span data-stu-id="a9e05-162">For more information, see [Cosmos DB database security](/azure/cosmos-db/database-security).</span></span>

<span data-ttu-id="a9e05-163">Общие рекомендации по разработке безопасных решений см. в разделе [Azure Security Documentation][security].</span><span class="sxs-lookup"><span data-stu-id="a9e05-163">For general guidance on designing secure solutions, see the [Azure Security Documentation][security].</span></span>

### <a name="resiliency"></a><span data-ttu-id="a9e05-164">Устойчивость</span><span class="sxs-lookup"><span data-stu-id="a9e05-164">Resiliency</span></span>

<span data-ttu-id="a9e05-165">Архитектура источников событий и связанные с ней технологии обеспечивают высокую устойчивость при сбоях для этого сценария.</span><span class="sxs-lookup"><span data-stu-id="a9e05-165">The event sourcing architecture and associated technologies in this example scenario make this scenario highly resilient when failures occur.</span></span> <span data-ttu-id="a9e05-166">Общее руководство по проектированию устойчивых решений см. в разделе [Проектирование устойчивых приложений для Azure][resiliency].</span><span class="sxs-lookup"><span data-stu-id="a9e05-166">For general guidance on designing resilient solutions, see [Designing resilient applications for Azure][resiliency].</span></span>

## <a name="pricing"></a><span data-ttu-id="a9e05-167">Цены</span><span class="sxs-lookup"><span data-stu-id="a9e05-167">Pricing</span></span>

<span data-ttu-id="a9e05-168">Чтобы изучить стоимость выполнения этого сценария, все услуги были предварительно сконфигурированы в калькуляторе стоимости.</span><span class="sxs-lookup"><span data-stu-id="a9e05-168">To examine the cost of running this scenario, all of the services are pre-configured in the cost calculator.</span></span> <span data-ttu-id="a9e05-169">Чтобы узнать, как изменится цена для конкретного сценария, измените соответствующие переменные согласно с ожидаемым объемом данных.</span><span class="sxs-lookup"><span data-stu-id="a9e05-169">To see how pricing would change for your particular scenario, change the appropriate variables to match your expected data volume.</span></span> <span data-ttu-id="a9e05-170">Для этого сценария примерная цена включает только Cosmos DB и кластер Kafka для обработки событий, вызванных с помощью канала изменения Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="a9e05-170">For this scenario, the example pricing includes only Cosmos DB and a Kafka cluster for processing events raised from the Cosmos DB Change Feed.</span></span> <span data-ttu-id="a9e05-171">Обработчики событий и микрослужбы для исходных систем и других подчиненных систем не включены, их стоимость зависит от количества и объема этих служб, а также от технологий, выбранных для их реализации.</span><span class="sxs-lookup"><span data-stu-id="a9e05-171">Event processors and microservices for originating systems and other downstream systems are not included, and their cost is highly dependent on the quantity and scale of these services as well as the technologies chosen for implementing them.</span></span>

<span data-ttu-id="a9e05-172">Плата за использование Azure Cosmos DB выражается в единицах запроса (ЕЗ).</span><span class="sxs-lookup"><span data-stu-id="a9e05-172">The currency of Azure Cosmos DB is the request unit (RU).</span></span> <span data-ttu-id="a9e05-173">При использовании единиц запроса вам не нужно резервировать пропускную способность для чтения и записи или подготавливать ресурсы ЦП, памяти и ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="a9e05-173">With request units, you don't need to reserve read/write capacities or provision CPU, memory, and IOPS.</span></span> <span data-ttu-id="a9e05-174">Azure Cosmos DB поддерживает разные интерфейсы API с разным набором операций — от простых операций чтения и записи до сложных запросов графа.</span><span class="sxs-lookup"><span data-stu-id="a9e05-174">Azure Cosmos DB supports various APIs that have different operations, ranging from simple reads and writes to complex graph queries.</span></span> <span data-ttu-id="a9e05-175">Так как не все запросы одинаковы, им назначается нормализованное количество единиц запроса на основе объема вычислений, необходимых для обслуживания каждого запроса.</span><span class="sxs-lookup"><span data-stu-id="a9e05-175">Because not all requests are equal, requests are assigned a normalized quantity of request units based on the amount of computation required to serve the request.</span></span> <span data-ttu-id="a9e05-176">Количество единиц запроса, необходимое для вашего решения, зависит от размера элемента данных и количества операций чтения и записи базы данных в секунду.</span><span class="sxs-lookup"><span data-stu-id="a9e05-176">The number of request units required by your solution is dependent on data element size and the number of database read and write operations per second.</span></span> <span data-ttu-id="a9e05-177">Дополнительные сведения см. в статье [Единицы запроса в базе данных Azure Cosmos DB](/azure/cosmos-db/request-units).</span><span class="sxs-lookup"><span data-stu-id="a9e05-177">For more information, see [Request units in Azure Cosmos DB](/azure/cosmos-db/request-units).</span></span> <span data-ttu-id="a9e05-178">Эти ориентировочные цены основаны на Cosmos DB, работающей в двух регионах Azure.</span><span class="sxs-lookup"><span data-stu-id="a9e05-178">These estimated prices are based on Cosmos DB running in two Azure regions.</span></span>

<span data-ttu-id="a9e05-179">Здесь предоставлено три примера профиля затрат в зависимости от ожидаемого объема активности.</span><span class="sxs-lookup"><span data-stu-id="a9e05-179">We have provided three sample cost profiles based on amount of activity you expect:</span></span>

* <span data-ttu-id="a9e05-180">[Небольшой][small-pricing]. Этот пример тарификации предполагает наличие 5 ЕЗ, зарезервированных для использования с хранилищем данных объемом 1 ТБ в Cosmos DB и небольшим (D3 v2) кластером Kafka.</span><span class="sxs-lookup"><span data-stu-id="a9e05-180">[Small][small-pricing]: this pricing example correlates to 5 RUs reserved with a 1 TB data store in Cosmos DB and a small (D3 v2) Kafka cluster.</span></span>
* <span data-ttu-id="a9e05-181">[Средний][medium-pricing]. Этот пример тарификации предполагает наличие 50 ЕЗ, зарезервированных для использования с хранилищем данных объемом 10 ТБ в Cosmos DB и средним (D4 v2) кластером Kafka.</span><span class="sxs-lookup"><span data-stu-id="a9e05-181">[Medium][medium-pricing]: this pricing example correlates to 50 RUs reserved with a 10 TB data store in Cosmos DB and a midsized (D4 v2) Kafka cluster.</span></span>
* <span data-ttu-id="a9e05-182">[Большой][large-pricing]. Этот пример тарификации предполагает наличие 500 ЕЗ, зарезервированных для использования с хранилищем данных объемом 30 ТБ в Cosmos DB и большим (D5 v2) кластером Kafka.</span><span class="sxs-lookup"><span data-stu-id="a9e05-182">[Large][large-pricing]: this pricing example correlates to 500 RUs reserved with a 30 TB data store in Cosmos DB and a large (D5 v2) Kafka cluster.</span></span>

## <a name="related-resources"></a><span data-ttu-id="a9e05-183">Связанные ресурсы</span><span class="sxs-lookup"><span data-stu-id="a9e05-183">Related resources</span></span>

<span data-ttu-id="a9e05-184">Этот пример сценария основан на более обширной версии этой архитектуры, созданной [Jet.com](https://jet.com) для сквозного конвейера обработки заказов.</span><span class="sxs-lookup"><span data-stu-id="a9e05-184">This example scenario is based on a more extensive version of this architecture built by [Jet.com](https://jet.com) for its end-to-end order processing pipeline.</span></span> <span data-ttu-id="a9e05-185">Дополнительные сведения см. в [пользовательском техническом профиле jet.com][source-document] и [презентации jet.com на Build 2018][source-presentation].</span><span class="sxs-lookup"><span data-stu-id="a9e05-185">For more information, see the [jet.com technical customer profile][source-document] and [jet.com's presentation at Build 2018][source-presentation].</span></span>

<span data-ttu-id="a9e05-186">Другие связанные ресурсы:</span><span class="sxs-lookup"><span data-stu-id="a9e05-186">Other related resources include:</span></span>
* <span data-ttu-id="a9e05-187">_[Designing Data-Intensive Applications](https://dataintensive.net)_ (Разработка ресурсоемких приложений), Мартин Клеппманн (Martin Kleppmann) (O'Reilly Media, 2017).</span><span class="sxs-lookup"><span data-stu-id="a9e05-187">_[Designing Data-Intensive Applications](https://dataintensive.net)_ by Martin Kleppmann (O'Reilly Media, 2017).</span></span>
* <span data-ttu-id="a9e05-188">_[Domain Modeling Made Functional: Tackle Software Complexity with Domain-Driven Design and F#](https://pragprog.com/book/swdddf/domain-modeling-made-functional)_ (Функциональное моделирование доменов: упрощение программного обеспечения с поддержкой домена и F#), Скотт Влашин (Scott Wlaschin) (Pragmatic Programmers LLC, 2018).</span><span class="sxs-lookup"><span data-stu-id="a9e05-188">_[Domain Modeling Made Functional: Tackle Software Complexity with Domain-Driven Design and F#](https://pragprog.com/book/swdddf/domain-modeling-made-functional)_ by Scott Wlaschin (Pragmatic Programmers LLC, 2018).</span></span>
* <span data-ttu-id="a9e05-189">Другие [примеры использования Cosmos DB][docs-cosmos-db-use-cases]</span><span class="sxs-lookup"><span data-stu-id="a9e05-189">Other [Cosmos DB use cases][docs-cosmos-db-use-cases]</span></span>
* <span data-ttu-id="a9e05-190">[Архитектура обработки в режиме реального времени](/azure/architecture/data-guide/big-data/real-time-processing) в [руководстве по архитектуре данных Azure](/azure/architecture/data-guide)</span><span class="sxs-lookup"><span data-stu-id="a9e05-190">[Real time processing architecture](/azure/architecture/data-guide/big-data/real-time-processing) in the [Azure Data Architecture Guide](/azure/architecture/data-guide).</span></span>

<!-- links -->
[architecture]: ./media/architecture-ecommerce-order-processing.png
[product-category]: https://azure.microsoft.com/product-categories/databases/
[source-document]: https://customers.microsoft.com/story/jet-com-powers-innovative-e-commerce-engine-on-azure-in-less-than-12-months
[source-presentation]: https://channel9.msdn.com/events/Build/2018/BRK3602
[small-pricing]: https://azure.com/e/3d43949ffbb945a88cc0a126dc3a0e6e
[medium-pricing]: https://azure.com/e/1f1e7bf2a6ad4f7799581211f4369b9b
[large-pricing]: https://azure.com/e/75207172ece94cf6b5fb354a2252b333
[docs-cosmos-db-change-feed]: /azure/cosmos-db/change-feed
[docs-cosmos-db-regional-failover]: /azure/cosmos-db/regional-failover
[docs-cosmos-db-guarantees]: /azure/cosmos-db/distribute-data-globally#AvailabilityGuarantees
[docs-cosmos-db-use-cases]: /azure/cosmos-db/use-cases
[docs-kafka-high-availability]: /azure/hdinsight/kafka/apache-kafka-high-availability
[docs-event-hubs]: /azure/event-hubs/event-hubs-what-is-event-hubs
[docs-stream-analytics]: /azure/stream-analytics/stream-analytics-introduction
[availability]: /azure/architecture/checklist/availability
[scalability]: /azure/architecture/checklist/scalability
[resiliency]: /azure/architecture/patterns/category/resiliency/
[security]: /azure/security/
