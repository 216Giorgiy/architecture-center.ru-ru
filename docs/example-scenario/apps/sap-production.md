---
title: Выполнение рабочих нагрузок SAP в рабочей среде с помощью базы данных Oracle
titleSuffix: Azure Example Scenarios
description: Развертывание SAP в рабочей среде в Azure с использованием базы данных Oracle.
author: DharmeshBhagat
ms.date: 09/12/2018
ms.custom: fasttrack
ms.openlocfilehash: 02a6eb43d3e11604857b8bd1f461c22a48f655c7
ms.sourcegitcommit: 1f4cdb08fe73b1956e164ad692f792f9f635b409
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2019
ms.locfileid: "54110933"
---
# <a name="running-sap-production-workloads-using-an-oracle-database-on-azure"></a>Выполнение рабочих нагрузок SAP в рабочей среде с помощью базы данных Oracle в Azure

Системы SAP используются для запуска критически важных бизнес-приложений. Любой сбой нарушает работу ключевых процессов и может вызвать увеличение расходов или снижение доходов. Для избежания этих результатов требуется, чтобы инфраструктура SAP была высокодоступной и устойчивой при сбое.

Создание высокодоступной среды SAP требует устранения единых точек сбоев в архитектуре и процессах вашей системы. Единые точки отказа могут быть вызваны сбоями сайта, ошибками в компонентах системы или даже человеческой ошибкой.

В этом примере сценария демонстрируется развертывание SAP на виртуальных машинах Windows или Linux в Azure и базе данных Oracle с высокой доступностью (HA). Для развертывания SAP можно использовать виртуальные машины различных размеров, в зависимости от ваших требований.

## <a name="relevant-use-cases"></a>Варианты соответствующего использования

Другие варианты использования:

- Критически важные рабочие нагрузки SAP.
- Некритические рабочие нагрузки SAP.
- Тестовые среды для SAP, которые имитируют среду высокого уровня доступности.

## <a name="architecture"></a>Архитектура

![Обзор архитектуры рабочей среды SAP в Azure][architecture]

Этот пример включает конфигурацию высокой доступности для базы данных Oracle, центральных служб SAP и нескольких серверов приложений SAP, работающих на разных виртуальных машинах. В целях безопасности сеть Azure использует [звездообразную топологию](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke). Поток данных проходит через решение следующим образом.

1. Пользователи получают доступ к системе SAP через пользовательский интерфейс SAP, веб-браузер или другие клиентские инструменты, такие как Microsoft Excel. Подключение ExpressRoute обеспечивает доступ из локальной сети организации к ресурсам, работающим в Azure.
2. ExpressRoute завершается в Azure на шлюзе виртуальной сети (VNet) ExpressRoute. Сетевой трафик направляется в подсеть шлюза через шлюз ExpressRoute, созданный в виртуальной сети концентратора.
3. Виртуальная сеть концентратора имеет пиринговую связь с периферийной виртуальной сетью. В подсети уровня приложения размещаются виртуальные машины, работающие под управлением SAP, в группе доступности.
4. Серверы управления идентификацией предоставляют услуги проверки подлинности для решения.
5. Системные администраторы используют переходную среду для безопасного управления ресурсами, развернутыми в Azure.

### <a name="components"></a>Компоненты

- [Виртуальные сети](/azure/virtual-network/virtual-networks-overview) используются в этом сценарии для создания виртуальной звездообразной топологии в Azure.

- [Виртуальные машины](/azure/virtual-machines/windows/overview) предоставляют вычислительные ресурсы для каждого уровня решения. Каждый кластер виртуальных машин настроен как [группа доступности](/azure/virtual-machines/windows/regions-and-availability#availability-sets).

- [ExpressRoute](/azure/expressroute/expressroute-introduction) переносить вашу локальную сеть в Microsoft Cloud по частному подключению, установленному поставщиком услуг подключения.

- [Группы безопасности сети (NSG)](/azure/virtual-network/security-overview) ограничивают доступ к ресурсам в виртуальной сети. NSG содержит список правил безопасности, которые разрешают или запрещают трафик в зависимости от IP-адреса источника или назначения, порта и протокола.

- [Группы ресурсов](/azure/azure-resource-manager/resource-group-overview#resource-groups) действуют как логические контейнеры для ресурсов Azure.

### <a name="alternatives"></a>Альтернативные варианты

SAP предоставляет гибкие варианты для различных комбинаций операционной системы, системы управления базами данных и типов виртуальных машин в среде Azure. Дополнительные сведения см. в [примечании SAP № 1928533](https://launchpad.support.sap.com/#/notes/1928533) о поддерживаемых продуктах и типах виртуальных машин Azure для приложений SAP в Azure.

## <a name="considerations"></a>Рекомендации

- Рекомендации определены для создания высокодоступных сред SAP в Azure. Дополнительные сведения см. в разделе [Высокодоступная архитектура и сценарии для SAP NetWeaver](/azure/virtual-machines/workloads/sap/sap-high-availability-architecture-scenarios). См. также [Высокий уровень доступности SAP NetWeaver на виртуальных машинах Azure](/azure/virtual-machines/workloads/sap/high-availability-guide).

- Базы данных Oracle также имеют рекомендации для Azure. Дополнительные сведения см. в разделе [Разработка базы данных Oracle и ее реализация в Azure](/azure/virtual-machines/workloads/oracle/oracle-design).

- Oracle Data Guard используется для устранения единых точек отказа для критически важных баз данных Oracle. Дополнительные сведения см. в разделе [Реализация Oracle Data Guard на виртуальной машине Azure под управлением Linux](/azure/virtual-machines/workloads/oracle/configure-oracle-dataguard).

- Microsoft Azure предоставляет службы инфраструктуры, которые можно использовать для развертывания продуктов SAP с базой данных Oracle. Дополнительные сведения см. в разделе [Развертывание СУБД на виртуальных машинах Azure в Oracle для рабочей нагрузки SAP](/azure/virtual-machines/workloads/sap/dbms_guide_oracle).

## <a name="pricing"></a>Цены

Чтобы помочь вам изучить стоимость запуска этого сценария, все службы были предварительно сконфигурированы в приведенных ниже примерах калькулятора стоимости. Чтобы узнать, как изменится цена для вашего конкретного варианта использования, измените соответствующие переменные в соответствии с ожидаемым трафиком.

Здесь предоставлено четыре примера профиля затрат в зависимости от объема трафика, который планируется принимать.

|Размер|Протоколы SAP|Тип виртуальной машины базы данных|Хранилище базы данных|(A)SCS виртуальной машины|(A)SCS хранилища|Тип виртуальной машины приложения|Хранилище приложений|Калькулятор стоимости Azure|
|----|----|-------|-------|-----|---|---|--------|---------------|
|Малый|30 000|DS13_v2|4xP20, 1xP20|DS11_v2|1x P10|DS13_v2|1x P10|[Малый](https://azure.com/e/45880ba0bfdf47d497851a7cf2650c7c)|
|Средний|70000|DS14_v2|6xP20, 1xP20|DS11_v2|1x P10|4x DS13_v2|1x P10|[Средний](https://azure.com/e/9a523f79591347ca9a48c3aaa1406f8a)|
большой|180000|E32s_v3|5xP30, 1xP20|DS11_v2|1x P10|6x DS14_v2|1x P10|[Крупный](https://azure.com/e/f70fccf571e948c4b37d4fecc07cbf42)|
Очень крупный|250 000|M64s|6xP30, 1xP30|DS11_v2|1x P10|10x DS14_v2|1x P10|[Очень крупный](https://azure.com/e/58c636922cf94faf9650f583ff35e97b)|

> [!NOTE]
> Эти цены приведены в качестве руководства. В них указаны только затраты на виртуальные машины и хранилище. Они не включают плату за сеть, хранилище резервных копий и передачу исходящих и входящих данных.

- [Малый.](https://azure.com/e/45880ba0bfdf47d497851a7cf2650c7c) Небольшая система с виртуальной машиной типа DS13_v2 сервера базы данных с восемью виртуальными ЦП, 56 ГБ ОЗУ и 112 ГБ временного хранилища, а также дополнительными пятью дисками хранилища класса "Премиум" на 512 ГБ. Сервер централизованного экземпляра SAP с использованием типов виртуальных машин DS11_v2 с двумя виртуальными ЦП, 14 ГБ ОЗУ и 28 ГБ временного хранилища. Небольшая система с виртуальной машиной типа DS13_v2 сервера приложений SAP с восемью виртуальными ЦП, 56 ГБ ОЗУ и 400 ГБ временного хранилища, а также дополнительным диском хранилища класса "Премиум" на 128 ГБ.

- [Средний.](https://azure.com/e/9a523f79591347ca9a48c3aaa1406f8a) Средняя по производительности система с виртуальной машиной типа DS14_v2 с 16 виртуальными ЦП, 112 ГБ ОЗУ и 800 ГБ временного хранилища, а также дополнительными семи дисками хранилища класса "Премиум" на 512 ГБ. Сервер централизованного экземпляра SAP с использованием типов виртуальных машин DS11_v2 с двумя виртуальными ЦП, 14 ГБ ОЗУ и 28 ГБ временного хранилища. Четыре виртуальные машины типа DS13_v2 сервера приложений SAP с восемью виртуальными ЦП, 56 ГБ ОЗУ и 400 ГБ временного хранилища, а также дополнительным диском хранилища класса "Премиум" на 128 ГБ.

- [Большой.](https://azure.com/e/f70fccf571e948c4b37d4fecc07cbf42) Высокопроизводительная система с виртуальной машиной типа E32s_v3 сервера базы данных с 32 виртуальными ЦП, 256 ГБ ОЗУ и 800 ГБ временного хранилища, а также дополнительными дисками хранилища класса "Премиум" — тремя на 512 ГБ и одним на 128 ГБ. Сервер централизованного экземпляра SAP с использованием типов виртуальных машин DS11_v2 с двумя виртуальными ЦП, 14 ГБ ОЗУ и 28 ГБ временного хранилища. Шесть виртуальных машин типа DS14_v2 серверов приложений SAP с 16 виртуальными ЦП, 112 ГБ ОЗУ и 224 ГБ временного хранилища, а также дополнительными шести дисками хранилища класса "Премиум" на 128 ГБ.

- [Сверхбольшой.](https://azure.com/e/58c636922cf94faf9650f583ff35e97b) Исключительно высокопроизводительная система с виртуальной машиной типа M64s сервера базы данных с 64 виртуальными ЦП, 1024 ГБ ОЗУ и 2000 ГБ временного хранилища, а также дополнительными семи дисками хранилища класса "Премиум" на 1024 ГБ. Сервер централизованного экземпляра SAP с использованием типов виртуальных машин DS11_v2 с двумя виртуальными ЦП, 14 ГБ ОЗУ и 28 ГБ временного хранилища. Десять виртуальных машин типа DS14_v2 серверов приложений SAP с 16 виртуальными ЦП, 112 ГБ ОЗУ и 224 ГБ временного хранилища, а также дополнительными десяти дисками хранилища класса "Премиум" на 128 ГБ.

## <a name="deployment"></a>Развертывание

Чтобы развернуть базовую инфраструктуру для этого сценария, используйте следующую ссылку.

<!-- markdownlint-disable MD033 -->

<a
href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fmspnp%2Fsolution-architectures%2Fmaster%2Fapps%2Fsap-3tier-distributed-ora%2Fazuredeploy.json" target="_blank">
    <img src="https://azuredeploy.net/deploybutton.png"/>
</a>

<!-- markdownlint-enable MD033 -->

> [!NOTE]
> В процессе этого развертывания SAP и Oracle не устанавливаются. Эти компоненты нужно будет развертывать отдельно.

## <a name="related-resources"></a>Связанные ресурсы

Дополнительные сведения о выполнении рабочих нагрузок SAP в Azure см. в следующих эталонных архитектурах:

- [Развертывание SAP NetWeaver (Windows) для баз сторонних поставщиков на виртуальных машинах Azure](/azure/architecture/reference-architectures/sap/sap-netweaver)
- [SAP S/4HANA для виртуальных машин Linux в Azure](/azure/architecture/reference-architectures/sap/sap-s4hana)
- [Запуск SAP HANA на крупных экземплярах Azure](/azure/architecture/reference-architectures/sap/hana-large-instances)

<!-- links -->
[architecture]: media/architecture-sap-production.png
