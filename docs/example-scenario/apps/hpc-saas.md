---
title: Служба автоматизированного проектирования
titleSuffix: Azure Example Scenarios
description: Предоставление платформы SaaS (программное обеспечение как услуга) для автоматизированного проектирования (CAE) в Azure.
author: alexbuckgit
ms.date: 08/22/2018
ms.topic: example-scenario
ms.service: architecture-center
ms.subservice: example-scenario
ms.custom: HPC
social_image_url: /azure/architecture/example-scenario/apps/media/architecture-hpc-saas.png
ms.openlocfilehash: bd38bd0042fceeab6efe04d7b6d1477d17ada7f5
ms.sourcegitcommit: 3b15d65e7c35a19506e562c444343f8467b6a073
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/25/2019
ms.locfileid: "54908483"
---
# <a name="a-computer-aided-engineering-service-on-azure"></a>Служба автоматизированного проектирования в Azure

В этом примере сценарий демонстрирует поставку платформы программного обеспечения как услуги (SaaS), построенной на возможностях высокопроизводительных вычислений (HPC) Azure. Этот сценарий основан на решении проектирования программного обеспечения. Тем не менее архитектура подходит для других отраслей, требуя ресурсы HPC, такие как отрисовка образов, комплексное моделирование и вычисление финансовых рисков.

В этом примере демонстрируется поставщик инженерного программного обеспечения, который предоставляет приложения для автоматизированного проектирования (CAE) для инженерных фирм и производственных предприятий. Решения автоматизированного проектирования предоставляют инновации, сокращают время разработки и снижают затраты на протяжении всего срока разработки продукта. Эти решения требуют значительных вычислительных ресурсов и часто обрабатывают большие объемы данных. Высокая стоимость локального оборудования HPC или высокопроизводительных рабочих станций часто делает эти технологии недоступными для небольших инженерных фирм, предпринимателей и студентов.

Компания планирует расширить рынок для своих приложений, созданием платформы SaaS, которая поддерживается облачными технологиями HPC. Клиенты будут иметь возможность оплачивать вычислительные ресурсы по мере необходимости и получать доступ к огромным вычислительным ресурсам, которые в противном случае были бы недоступны.

Компания поставила перед собой следующие цели.

- Использование преимуществ возможностей HPC в Azure для ускорения разработки продукта и процесса тестирования.
- Использование последних инноваций аппаратных средств для запуска сложных моделей,минимизируя затраты на более простые симуляции.
- Включение визуализации и рендеринга в реальном времени в веб-браузере, не требуя высокопроизводительной рабочей станции.

## <a name="relevant-use-cases"></a>Варианты соответствующего использования

Другие варианты использования:

- геномные исследования;
- моделирование погоды;
- приложения для вычислительной химии.

## <a name="architecture"></a>Архитектура

![Архитектура для решения SaaS, обеспечивающая возможности HPC][architecture]

- Пользователи могут получить доступ к виртуальным машинам серии NV через браузер, используя подключение протокола удаленного рабочего стола на основе HTML5, с помощью [службы Apache Guacamole](https://guacamole.apache.org/). Эти экземпляры виртуальных машин предоставляют мощные графические процессоры для рендеринга и совместных задач. Пользователи могут изменять свои модели и просматривать их результаты без обращения к современных мобильным вычислительным устройствам высокого класса или ноутбукам. Планировщик запускает дополнительные виртуальные машины, на основе пользовательской эвристики.
- В сеансе рабочего стола CAD пользователи могут отправлять рабочие нагрузки для выполнения на доступных узлах кластера HPC. Эти рабочие нагрузки выполняют такие задачи, как анализ напряжений или расчеты вычислительной гидродинамики, устраняя необходимость выделенных локальных вычислительных кластеров. Эти узлы кластера можно настроить для автоматического масштабирования на основе нагрузки или глубокой очереди по требованию активного пользователя для вычислительных ресурсов.
- Служба Azure Kubernetes (AKS) используется для размещения веб-ресурсов, доступных для конечных пользователей.

### <a name="components"></a>Компоненты

- [Виртуальные машины серии H](/azure/virtual-machines/linux/sizes-hpc) используются для запуска ресурсоемких процессов, таких как молекулярное моделирование и вычислительная гидродинамика. Решение также использует преимущества технологий, такие как подключения удаленного доступа к памяти (RDMA) и сеть InfiniBand.
- [Виртуальные машины серии NV](/azure/virtual-machines/windows/sizes-gpu) предоставляют инженерам высокопроизводительные функциональности рабочих станций в стандартном веб-браузере. Эти виртуальные машины имеют графические процессоры NVIDIA Tesla M60, которые поддерживают расширенный рендеринг и выполняют одноточечные рабочие нагрузки.
- [Виртуальные машины общего назначения](/azure/virtual-machines/linux/sizes-general) выполняющие CentOS обрабатывают более традиционные рабочие нагрузки, такие как веб-приложения.
- [Шлюз приложений](/azure/application-gateway/overview) балансирует нагрузку запросов, поступающую на веб-серверы.
- [Служба Azure Kubernetes (AKS)](/azure/aks/intro-kubernetes) используется для запуска масштабируемых рабочих нагрузок с меньшими затратами для моделирования, которые не требуют высокопроизводительных возможностей виртуальных машин HPC или GPU.
- [Altair PBS Works Suite](https://www.pbsworks.com/PBSProduct.aspx?n=PBS-Works-Suite&c=Overview-and-Capabilities) организовывает рабочий процесс HPC, обеспечивая достаточное количество экземпляров виртуальной машины для обработки текущей нагрузки. Он также освобождает виртуальные машины, когда спрос снижается, чтобы снизить затраты.
- [Хранилище BLOB-объектов](/azure/storage/blobs/storage-blobs-introduction) хранит файлы, которые поддерживают запланированные задания.

### <a name="alternatives"></a>Альтернативные варианты

- [Azure CycleCloud](/azure/cyclecloud/overview) упрощает создание, управление, эксплуатацию и оптимизацию кластеров HPC. Она предлагает расширенные функции политики и управления. CycleCloud поддерживает любые планировщики заданий и стеков программного обеспечения.
- [Пакет HPC](/azure/virtual-machines/windows/hpcpack-cluster-options) может создавать и управлять кластером Azure HPC для рабочих нагрузок на базе сервера Windows. Пакет HPC не представляет возможности для рабочих нагрузок на базе системы Linux.
- [Настройки состояния службы автоматизации Azure](/azure/automation/automation-dsc-overview) обеспечивает подход, основанный на инфраструктуре для определения виртуальных машин и развертывания программного обеспечения. Виртуальные машины могут быть развернуты как часть масштабируемого набора виртуальных машин с помощью правил автоматического масштабирования для вычислительных узлов на основе количества заданий, отправленных в очередь. При необходимости виртуальная машина подготавливается к работе с помощью последней версии установленного образа из коллекции Azure, а затем устанавливается и настраивается необходимое программное обеспечение с помощью сценария конфигурации DSC PowerShell.
- [Функции Azure](/azure/azure-functions/functions-overview)

## <a name="considerations"></a>Рекомендации

- Несмотря на то, что использование подхода, основанное на инфраструктуре, является отличным способом управления определениями построения виртуальной машины, может потребоваться немало времени для создания новой виртуальной машины с помощью сценария. Используя сценарий DSC это решение нашло хороший компромиссный вариант периодического создания окончательного образа, который можно использовать для создания новой виртуальной машины быстрее, чем полное построение по требованию с использованием DSC. Azure DevOps Services или другие инструменты CI/CD могут периодически обновлять окончательные образы с помощью сценариев DSC.
- Основное внимание уделяется балансировке затрат на решения с быстрой доступностью вычислительных ресурсов. Предоставление пула экземпляров виртуальной машины N-серии и помещение их в освобожденное состояние снижает затраты на использование. Когда требуется дополнительная виртуальная машина, перераспределение существующего экземпляра будет включать в себя включение виртуальной машины на другом узле, но время обнаружения PCI, требуемое ОС для идентификации и установки драйверов графического процессора лимитируется, поскольку возобновленная виртуальная машина будет сохранять одну и ту же шину PCI для GPU при перезапуске.
- При запуске моделирования первоначальная архитектура целиком зависит от виртуальных машин Azure. Чтобы снизить затраты на рабочие нагрузки, которые не требуют всех возможностей виртуальной машины, они были контейнеризированы и развернуты в Azure Kubernetes Service (AKS).
- Сотрудники компании имеют навыки использования технологий с открытым исходным кодом. Они могут воспользоваться этими навыками, опираясь на такие технологии, как Linux и Kubernetes.

## <a name="pricing"></a>Цены

Чтобы помочь вам изучить стоимость запуска этого сценария, многие требуемые службы были предварительно сконфигурированы в [примерах калькулятора стоимости][calculator]. Затраты на решения зависят от количества служб масштабирования, которые должны соответствовать требованиям.

Следующие соображения определят значительную часть затрат для этого решения.

- Стоимость виртуальной машины Azure увеличивается по мере создания дополнительных экземпляров. Оплата освобожденных виртуальных машин будет взиматься за хранение, а не за вычислительные операции. Когда спрос возрастет, эти освобожденные машины могут быть перераспределены.
- Стоимость служб Kubernetes Azure основана на типе виртуальной машины, выбранной для поддержки рабочей нагрузки. Цены будут возрастать линейно в зависимости от количества виртуальных машин в кластере.

## <a name="next-steps"></a>Дальнейшие действия

- Прочитайте [историю клиента Altair][source-document]. Этот пример сценария основан на версии их архитектуры.
- Просмотрите другие, доступные в Azure, [решения для масштабных вычислений](https://azure.microsoft.com/solutions/big-compute).

<!-- links -->
[architecture]: ./media/architecture-hpc-saas.png
[source-document]: https://customers.microsoft.com/story/altair-manufacturing-azure
[calculator]: https://azure.com/e/3cb9ccdc893f41ffbcdb00c328178ccf
