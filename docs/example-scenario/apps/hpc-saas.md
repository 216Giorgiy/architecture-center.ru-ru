---
title: Служба автоматизированного проектирования
titleSuffix: Azure Example Scenarios
description: Предоставление платформы SaaS (программное обеспечение как услуга) для автоматизированного проектирования (CAE) в Azure.
author: alexbuckgit
ms.date: 08/22/2018
ms.openlocfilehash: 0e8ce29639e4e189acef633585191b178c6c8721
ms.sourcegitcommit: bb7fcffbb41e2c26a26f8781df32825eb60df70c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/20/2018
ms.locfileid: "53643872"
---
# <a name="a-computer-aided-engineering-service-on-azure"></a><span data-ttu-id="0cb52-103">Служба автоматизированного проектирования в Azure</span><span class="sxs-lookup"><span data-stu-id="0cb52-103">A computer-aided engineering service on Azure</span></span>

<span data-ttu-id="0cb52-104">В этом примере сценарий демонстрирует поставку платформы программного обеспечения как услуги (SaaS), построенной на возможностях высокопроизводительных вычислений (HPC) Azure.</span><span class="sxs-lookup"><span data-stu-id="0cb52-104">This example scenario demonstrates delivery of a software-as-a-service (SaaS) platform built on the high-performance computing (HPC) capabilities of Azure.</span></span> <span data-ttu-id="0cb52-105">Этот сценарий основан на решении проектирования программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="0cb52-105">This scenario is based on an engineering software solution.</span></span> <span data-ttu-id="0cb52-106">Тем не менее архитектура подходит для других отраслей, требуя ресурсы HPC, такие как отрисовка образов, комплексное моделирование и вычисление финансовых рисков.</span><span class="sxs-lookup"><span data-stu-id="0cb52-106">However, the architecture is relevant to other industries requiring HPC resources such as image rendering, complex modeling, and financial risk calculation.</span></span>

<span data-ttu-id="0cb52-107">В этом примере демонстрируется поставщик инженерного программного обеспечения, который предоставляет приложения для автоматизированного проектирования (CAE) для инженерных фирм и производственных предприятий.</span><span class="sxs-lookup"><span data-stu-id="0cb52-107">This example demonstrates an engineering software provider that delivers computer-aided engineering (CAE) applications to engineering firms and manufacturing enterprises.</span></span> <span data-ttu-id="0cb52-108">Решения автоматизированного проектирования предоставляют инновации, сокращают время разработки и снижают затраты на протяжении всего срока разработки продукта.</span><span class="sxs-lookup"><span data-stu-id="0cb52-108">CAE solutions enable innovation, reduce development times, and lower costs throughout the lifetime of a product's design.</span></span> <span data-ttu-id="0cb52-109">Эти решения требуют значительных вычислительных ресурсов и часто обрабатывают большие объемы данных.</span><span class="sxs-lookup"><span data-stu-id="0cb52-109">These solutions require substantial compute resources and often process high data volumes.</span></span> <span data-ttu-id="0cb52-110">Высокая стоимость локального оборудования HPC или высокопроизводительных рабочих станций часто делает эти технологии недоступными для небольших инженерных фирм, предпринимателей и студентов.</span><span class="sxs-lookup"><span data-stu-id="0cb52-110">The high costs of an on-premises HPC appliance or high-end workstations often put these technologies out of reach for small engineering firms, entrepreneurs, and students.</span></span>

<span data-ttu-id="0cb52-111">Компания планирует расширить рынок для своих приложений, созданием платформы SaaS, которая поддерживается облачными технологиями HPC.</span><span class="sxs-lookup"><span data-stu-id="0cb52-111">The company wants to expand the market for its applications by building a SaaS platform backed by cloud-based HPC technologies.</span></span> <span data-ttu-id="0cb52-112">Клиенты будут иметь возможность оплачивать вычислительные ресурсы по мере необходимости и получать доступ к огромным вычислительным ресурсам, которые в противном случае были бы недоступны.</span><span class="sxs-lookup"><span data-stu-id="0cb52-112">Their customers should be able to pay for compute resources as needed and access massive computing power that would be unaffordable otherwise.</span></span>

<span data-ttu-id="0cb52-113">Компания поставила перед собой следующие цели.</span><span class="sxs-lookup"><span data-stu-id="0cb52-113">The company's goals include:</span></span>

- <span data-ttu-id="0cb52-114">Использование преимуществ возможностей HPC в Azure для ускорения разработки продукта и процесса тестирования.</span><span class="sxs-lookup"><span data-stu-id="0cb52-114">Taking advantage of HPC capabilities in Azure to accelerate the product design and testing process.</span></span>
- <span data-ttu-id="0cb52-115">Использование последних инноваций аппаратных средств для запуска сложных моделей,минимизируя затраты на более простые симуляции.</span><span class="sxs-lookup"><span data-stu-id="0cb52-115">Using the latest hardware innovations to run complex simulations, while minimizing the costs for simpler simulations.</span></span>
- <span data-ttu-id="0cb52-116">Включение визуализации и рендеринга в реальном времени в веб-браузере, не требуя высокопроизводительной рабочей станции.</span><span class="sxs-lookup"><span data-stu-id="0cb52-116">Enabling true-to-life visualization and rendering in a web browser, without requiring a high-end engineering workstation.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="0cb52-117">Варианты соответствующего использования</span><span class="sxs-lookup"><span data-stu-id="0cb52-117">Relevant use cases</span></span>

<span data-ttu-id="0cb52-118">Другие варианты использования:</span><span class="sxs-lookup"><span data-stu-id="0cb52-118">Other relevant use cases include:</span></span>

- <span data-ttu-id="0cb52-119">геномные исследования;</span><span class="sxs-lookup"><span data-stu-id="0cb52-119">Genomics research</span></span>
- <span data-ttu-id="0cb52-120">моделирование погоды;</span><span class="sxs-lookup"><span data-stu-id="0cb52-120">Weather simulation</span></span>
- <span data-ttu-id="0cb52-121">приложения для вычислительной химии.</span><span class="sxs-lookup"><span data-stu-id="0cb52-121">Computational chemistry applications</span></span>

## <a name="architecture"></a><span data-ttu-id="0cb52-122">Архитектура</span><span class="sxs-lookup"><span data-stu-id="0cb52-122">Architecture</span></span>

![Архитектура для решения SaaS, обеспечивающая возможности HPC][architecture]

- <span data-ttu-id="0cb52-124">Пользователи могут получить доступ к виртуальным машинам серии NV через браузер, используя подключение протокола удаленного рабочего стола на основе HTML5, с помощью [службы Apache Guacamole](https://guacamole.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="0cb52-124">Users can access NV-series virtual machines (VMs) via a browser with an HTML5-based RDP connection using the [Apache Guacamole service](https://guacamole.apache.org/).</span></span> <span data-ttu-id="0cb52-125">Эти экземпляры виртуальных машин предоставляют мощные графические процессоры для рендеринга и совместных задач.</span><span class="sxs-lookup"><span data-stu-id="0cb52-125">These VM instances provide powerful GPUs for rendering and collaborative tasks.</span></span> <span data-ttu-id="0cb52-126">Пользователи могут изменять свои модели и просматривать их результаты без обращения к современных мобильным вычислительным устройствам высокого класса или ноутбукам.</span><span class="sxs-lookup"><span data-stu-id="0cb52-126">Users can edit their designs and view their results without needing access to high-end mobile computing devices or laptops.</span></span> <span data-ttu-id="0cb52-127">Планировщик запускает дополнительные виртуальные машины, на основе пользовательской эвристики.</span><span class="sxs-lookup"><span data-stu-id="0cb52-127">The scheduler spins up additional VMs based on user-defined heuristics.</span></span>
- <span data-ttu-id="0cb52-128">В сеансе рабочего стола CAD пользователи могут отправлять рабочие нагрузки для выполнения на доступных узлах кластера HPC.</span><span class="sxs-lookup"><span data-stu-id="0cb52-128">From a desktop CAD session, users can submit workloads for execution on available HPC cluster nodes.</span></span> <span data-ttu-id="0cb52-129">Эти рабочие нагрузки выполняют такие задачи, как анализ напряжений или расчеты вычислительной гидродинамики, устраняя необходимость выделенных локальных вычислительных кластеров.</span><span class="sxs-lookup"><span data-stu-id="0cb52-129">These workloads perform tasks such as stress analysis or computational fluid dynamics calculations, eliminating the need for dedicated on-premises compute clusters.</span></span> <span data-ttu-id="0cb52-130">Эти узлы кластера можно настроить для автоматического масштабирования на основе нагрузки или глубокой очереди по требованию активного пользователя для вычислительных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="0cb52-130">These cluster nodes can be configured to autoscale based on load or queue depth based on active user demand for compute resources.</span></span>
- <span data-ttu-id="0cb52-131">Служба Azure Kubernetes (AKS) используется для размещения веб-ресурсов, доступных для конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="0cb52-131">Azure Kubernetes Service (AKS) is used to host the web resources available to end users.</span></span>

### <a name="components"></a><span data-ttu-id="0cb52-132">Компоненты</span><span class="sxs-lookup"><span data-stu-id="0cb52-132">Components</span></span>

- <span data-ttu-id="0cb52-133">[Виртуальные машины серии H](/azure/virtual-machines/linux/sizes-hpc) используются для запуска ресурсоемких процессов, таких как молекулярное моделирование и вычислительная гидродинамика.</span><span class="sxs-lookup"><span data-stu-id="0cb52-133">[H-series virtual machines](/azure/virtual-machines/linux/sizes-hpc) are used to run compute-intensive simulations such as molecular modeling and computational fluid dynamics.</span></span> <span data-ttu-id="0cb52-134">Решение также использует преимущества технологий, такие как подключения удаленного доступа к памяти (RDMA) и сеть InfiniBand.</span><span class="sxs-lookup"><span data-stu-id="0cb52-134">The solution also takes advantage of technologies like remote direct memory access (RDMA) connectivity and InfiniBand networking.</span></span>
- <span data-ttu-id="0cb52-135">[Виртуальные машины серии NV](/azure/virtual-machines/windows/sizes-gpu) предоставляют инженерам высокопроизводительные функциональности рабочих станций в стандартном веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="0cb52-135">[NV-series virtual machines](/azure/virtual-machines/windows/sizes-gpu) give engineers high-end workstation functionality from a standard web browser.</span></span> <span data-ttu-id="0cb52-136">Эти виртуальные машины имеют графические процессоры NVIDIA Tesla M60, которые поддерживают расширенный рендеринг и выполняют одноточечные рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="0cb52-136">These virtual machines have NVIDIA Tesla M60 GPUs that support advanced rendering and can run single precision workloads.</span></span>
- <span data-ttu-id="0cb52-137">[Виртуальные машины общего назначения](/azure/virtual-machines/linux/sizes-general) выполняющие CentOS обрабатывают более традиционные рабочие нагрузки, такие как веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="0cb52-137">[General purpose virtual machines](/azure/virtual-machines/linux/sizes-general) running CentOS handle more traditional workloads such as web applications.</span></span>
- <span data-ttu-id="0cb52-138">[Шлюз приложений](/azure/application-gateway/overview) балансирует нагрузку запросов, поступающую на веб-серверы.</span><span class="sxs-lookup"><span data-stu-id="0cb52-138">[Application Gateway](/azure/application-gateway/overview) load balances the requests coming into the web servers.</span></span>
- <span data-ttu-id="0cb52-139">[Служба Azure Kubernetes (AKS)](/azure/aks/intro-kubernetes) используется для запуска масштабируемых рабочих нагрузок с меньшими затратами для моделирования, которые не требуют высокопроизводительных возможностей виртуальных машин HPC или GPU.</span><span class="sxs-lookup"><span data-stu-id="0cb52-139">[Azure Kubernetes Service (AKS)](/azure/aks/intro-kubernetes) is used to run scalable workloads at a lower cost for simulations that don't require the high end capabilities of HPC or GPU virtual machines.</span></span>
- <span data-ttu-id="0cb52-140">[Altair PBS Works Suite](https://www.pbsworks.com/PBSProduct.aspx?n=PBS-Works-Suite&c=Overview-and-Capabilities) организовывает рабочий процесс HPC, обеспечивая достаточное количество экземпляров виртуальной машины для обработки текущей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="0cb52-140">[Altair PBS Works Suite](https://www.pbsworks.com/PBSProduct.aspx?n=PBS-Works-Suite&c=Overview-and-Capabilities) orchestrates the HPC workflow, ensuring that enough virtual machine instances are available to handle the current load.</span></span> <span data-ttu-id="0cb52-141">Он также освобождает виртуальные машины, когда спрос снижается, чтобы снизить затраты.</span><span class="sxs-lookup"><span data-stu-id="0cb52-141">It also deallocates virtual machines when demand is lower to reduce costs.</span></span>
- <span data-ttu-id="0cb52-142">[Хранилище BLOB-объектов](/azure/storage/blobs/storage-blobs-introduction) хранит файлы, которые поддерживают запланированные задания.</span><span class="sxs-lookup"><span data-stu-id="0cb52-142">[Blob storage](/azure/storage/blobs/storage-blobs-introduction) stores files that support the scheduled jobs.</span></span>

### <a name="alternatives"></a><span data-ttu-id="0cb52-143">Альтернативные варианты</span><span class="sxs-lookup"><span data-stu-id="0cb52-143">Alternatives</span></span>

- <span data-ttu-id="0cb52-144">[Azure CycleCloud](/azure/cyclecloud/overview) упрощает создание, управление, эксплуатацию и оптимизацию кластеров HPC.</span><span class="sxs-lookup"><span data-stu-id="0cb52-144">[Azure CycleCloud](/azure/cyclecloud/overview) simplifies creating, managing, operating, and optimizing HPC clusters.</span></span> <span data-ttu-id="0cb52-145">Она предлагает расширенные функции политики и управления.</span><span class="sxs-lookup"><span data-stu-id="0cb52-145">It offers advanced policy and governance features.</span></span> <span data-ttu-id="0cb52-146">CycleCloud поддерживает любые планировщики заданий и стеков программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="0cb52-146">CycleCloud supports any job scheduler or software stack.</span></span>
- <span data-ttu-id="0cb52-147">[Пакет HPC](/azure/virtual-machines/windows/hpcpack-cluster-options) может создавать и управлять кластером Azure HPC для рабочих нагрузок на базе сервера Windows.</span><span class="sxs-lookup"><span data-stu-id="0cb52-147">[HPC Pack](/azure/virtual-machines/windows/hpcpack-cluster-options) can create and manage an Azure HPC cluster for Windows Server-based workloads.</span></span> <span data-ttu-id="0cb52-148">Пакет HPC не представляет возможности для рабочих нагрузок на базе системы Linux.</span><span class="sxs-lookup"><span data-stu-id="0cb52-148">HPC Pack isn't an option for Linux-based workloads.</span></span>
- <span data-ttu-id="0cb52-149">[Настройки состояния службы автоматизации Azure](/azure/automation/automation-dsc-overview) обеспечивает подход, основанный на инфраструктуре для определения виртуальных машин и развертывания программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="0cb52-149">[Azure Automation State Configuration](/azure/automation/automation-dsc-overview) provides an infrastructure-as-code approach to defining the virtual machines and software to be deployed.</span></span> <span data-ttu-id="0cb52-150">Виртуальные машины могут быть развернуты как часть масштабируемого набора виртуальных машин с помощью правил автоматического масштабирования для вычислительных узлов на основе количества заданий, отправленных в очередь.</span><span class="sxs-lookup"><span data-stu-id="0cb52-150">Virtual machines can be deployed as part of a virtual machine scale set, with autoscaling rules for compute nodes based on the number of jobs submitted to the job queue.</span></span> <span data-ttu-id="0cb52-151">При необходимости виртуальная машина подготавливается к работе с помощью последней версии установленного образа из коллекции Azure, а затем устанавливается и настраивается необходимое программное обеспечение с помощью сценария конфигурации DSC PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0cb52-151">When a new virtual machine is needed, it is provisioned using the latest patched image from the Azure image gallery, and then the required software is installed and configured via a PowerShell DSC configuration script.</span></span>
- [<span data-ttu-id="0cb52-152">Функции Azure</span><span class="sxs-lookup"><span data-stu-id="0cb52-152">Azure Functions</span></span>](/azure/azure-functions/functions-overview)

## <a name="considerations"></a><span data-ttu-id="0cb52-153">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="0cb52-153">Considerations</span></span>

- <span data-ttu-id="0cb52-154">Несмотря на то, что использование подхода, основанное на инфраструктуре, является отличным способом управления определениями построения виртуальной машины, может потребоваться немало времени для создания новой виртуальной машины с помощью сценария.</span><span class="sxs-lookup"><span data-stu-id="0cb52-154">While using an infrastructure-as-code approach is a great way to manage virtual machine build definitions, it can take a long time to provision a new virtual machine using a script.</span></span> <span data-ttu-id="0cb52-155">Используя сценарий DSC это решение нашло хороший компромиссный вариант периодического создания окончательного образа, который можно использовать для создания новой виртуальной машины быстрее, чем полное построение по требованию с использованием DSC.</span><span class="sxs-lookup"><span data-stu-id="0cb52-155">This solution found a good middle ground by using the DSC script to periodically create a golden image, which can then be used to provision a new virtual machine faster than completely building a VM on demand using DSC.</span></span> <span data-ttu-id="0cb52-156">Azure DevOps Services или другие инструменты CI/CD могут периодически обновлять окончательные образы с помощью сценариев DSC.</span><span class="sxs-lookup"><span data-stu-id="0cb52-156">Azure DevOps Services or other CI/CD tooling can periodically refresh golden images using DSC scripts.</span></span>
- <span data-ttu-id="0cb52-157">Основное внимание уделяется балансировке затрат на решения с быстрой доступностью вычислительных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="0cb52-157">Balancing overall solution costs with fast availability of compute resources is a key consideration.</span></span> <span data-ttu-id="0cb52-158">Предоставление пула экземпляров виртуальной машины N-серии и помещение их в освобожденное состояние снижает затраты на использование.</span><span class="sxs-lookup"><span data-stu-id="0cb52-158">Provisioning a pool of N-series virtual machine instances and putting them in a deallocated state lowers the operating costs.</span></span> <span data-ttu-id="0cb52-159">Когда требуется дополнительная виртуальная машина, перераспределение существующего экземпляра будет включать в себя включение виртуальной машины на другом узле, но время обнаружения PCI, требуемое ОС для идентификации и установки драйверов графического процессора лимитируется, поскольку возобновленная виртуальная машина будет сохранять одну и ту же шину PCI для GPU при перезапуске.</span><span class="sxs-lookup"><span data-stu-id="0cb52-159">When an additional virtual machine is needed, reallocating an existing instance will involve powering up the virtual machine on a different host, but the PCI bus detection time required by the OS to identify and install drivers for the GPU is eliminated because a virtual machine that is deprovisioned and then reprovisioned will retain the same PCI bus for the GPU upon restart.</span></span>
- <span data-ttu-id="0cb52-160">При запуске моделирования первоначальная архитектура целиком зависит от виртуальных машин Azure.</span><span class="sxs-lookup"><span data-stu-id="0cb52-160">The original architecture relied entirely on Azure virtual machines for running simulations.</span></span> <span data-ttu-id="0cb52-161">Чтобы снизить затраты на рабочие нагрузки, которые не требуют всех возможностей виртуальной машины, они были контейнеризированы и развернуты в Azure Kubernetes Service (AKS).</span><span class="sxs-lookup"><span data-stu-id="0cb52-161">In order to reduce costs for workloads that didn't require all the capabilities of a virtual machine, these workloads were containerized and deployed to Azure Kubernetes Service (AKS).</span></span>
- <span data-ttu-id="0cb52-162">Сотрудники компании имеют навыки использования технологий с открытым исходным кодом.</span><span class="sxs-lookup"><span data-stu-id="0cb52-162">The company's workforce had existing skills in open-source technologies.</span></span> <span data-ttu-id="0cb52-163">Они могут воспользоваться этими навыками, опираясь на такие технологии, как Linux и Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="0cb52-163">They can take advantage of these skills by building on technologies like Linux and Kubernetes.</span></span>

## <a name="pricing"></a><span data-ttu-id="0cb52-164">Цены</span><span class="sxs-lookup"><span data-stu-id="0cb52-164">Pricing</span></span>

<span data-ttu-id="0cb52-165">Чтобы помочь вам изучить стоимость запуска этого сценария, многие требуемые службы были предварительно сконфигурированы в [примерах калькулятора стоимости][calculator].</span><span class="sxs-lookup"><span data-stu-id="0cb52-165">To help you explore the cost of running this scenario, many of the required services are pre-configured in a [cost calculator example][calculator].</span></span> <span data-ttu-id="0cb52-166">Затраты на решения зависят от количества служб масштабирования, которые должны соответствовать требованиям.</span><span class="sxs-lookup"><span data-stu-id="0cb52-166">The costs of your solution are dependent on the number and scale of services needed to meet your requirements.</span></span>

<span data-ttu-id="0cb52-167">Следующие соображения определят значительную часть затрат для этого решения.</span><span class="sxs-lookup"><span data-stu-id="0cb52-167">The following considerations will drive a substantial portion of the costs for this solution:</span></span>

- <span data-ttu-id="0cb52-168">Стоимость виртуальной машины Azure увеличивается по мере создания дополнительных экземпляров.</span><span class="sxs-lookup"><span data-stu-id="0cb52-168">Azure virtual machine costs increase linearly as additional instances are provisioned.</span></span> <span data-ttu-id="0cb52-169">Оплата освобожденных виртуальных машин будет взиматься за хранение, а не за вычислительные операции.</span><span class="sxs-lookup"><span data-stu-id="0cb52-169">Virtual machines that are deallocated will only incur storage costs, and not compute costs.</span></span> <span data-ttu-id="0cb52-170">Когда спрос возрастет, эти освобожденные машины могут быть перераспределены.</span><span class="sxs-lookup"><span data-stu-id="0cb52-170">These deallocated machines can then be reallocated when demand is high.</span></span>
- <span data-ttu-id="0cb52-171">Стоимость служб Kubernetes Azure основана на типе виртуальной машины, выбранной для поддержки рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="0cb52-171">Azure Kubernetes Services costs are based on the VM type chosen to support the workload.</span></span> <span data-ttu-id="0cb52-172">Цены будут возрастать линейно в зависимости от количества виртуальных машин в кластере.</span><span class="sxs-lookup"><span data-stu-id="0cb52-172">The costs will increase linearly based on the number of VMs in the cluster.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0cb52-173">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="0cb52-173">Next Steps</span></span>

- <span data-ttu-id="0cb52-174">Прочитайте [историю клиента Altair][source-document].</span><span class="sxs-lookup"><span data-stu-id="0cb52-174">Read the [Altair customer story][source-document].</span></span> <span data-ttu-id="0cb52-175">Этот пример сценария основан на версии их архитектуры.</span><span class="sxs-lookup"><span data-stu-id="0cb52-175">This example scenario is based on a version of their architecture.</span></span>
- <span data-ttu-id="0cb52-176">Просмотрите другие, доступные в Azure, [решения для масштабных вычислений](https://azure.microsoft.com/solutions/big-compute).</span><span class="sxs-lookup"><span data-stu-id="0cb52-176">Review other [Big Compute solutions](https://azure.microsoft.com/solutions/big-compute) available in Azure.</span></span>

<!-- links -->
[architecture]: ./media/architecture-hpc-saas.png
[source-document]: https://customers.microsoft.com/story/altair-manufacturing-azure
[calculator]: https://azure.com/e/3cb9ccdc893f41ffbcdb00c328178ccf
