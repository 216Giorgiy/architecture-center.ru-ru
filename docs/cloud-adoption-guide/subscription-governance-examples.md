---
title: Сценарии применения и примеры системы управления подписками | Документация Майкрософт
description: Содержит примеры реализации управления подписками Azure для распространенных сценариев.
services: azure-resource-manager
documentationcenter: na
author: rdendtler
manager: timlt
editor: tysonn
ms.assetid: e8fbeeb8-d7a1-48af-804f-6fe1a6024bcb
ms.service: azure-resource-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 01/03/2017
ms.author: rodend;karlku;tomfitz
ms.openlocfilehash: 4a4b25e6a6e54fd18c8ae21a88cab39143c3bf48
ms.sourcegitcommit: 4ec010846b9b5545c843a32e08293f906e512302
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/17/2018
---
# <a name="examples-of-implementing-azure-enterprise-scaffold"></a><span data-ttu-id="d57c3-103">Примеры реализации корпоративного каркаса Azure</span><span class="sxs-lookup"><span data-stu-id="d57c3-103">Examples of implementing Azure enterprise scaffold</span></span>
<span data-ttu-id="d57c3-104">В этой статье приведены примеры того, как предприятие может реализовать рекомендации по созданию [корпоративного каркаса Azure](subscription-governance.md).</span><span class="sxs-lookup"><span data-stu-id="d57c3-104">This article provides examples of how an enterprise can implement the recommendations for an [Azure enterprise scaffold](subscription-governance.md).</span></span> <span data-ttu-id="d57c3-105">В нем на примере вымышленной компании Contoso приводятся рекомендации для распространенных сценариев.</span><span class="sxs-lookup"><span data-stu-id="d57c3-105">It uses a fictional company named Contoso to illustrate best practices for common scenarios.</span></span>

## <a name="background"></a><span data-ttu-id="d57c3-106">Фоновый</span><span class="sxs-lookup"><span data-stu-id="d57c3-106">Background</span></span>
<span data-ttu-id="d57c3-107">Contoso — транснациональная компания, которая предоставляет клиентам решения для управления логистическими цепочками.</span><span class="sxs-lookup"><span data-stu-id="d57c3-107">Contoso is a worldwide company that provides supply chain solutions for customers.</span></span> <span data-ttu-id="d57c3-108">Эти решения предоставляются на основе различных моделей (от "программы как услуги" до пакета, развертываемого локально).</span><span class="sxs-lookup"><span data-stu-id="d57c3-108">They provide everything from a Software as a Service model to a packaged model deployed on-premises.</span></span>  <span data-ttu-id="d57c3-109">Эта компания разрабатывает программное обеспечение по всему миру в крупных центрах разработки, расположенных в Индии, США и Канаде.</span><span class="sxs-lookup"><span data-stu-id="d57c3-109">They develop software across the globe with significant development centers in India, the United States, and Canada.</span></span>

<span data-ttu-id="d57c3-110">Часть компании, занимающаяся независимыми поставщиками программного обеспечения, состоит из нескольких независимых подразделений, которые управляют продуктами в крупных компаниях.</span><span class="sxs-lookup"><span data-stu-id="d57c3-110">The ISV portion of the company is divided into several independent business units that manage products in a significant business.</span></span> <span data-ttu-id="d57c3-111">Во всех подразделениях имеются собственные разработчики, менеджеры по продуктам и архитекторы.</span><span class="sxs-lookup"><span data-stu-id="d57c3-111">Each business unit has its own developers, product managers, and architects.</span></span>

<span data-ttu-id="d57c3-112">Подразделение технологических услуг предприятия (ETS) предоставляет централизованную ИТ-инфраструктуру и управляет несколькими центрами обработки данных, в которых размещены приложения подразделений.</span><span class="sxs-lookup"><span data-stu-id="d57c3-112">The Enterprise Technology Services (ETS) business unit provides centralized IT capability, and manages several data centers where business units host their applications.</span></span> <span data-ttu-id="d57c3-113">Наряду с управлением центрами обработки данных, организация ETS предоставляет централизованные средства для совместной работы (например, электронную почту и веб-сайты), сети или телефонные службы, а также управляет ими.</span><span class="sxs-lookup"><span data-stu-id="d57c3-113">Along with managing the data centers, the ETS organization provides and manages centralized collaboration (such as email and websites) and network/telephony services.</span></span> <span data-ttu-id="d57c3-114">Кроме того, организация ETS управляет рабочими нагрузками клиентов в небольших подразделениях, не имеющих эксплуатационного персонала.</span><span class="sxs-lookup"><span data-stu-id="d57c3-114">They also manage customer-facing workloads for smaller business units who don't have operational staff.</span></span>

<span data-ttu-id="d57c3-115">В этой статье используются имена, перечисленные ниже.</span><span class="sxs-lookup"><span data-stu-id="d57c3-115">The following personas are used in this article:</span></span>

* <span data-ttu-id="d57c3-116">Дэйв является администратором ETS Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-116">Dave is the ETS Azure administrator.</span></span>
* <span data-ttu-id="d57c3-117">Элис — директор по разработке в подразделении Contoso, отвечающем за логистические цепочки.</span><span class="sxs-lookup"><span data-stu-id="d57c3-117">Alice is Contoso's Director of Development in the supply chain business unit.</span></span>

<span data-ttu-id="d57c3-118">Contoso необходимо создать бизнес-приложение и приложение для клиентов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-118">Contoso needs to build a line-of-business app and a customer-facing app.</span></span> <span data-ttu-id="d57c3-119">Было решено запустить приложения в Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-119">It has decided to run the apps on Azure.</span></span> <span data-ttu-id="d57c3-120">Дэйв прочел статью [Azure enterprise scaffold - prescriptive subscription governance](subscription-governance.md) (Корпоративный каркас Azure: рекомендуемая система управления подписками) и теперь готов реализовать приведенные в ней рекомендации.</span><span class="sxs-lookup"><span data-stu-id="d57c3-120">Dave reads the [prescriptive subscription governance](subscription-governance.md) article, and  is now ready to implement the recommendations.</span></span>

## <a name="scenario-1-line-of-business-application"></a><span data-ttu-id="d57c3-121">Сценарий 1. Бизнес-приложение</span><span class="sxs-lookup"><span data-stu-id="d57c3-121">Scenario 1: line-of-business application</span></span>
<span data-ttu-id="d57c3-122">Contoso создает систему управления исходным кодом (BitBucket), предназначенную для разработчиков по всему миру.</span><span class="sxs-lookup"><span data-stu-id="d57c3-122">Contoso is building a source code management system (BitBucket) to be used by developers across the world.</span></span>  <span data-ttu-id="d57c3-123">Это приложение использует модель "инфраструктура как услуга" (IaaS) для размещения и состоит из веб-серверов и сервера базы данных.</span><span class="sxs-lookup"><span data-stu-id="d57c3-123">The application uses Infrastructure as a Service (IaaS) for hosting, and consists of web servers and a database server.</span></span> <span data-ttu-id="d57c3-124">Разработчики обращаются к серверам в своих средах разработки, но им не нужен доступ к серверам в Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-124">Developers access servers in their development environments, but they don't need access to the servers in Azure.</span></span> <span data-ttu-id="d57c3-125">Подразделение ETS компании Contoso хочет разрешить владельцу приложения и использующей его команде управлять приложением.</span><span class="sxs-lookup"><span data-stu-id="d57c3-125">Contoso ETS wants to allow the application owner and team to manage the application.</span></span> <span data-ttu-id="d57c3-126">Приложение доступно только в корпоративной сети Contoso.</span><span class="sxs-lookup"><span data-stu-id="d57c3-126">The application is only available while on Contoso's corporate network.</span></span> <span data-ttu-id="d57c3-127">Дейву необходимо настроить подписку для этого приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-127">Dave needs to set up the subscription for this application.</span></span> <span data-ttu-id="d57c3-128">В будущем подписка будет содержать и другое программное обеспечение, предназначенное для разработчиков.</span><span class="sxs-lookup"><span data-stu-id="d57c3-128">The subscription will also host other developer-related software in the future.</span></span>  

### <a name="naming-standards--resource-groups"></a><span data-ttu-id="d57c3-129">Стандарты именования и группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="d57c3-129">Naming standards & resource groups</span></span>
<span data-ttu-id="d57c3-130">Дейв создает подписку для поддержки типовых инструментов разработки, которые используются во всех подразделениях.</span><span class="sxs-lookup"><span data-stu-id="d57c3-130">Dave creates a subscription to support developer tools that are common across all the business units.</span></span> <span data-ttu-id="d57c3-131">Ему нужно создать содержательные имена для подписки и групп ресурсов (для приложения и сетей).</span><span class="sxs-lookup"><span data-stu-id="d57c3-131">Dave needs to create meaningful names for the subscription and resource groups (for the application and the networks).</span></span> <span data-ttu-id="d57c3-132">Он создает следующие группы ресурсов и подписку.</span><span class="sxs-lookup"><span data-stu-id="d57c3-132">He creates the following subscription and resource groups:</span></span>

| <span data-ttu-id="d57c3-133">Элемент</span><span class="sxs-lookup"><span data-stu-id="d57c3-133">Item</span></span> | <span data-ttu-id="d57c3-134">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="d57c3-134">Name</span></span> | <span data-ttu-id="d57c3-135">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-135">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-136">Подписка</span><span class="sxs-lookup"><span data-stu-id="d57c3-136">Subscription</span></span> |<span data-ttu-id="d57c3-137">Contoso ETS DeveloperTools Production</span><span class="sxs-lookup"><span data-stu-id="d57c3-137">Contoso ETS DeveloperTools Production</span></span> |<span data-ttu-id="d57c3-138">Поддерживает типовые инструменты разработки.</span><span class="sxs-lookup"><span data-stu-id="d57c3-138">Supports common developer tools</span></span> |
| <span data-ttu-id="d57c3-139">Группа ресурсов</span><span class="sxs-lookup"><span data-stu-id="d57c3-139">Resource Group</span></span> |<span data-ttu-id="d57c3-140">bitbucket-prod-rg</span><span class="sxs-lookup"><span data-stu-id="d57c3-140">bitbucket-prod-rg</span></span> |<span data-ttu-id="d57c3-141">Содержит веб-сервер и сервер базы данных приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-141">Contains the application web server and database server</span></span> |
| <span data-ttu-id="d57c3-142">Группа ресурсов</span><span class="sxs-lookup"><span data-stu-id="d57c3-142">Resource Group</span></span> |<span data-ttu-id="d57c3-143">corenetworks-prod-rg</span><span class="sxs-lookup"><span data-stu-id="d57c3-143">corenetworks-prod-rg</span></span> |<span data-ttu-id="d57c3-144">Содержит виртуальные сети и подключение шлюза типа "сеть — сеть".</span><span class="sxs-lookup"><span data-stu-id="d57c3-144">Contains the virtual networks and site-to-site gateway connection</span></span> |

### <a name="role-based-access-control"></a><span data-ttu-id="d57c3-145">Контроль доступа на основе ролей</span><span class="sxs-lookup"><span data-stu-id="d57c3-145">Role-based access control</span></span>
<span data-ttu-id="d57c3-146">После создания своей подписки Дэйв хочет убедиться, что у соответствующих команд и владельцев приложений имеется доступ к их ресурсам.</span><span class="sxs-lookup"><span data-stu-id="d57c3-146">After creating his subscription, Dave wants to ensure that the appropriate teams and application owners can access their resources.</span></span> <span data-ttu-id="d57c3-147">Дейв понимает, что у всех команд разные требования.</span><span class="sxs-lookup"><span data-stu-id="d57c3-147">Dave recognizes that each team has different requirements.</span></span> <span data-ttu-id="d57c3-148">Он использует локальные группы Active Directory (AD) компании Contoso, которые были синхронизированы с Azure Active Directory, и предоставляет командам нужный уровень доступа.</span><span class="sxs-lookup"><span data-stu-id="d57c3-148">He utilizes the groups that have been synced from Contoso's on-premises Active Directory (AD) to Azure Active Directory, and provides the right level of access to the teams.</span></span>

<span data-ttu-id="d57c3-149">Дейв назначает следующие роли для подписки.</span><span class="sxs-lookup"><span data-stu-id="d57c3-149">Dave assigns the following roles for the subscription:</span></span>

| <span data-ttu-id="d57c3-150">Роль</span><span class="sxs-lookup"><span data-stu-id="d57c3-150">Role</span></span> | <span data-ttu-id="d57c3-151">Кому назначено</span><span class="sxs-lookup"><span data-stu-id="d57c3-151">Assigned to</span></span> | <span data-ttu-id="d57c3-152">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-152">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="d57c3-153">Владелец</span><span class="sxs-lookup"><span data-stu-id="d57c3-153">Owner</span></span>](/azure/role-based-access-control/built-in-roles#owner) |<span data-ttu-id="d57c3-154">Управляемый идентификатор из AD компании Contoso.</span><span class="sxs-lookup"><span data-stu-id="d57c3-154">Managed ID from Contoso's AD</span></span> |<span data-ttu-id="d57c3-155">Для управлением этим идентификатором используется доступ по схеме JIT с помощью инструмента управления удостоверениями Contoso. При этом гарантируется полный аудит доступа владельца подписки.</span><span class="sxs-lookup"><span data-stu-id="d57c3-155">This ID is controlled with Just in Time (JIT) access through Contoso's Identity Management tool and ensures that subscription owner access is fully audited</span></span> |
| [<span data-ttu-id="d57c3-156">Читатель безопасности</span><span class="sxs-lookup"><span data-stu-id="d57c3-156">Security Reader</span></span>](/azure/role-based-access-control/built-in-roles#security-reader) |<span data-ttu-id="d57c3-157">Отдел безопасности и управления рисками</span><span class="sxs-lookup"><span data-stu-id="d57c3-157">Security and risk management department</span></span> |<span data-ttu-id="d57c3-158">Пользователи с этой ролью могут просматривать страницу центра безопасности Azure и состояние ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-158">This role allows users to look at the Azure Security Center and the status of the resources</span></span> |
| [<span data-ttu-id="d57c3-159">Участник сети</span><span class="sxs-lookup"><span data-stu-id="d57c3-159">Network Contributor</span></span>](/azure/role-based-access-control/built-in-roles#network-contributor) |<span data-ttu-id="d57c3-160">Сетевая группа</span><span class="sxs-lookup"><span data-stu-id="d57c3-160">Network team</span></span> |<span data-ttu-id="d57c3-161">Эта роль позволяет сетевой группе компании Contoso управлять VPN-подключениями типа "сеть — сеть" и виртуальными сетями.</span><span class="sxs-lookup"><span data-stu-id="d57c3-161">This role allows Contoso's network team to manage the Site to Site VPN and the Virtual Networks</span></span> |
| <span data-ttu-id="d57c3-162">*Настраиваемая роль*</span><span class="sxs-lookup"><span data-stu-id="d57c3-162">*Custom role*</span></span> |<span data-ttu-id="d57c3-163">Владелец приложения</span><span class="sxs-lookup"><span data-stu-id="d57c3-163">Application owner</span></span> |<span data-ttu-id="d57c3-164">Дейв создает роль, которая дает возможность изменять ресурсы в группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-164">Dave creates a role that grants the ability to modify resources within the resource group.</span></span> <span data-ttu-id="d57c3-165">Дополнительные сведения см. в разделе [Пользовательские роли в Azure RBAC](/azure/role-based-access-control/custom-roles).</span><span class="sxs-lookup"><span data-stu-id="d57c3-165">For more information, see [Custom Roles in Azure RBAC](/azure/role-based-access-control/custom-roles)</span></span> |

### <a name="policies"></a><span data-ttu-id="d57c3-166">Политики</span><span class="sxs-lookup"><span data-stu-id="d57c3-166">Policies</span></span>
<span data-ttu-id="d57c3-167">Ниже перечислены требования Дейва к управлению ресурсами в подписке.</span><span class="sxs-lookup"><span data-stu-id="d57c3-167">Dave has the following requirements for managing resources in the subscription:</span></span>

* <span data-ttu-id="d57c3-168">Так как инструменты разработки поддерживают работу разработчиков по всему миру, он не хочет лишать пользователей возможности создавать ресурсы в любом регионе.</span><span class="sxs-lookup"><span data-stu-id="d57c3-168">Because the development tools support developers across the world, he doesn't want to block users from creating resources in any region.</span></span> <span data-ttu-id="d57c3-169">Тем не менее ему нужно знать, где создаются ресурсы.</span><span class="sxs-lookup"><span data-stu-id="d57c3-169">However, he needs to know where resources are created.</span></span>
* <span data-ttu-id="d57c3-170">Дейва заботят затраты.</span><span class="sxs-lookup"><span data-stu-id="d57c3-170">He is concerned with costs.</span></span> <span data-ttu-id="d57c3-171">Следовательно, он хочет предотвратить создание владельцами приложений неоправданно дорогих виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="d57c3-171">Therefore, he wants to prevent application owners from creating unnecessarily expensive virtual machines.</span></span>  
* <span data-ttu-id="d57c3-172">Так как это приложение обслуживает разработчиков в нескольких подразделениях, Дейв хочет добавить к каждому ресурсу теги подразделения и владельца приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-172">Because this application serves developers in many business units, he wants to tag each resource with the business unit and application owner.</span></span> <span data-ttu-id="d57c3-173">Используя эти теги, подразделение ETS сможет выставлять счета соответствующим командам.</span><span class="sxs-lookup"><span data-stu-id="d57c3-173">By using these tags, ETS can bill the appropriate teams.</span></span>

<span data-ttu-id="d57c3-174">Он создает перечисленные ниже [политики Azure](/azure/azure-policy/azure-policy-introduction):</span><span class="sxs-lookup"><span data-stu-id="d57c3-174">He creates the following [Azure policies](/azure/azure-policy/azure-policy-introduction):</span></span>

| <span data-ttu-id="d57c3-175">Поле</span><span class="sxs-lookup"><span data-stu-id="d57c3-175">Field</span></span> | <span data-ttu-id="d57c3-176">Результат</span><span class="sxs-lookup"><span data-stu-id="d57c3-176">Effect</span></span> | <span data-ttu-id="d57c3-177">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-177">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-178">location</span><span class="sxs-lookup"><span data-stu-id="d57c3-178">location</span></span> |<span data-ttu-id="d57c3-179">audit</span><span class="sxs-lookup"><span data-stu-id="d57c3-179">audit</span></span> |<span data-ttu-id="d57c3-180">Аудит создания ресурсов в любом регионе.</span><span class="sxs-lookup"><span data-stu-id="d57c3-180">Audit the creation of the resources in any region</span></span> |
| <span data-ttu-id="d57c3-181">Тип</span><span class="sxs-lookup"><span data-stu-id="d57c3-181">type</span></span> |<span data-ttu-id="d57c3-182">deny</span><span class="sxs-lookup"><span data-stu-id="d57c3-182">deny</span></span> |<span data-ttu-id="d57c3-183">Запрет создания виртуальных машин серии G.</span><span class="sxs-lookup"><span data-stu-id="d57c3-183">Deny creation of G-Series virtual machines</span></span> |
| <span data-ttu-id="d57c3-184">tags</span><span class="sxs-lookup"><span data-stu-id="d57c3-184">tags</span></span> |<span data-ttu-id="d57c3-185">deny</span><span class="sxs-lookup"><span data-stu-id="d57c3-185">deny</span></span> |<span data-ttu-id="d57c3-186">Требование наличия тега владельца приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-186">Require application owner tag</span></span> |
| <span data-ttu-id="d57c3-187">tags</span><span class="sxs-lookup"><span data-stu-id="d57c3-187">tags</span></span> |<span data-ttu-id="d57c3-188">deny</span><span class="sxs-lookup"><span data-stu-id="d57c3-188">deny</span></span> |<span data-ttu-id="d57c3-189">Требование наличия тега места возникновения затрат.</span><span class="sxs-lookup"><span data-stu-id="d57c3-189">Require cost center tag</span></span> |
| <span data-ttu-id="d57c3-190">tags</span><span class="sxs-lookup"><span data-stu-id="d57c3-190">tags</span></span> |<span data-ttu-id="d57c3-191">append</span><span class="sxs-lookup"><span data-stu-id="d57c3-191">append</span></span> |<span data-ttu-id="d57c3-192">Добавление имени тега **BusinessUnit** и значения тега **ETS** ко всем ресурсам.</span><span class="sxs-lookup"><span data-stu-id="d57c3-192">Append tag name **BusinessUnit** and tag value **ETS** to all resources</span></span> |

### <a name="resource-tags"></a><span data-ttu-id="d57c3-193">Теги ресурсов</span><span class="sxs-lookup"><span data-stu-id="d57c3-193">Resource tags</span></span>
<span data-ttu-id="d57c3-194">Дейв понимает, что ему нужны специальные сведения о счете, чтобы определить место возникновения затрат для реализации BitBucket.</span><span class="sxs-lookup"><span data-stu-id="d57c3-194">Dave understands that he needs to have specific information on the bill to identify the cost center for the BitBucket implementation.</span></span> <span data-ttu-id="d57c3-195">Кроме того, Дэйв хочет знать, какими ресурсами владеет подразделение ETS.</span><span class="sxs-lookup"><span data-stu-id="d57c3-195">Additionally, Dave wants to know all the resources that ETS owns.</span></span>

<span data-ttu-id="d57c3-196">Он добавляет приведенные ниже [теги](/azure/azure-resource-manager/resource-group-using-tags) для групп ресурсов и ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-196">He adds the following [tags](/azure/azure-resource-manager/resource-group-using-tags) to the resource groups and resources.</span></span>

| <span data-ttu-id="d57c3-197">Имя тега</span><span class="sxs-lookup"><span data-stu-id="d57c3-197">Tag name</span></span> | <span data-ttu-id="d57c3-198">Значение тега</span><span class="sxs-lookup"><span data-stu-id="d57c3-198">Tag value</span></span> |
| --- | --- |
| <span data-ttu-id="d57c3-199">ApplicationOwner</span><span class="sxs-lookup"><span data-stu-id="d57c3-199">ApplicationOwner</span></span> |<span data-ttu-id="d57c3-200">Имя пользователя, который управляет этим приложением.</span><span class="sxs-lookup"><span data-stu-id="d57c3-200">The name of the person who manages this application</span></span> |
| <span data-ttu-id="d57c3-201">CostCenter</span><span class="sxs-lookup"><span data-stu-id="d57c3-201">CostCenter</span></span> |<span data-ttu-id="d57c3-202">Расположение, связанное с возникающими затратами группы, оплачивающей потребление ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-202">The cost center of the group that is paying for the Azure consumption</span></span> |
| <span data-ttu-id="d57c3-203">BusinessUnit</span><span class="sxs-lookup"><span data-stu-id="d57c3-203">BusinessUnit</span></span> |<span data-ttu-id="d57c3-204">Подразделение **ETS** (связанное с подпиской).</span><span class="sxs-lookup"><span data-stu-id="d57c3-204">**ETS** (the business unit associated with the subscription)</span></span> |

### <a name="core-network"></a><span data-ttu-id="d57c3-205">Основная сеть</span><span class="sxs-lookup"><span data-stu-id="d57c3-205">Core network</span></span>
<span data-ttu-id="d57c3-206">Команда безопасности и управления рисками подразделения ETS Contoso проверяет предлагаемый Дейвом план перемещения приложения в Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-206">The Contoso ETS information security and risk management team reviews Dave's proposed plan to move the application to Azure.</span></span> <span data-ttu-id="d57c3-207">Они хотят убедиться, что приложение не будет доступно через Интернет.</span><span class="sxs-lookup"><span data-stu-id="d57c3-207">They want to ensure that the application isn't exposed to the internet.</span></span>  <span data-ttu-id="d57c3-208">У Дейва также есть приложения для разработчиков, которые в дальнейшем будут перенесены в Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-208">Dave also has developer apps that in the future will be moved to Azure.</span></span> <span data-ttu-id="d57c3-209">Этим приложениям требуются общедоступные интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="d57c3-209">These apps require public interfaces.</span></span>  <span data-ttu-id="d57c3-210">Для соблюдения этих требований Дейв предоставляет внутренние и внешние виртуальные сети, а также группу безопасности сети для ограничения доступа.</span><span class="sxs-lookup"><span data-stu-id="d57c3-210">To meet these requirements, he provides both internal and external virtual networks, and a network security group to restrict access.</span></span>

<span data-ttu-id="d57c3-211">Он создает перечисленные ниже ресурсы.</span><span class="sxs-lookup"><span data-stu-id="d57c3-211">He creates the following resources:</span></span>

| <span data-ttu-id="d57c3-212">Тип ресурса</span><span class="sxs-lookup"><span data-stu-id="d57c3-212">Resource type</span></span> | <span data-ttu-id="d57c3-213">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="d57c3-213">Name</span></span> | <span data-ttu-id="d57c3-214">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-214">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-215">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="d57c3-215">Virtual Network</span></span> |<span data-ttu-id="d57c3-216">internal-vnet</span><span class="sxs-lookup"><span data-stu-id="d57c3-216">internal-vnet</span></span> |<span data-ttu-id="d57c3-217">Используется для приложения BitBucket и подключается к корпоративной сети Contoso через канал ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="d57c3-217">Used with the BitBucket application and is connected via ExpressRoute to Contoso's corporate network.</span></span>  <span data-ttu-id="d57c3-218">Подсеть (`bitbucket`) предоставляет приложению определенное пространство IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-218">A subnet (`bitbucket`) provides the application with a specific IP address space</span></span> |
| <span data-ttu-id="d57c3-219">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="d57c3-219">Virtual Network</span></span> |<span data-ttu-id="d57c3-220">external-vnet</span><span class="sxs-lookup"><span data-stu-id="d57c3-220">external-vnet</span></span> |<span data-ttu-id="d57c3-221">Доступна для будущих приложений, которым понадобятся общедоступные конечные точки.</span><span class="sxs-lookup"><span data-stu-id="d57c3-221">Available for future applications that require public-facing endpoints</span></span> |
| <span data-ttu-id="d57c3-222">Группа безопасности сети</span><span class="sxs-lookup"><span data-stu-id="d57c3-222">Network Security Group</span></span> |<span data-ttu-id="d57c3-223">bitbucket-nsg</span><span class="sxs-lookup"><span data-stu-id="d57c3-223">bitbucket-nsg</span></span> |<span data-ttu-id="d57c3-224">Гарантирует, что виды атак для этой рабочей нагрузки сведены к минимуму, разрешая подключения только через порт 443 для подсети, в которой расположены приложения (`bitbucket`).</span><span class="sxs-lookup"><span data-stu-id="d57c3-224">Ensures that the attack surface of this workload is minimized by allowing connections only on port 443 for the subnet where the application lives (`bitbucket`)</span></span> |

### <a name="resource-locks"></a><span data-ttu-id="d57c3-225">Блокировки ресурсов</span><span class="sxs-lookup"><span data-stu-id="d57c3-225">Resource locks</span></span>
<span data-ttu-id="d57c3-226">Дейв понимает, что подключение между корпоративной сеть Contoso и внутренней виртуальной сетью требуется защитить от любых непредсказуемых сценариев или случайного удаления.</span><span class="sxs-lookup"><span data-stu-id="d57c3-226">Dave recognizes that the connectivity from Contoso's corporate network to the internal virtual network must be protected from any wayward script or accidental deletion.</span></span>

<span data-ttu-id="d57c3-227">Он создает приведенную ниже [блокировку ресурса](/azure/azure-resource-manager/resource-group-lock-resources).</span><span class="sxs-lookup"><span data-stu-id="d57c3-227">He creates the following [resource lock](/azure/azure-resource-manager/resource-group-lock-resources):</span></span>

| <span data-ttu-id="d57c3-228">Тип блокировки</span><span class="sxs-lookup"><span data-stu-id="d57c3-228">Lock type</span></span> | <span data-ttu-id="d57c3-229">Ресурс</span><span class="sxs-lookup"><span data-stu-id="d57c3-229">Resource</span></span> | <span data-ttu-id="d57c3-230">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-230">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-231">**CanNotDelete**</span><span class="sxs-lookup"><span data-stu-id="d57c3-231">**CanNotDelete**</span></span> |<span data-ttu-id="d57c3-232">internal-vnet</span><span class="sxs-lookup"><span data-stu-id="d57c3-232">internal-vnet</span></span> |<span data-ttu-id="d57c3-233">Запрещает пользователям удалять виртуальную сеть или подсети, но разрешает добавлять новые подсети.</span><span class="sxs-lookup"><span data-stu-id="d57c3-233">Prevents users from deleting the virtual network or subnets, but does not prevent the addition of new subnets</span></span> |

### <a name="azure-automation"></a><span data-ttu-id="d57c3-234">Служба автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="d57c3-234">Azure Automation</span></span>
<span data-ttu-id="d57c3-235">Дэйв не собирается что-либо автоматизировать для этого приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-235">Dave has nothing to automate for this application.</span></span> <span data-ttu-id="d57c3-236">Несмотря на то, что он создал учетную запись службы автоматизации Azure, Дейв не будет сразу ее использовать.</span><span class="sxs-lookup"><span data-stu-id="d57c3-236">Although he created an Azure Automation account, he won't initially use it.</span></span>

### <a name="azure-security-center"></a><span data-ttu-id="d57c3-237">Центр безопасности Azure</span><span class="sxs-lookup"><span data-stu-id="d57c3-237">Azure Security Center</span></span>
<span data-ttu-id="d57c3-238">ИТ-специалистам по управлению службами Contoso необходимо быстро выявлять угрозы и устранять их.</span><span class="sxs-lookup"><span data-stu-id="d57c3-238">Contoso IT service management needs to quickly identify and handle threats.</span></span> <span data-ttu-id="d57c3-239">Кроме того, им нужно понимать, какие проблемы могут возникнуть.</span><span class="sxs-lookup"><span data-stu-id="d57c3-239">They also want to understand what problems may exist.</span></span>  

<span data-ttu-id="d57c3-240">Чтобы соблюсти эти требования, Дейв включает [центр безопасности Azure](/azure/security-center/security-center-intro) и предоставляет доступ к роли читателя безопасности.</span><span class="sxs-lookup"><span data-stu-id="d57c3-240">To fulfill these requirements, Dave enables the [Azure Security Center](/azure/security-center/security-center-intro), and provides access to the Security Reader role.</span></span>

## <a name="scenario-2-customer-facing-app"></a><span data-ttu-id="d57c3-241">Сценарий 2. Приложение для клиентов</span><span class="sxs-lookup"><span data-stu-id="d57c3-241">Scenario 2: customer-facing app</span></span>
<span data-ttu-id="d57c3-242">Бизнес-руководство в подразделении, отвечающем за логистические цепочки, выявило различные возможности для расширения сотрудничества с клиентами компании Contoso за счет карт постоянных клиентов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-242">The business leadership in the supply chain business unit has identified various opportunities to increase engagement with Contoso's customers by using a loyalty card.</span></span> <span data-ttu-id="d57c3-243">Команда Алисы должна создать это приложение. И она решает, что Azure дает дополнительные возможности для удовлетворения потребностей бизнеса.</span><span class="sxs-lookup"><span data-stu-id="d57c3-243">Alice's team must create this application and decides that Azure increases their ability to meet the business need.</span></span> <span data-ttu-id="d57c3-244">Алиса работает с Дэйвом из подразделения ETS, чтобы настроить две подписки для разработки и эксплуатации этого приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-244">Alice works with Dave from ETS to configure two subscriptions for developing and operating this application.</span></span>

### <a name="azure-subscriptions"></a><span data-ttu-id="d57c3-245">Подписки Azure</span><span class="sxs-lookup"><span data-stu-id="d57c3-245">Azure subscriptions</span></span>
<span data-ttu-id="d57c3-246">Дейв входит на корпоративный портал Azure и видит, что отдел управления логистическими цепочками поставок уже существует.</span><span class="sxs-lookup"><span data-stu-id="d57c3-246">Dave logs in to the Azure Enterprise Portal and sees that the supply chain department already exists.</span></span>  <span data-ttu-id="d57c3-247">Однако, так как данный проект является первым проектом по разработке для команды управления логистическими цепочками в Azure, Дэйв осознает, что нужно создать новую учетную запись для команды разработчиков Алисы.</span><span class="sxs-lookup"><span data-stu-id="d57c3-247">However, as this project is the first development project for the supply chain team in Azure, Dave recognizes the need for a new account for Alice’s development team.</span></span>  <span data-ttu-id="d57c3-248">Он создает учетную запись R&D для команды Алисы и предоставляет ей доступ.</span><span class="sxs-lookup"><span data-stu-id="d57c3-248">He creates the "R&D" account for her team and assigns access to Alice.</span></span> <span data-ttu-id="d57c3-249">Алиса входит на портал Azure и создает две подписки: первую — для серверов разработки, а вторую — для рабочих серверов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-249">Alice logs in via the Azure portal and creates two subscriptions: one to hold the development servers and one to hold the production servers.</span></span>  <span data-ttu-id="d57c3-250">При создании этих подписок она следует предварительно установленным стандартам именования.</span><span class="sxs-lookup"><span data-stu-id="d57c3-250">She follows the previously established naming standards when creating the following subscriptions:</span></span>

| <span data-ttu-id="d57c3-251">Назначение подписки</span><span class="sxs-lookup"><span data-stu-id="d57c3-251">Subscription use</span></span> | <span data-ttu-id="d57c3-252">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="d57c3-252">Name</span></span> |
| --- | --- |
| <span data-ttu-id="d57c3-253">Разработка</span><span class="sxs-lookup"><span data-stu-id="d57c3-253">Development</span></span> |<span data-ttu-id="d57c3-254">Contoso SupplyChain ResearchDevelopment LoyaltyCard Development</span><span class="sxs-lookup"><span data-stu-id="d57c3-254">Contoso SupplyChain ResearchDevelopment LoyaltyCard Development</span></span> |
| <span data-ttu-id="d57c3-255">Производство</span><span class="sxs-lookup"><span data-stu-id="d57c3-255">Production</span></span> |<span data-ttu-id="d57c3-256">Contoso SupplyChain Operations LoyaltyCard Production</span><span class="sxs-lookup"><span data-stu-id="d57c3-256">Contoso SupplyChain Operations LoyaltyCard Production</span></span> |

### <a name="policies"></a><span data-ttu-id="d57c3-257">Политики</span><span class="sxs-lookup"><span data-stu-id="d57c3-257">Policies</span></span>
<span data-ttu-id="d57c3-258">Дейв и Алиса обсуждают приложение и выясняют, что оно обслуживает только клиентов в регионе "Северная Америка".</span><span class="sxs-lookup"><span data-stu-id="d57c3-258">Dave and Alice discuss the application and identify that this application only serves customers in the North American region.</span></span>  <span data-ttu-id="d57c3-259">Для создания приложения Алиса и ее команда планируют использовать среду службы приложений Azure и SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-259">Alice and her team plan to use Azure's Application Service Environment and Azure SQL to create the application.</span></span> <span data-ttu-id="d57c3-260">Возможно, во время разработки им понадобится создать виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="d57c3-260">They may need to create virtual machines during development.</span></span>  <span data-ttu-id="d57c3-261">Алиса хочет обеспечить своих разработчиков ресурсами, необходимыми для выявления и изучения проблем без привлечения сотрудников ETS.</span><span class="sxs-lookup"><span data-stu-id="d57c3-261">Alice wants to ensure that her developers have the resources they need to explore and examine problems without pulling in ETS.</span></span>

<span data-ttu-id="d57c3-262">Для **подписки разработки** они создают следующую политику.</span><span class="sxs-lookup"><span data-stu-id="d57c3-262">For the **development subscription**, they create the following policy:</span></span>

| <span data-ttu-id="d57c3-263">Поле</span><span class="sxs-lookup"><span data-stu-id="d57c3-263">Field</span></span> | <span data-ttu-id="d57c3-264">Результат</span><span class="sxs-lookup"><span data-stu-id="d57c3-264">Effect</span></span> | <span data-ttu-id="d57c3-265">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-265">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-266">location</span><span class="sxs-lookup"><span data-stu-id="d57c3-266">location</span></span> |<span data-ttu-id="d57c3-267">audit</span><span class="sxs-lookup"><span data-stu-id="d57c3-267">audit</span></span> |<span data-ttu-id="d57c3-268">Аудит создания ресурсов в любом регионе.</span><span class="sxs-lookup"><span data-stu-id="d57c3-268">Audit the creation of the resources in any region</span></span> |

<span data-ttu-id="d57c3-269">Тип SKU, создаваемых пользователем в процессе разработки, не ограничивается, и наличие тегов у каких-либо групп ресурсов или ресурсов не обязательно.</span><span class="sxs-lookup"><span data-stu-id="d57c3-269">They don't limit the type of sku a user can create in development, and they don't require tags for any resource groups or resources.</span></span>

<span data-ttu-id="d57c3-270">Для **рабочей подписки** они создают политики, указанные ниже.</span><span class="sxs-lookup"><span data-stu-id="d57c3-270">For the **production subscription**, they create the following policies:</span></span>

| <span data-ttu-id="d57c3-271">Поле</span><span class="sxs-lookup"><span data-stu-id="d57c3-271">Field</span></span> | <span data-ttu-id="d57c3-272">Результат</span><span class="sxs-lookup"><span data-stu-id="d57c3-272">Effect</span></span> | <span data-ttu-id="d57c3-273">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-273">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-274">location</span><span class="sxs-lookup"><span data-stu-id="d57c3-274">location</span></span> |<span data-ttu-id="d57c3-275">deny</span><span class="sxs-lookup"><span data-stu-id="d57c3-275">deny</span></span> |<span data-ttu-id="d57c3-276">Запрещается создание любых ресурсов за пределами центров обработки данных, размещенных в США.</span><span class="sxs-lookup"><span data-stu-id="d57c3-276">Deny the creation of any resources outside of the US data centers</span></span> |
| <span data-ttu-id="d57c3-277">tags</span><span class="sxs-lookup"><span data-stu-id="d57c3-277">tags</span></span> |<span data-ttu-id="d57c3-278">deny</span><span class="sxs-lookup"><span data-stu-id="d57c3-278">deny</span></span> |<span data-ttu-id="d57c3-279">Требование наличия тега владельца приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-279">Require application owner tag</span></span> |
| <span data-ttu-id="d57c3-280">tags</span><span class="sxs-lookup"><span data-stu-id="d57c3-280">tags</span></span> |<span data-ttu-id="d57c3-281">deny</span><span class="sxs-lookup"><span data-stu-id="d57c3-281">deny</span></span> |<span data-ttu-id="d57c3-282">Требуется тег отдела.</span><span class="sxs-lookup"><span data-stu-id="d57c3-282">Require department tag</span></span> |
| <span data-ttu-id="d57c3-283">tags</span><span class="sxs-lookup"><span data-stu-id="d57c3-283">tags</span></span> |<span data-ttu-id="d57c3-284">append</span><span class="sxs-lookup"><span data-stu-id="d57c3-284">append</span></span> |<span data-ttu-id="d57c3-285">Добавление к каждой группе ресурсов тега, обозначающего рабочую среду.</span><span class="sxs-lookup"><span data-stu-id="d57c3-285">Append tag to each resource group that indicates production environment</span></span> |

<span data-ttu-id="d57c3-286">Тип SKU, который пользователь может создать в рабочей среде, не ограничивается.</span><span class="sxs-lookup"><span data-stu-id="d57c3-286">They don't limit the type of sku a user can create in production.</span></span>

### <a name="resource-tags"></a><span data-ttu-id="d57c3-287">Теги ресурсов</span><span class="sxs-lookup"><span data-stu-id="d57c3-287">Resource tags</span></span>
<span data-ttu-id="d57c3-288">Дейв понимает, что ему необходимы определенные сведения, чтобы правильно определить бизнес-группы для выставления счетов и установления принадлежности.</span><span class="sxs-lookup"><span data-stu-id="d57c3-288">Dave understands that he needs to have specific information to identify the correct business groups for billing and ownership.</span></span> <span data-ttu-id="d57c3-289">Для этого он определяет теги ресурсов для групп ресурсов и ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d57c3-289">He defines resource tags for resource groups and resources.</span></span>

| <span data-ttu-id="d57c3-290">Имя тега</span><span class="sxs-lookup"><span data-stu-id="d57c3-290">Tag name</span></span> | <span data-ttu-id="d57c3-291">Значение тега</span><span class="sxs-lookup"><span data-stu-id="d57c3-291">Tag value</span></span> |
| --- | --- |
| <span data-ttu-id="d57c3-292">ApplicationOwner</span><span class="sxs-lookup"><span data-stu-id="d57c3-292">ApplicationOwner</span></span> |<span data-ttu-id="d57c3-293">Имя пользователя, который управляет этим приложением.</span><span class="sxs-lookup"><span data-stu-id="d57c3-293">The name of the person who manages this application</span></span> |
| <span data-ttu-id="d57c3-294">Department</span><span class="sxs-lookup"><span data-stu-id="d57c3-294">Department</span></span> |<span data-ttu-id="d57c3-295">Расположение, связанное с возникающими затратами группы, оплачивающей потребление ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-295">The cost center of the group that is paying for the Azure consumption</span></span> |
| <span data-ttu-id="d57c3-296">EnvironmentType</span><span class="sxs-lookup"><span data-stu-id="d57c3-296">EnvironmentType</span></span> |<span data-ttu-id="d57c3-297">**Production** (хотя в имени подписки имеется значение **Production**, добавление этого тега упрощает идентификацию при просмотре ресурсов на портале или в счете).</span><span class="sxs-lookup"><span data-stu-id="d57c3-297">**Production** (Even though the subscription includes **Production** in the name, including this tag enables easy identification when looking at resources in the portal or on the bill)</span></span> |

### <a name="core-networks"></a><span data-ttu-id="d57c3-298">Основные сети</span><span class="sxs-lookup"><span data-stu-id="d57c3-298">Core networks</span></span>
<span data-ttu-id="d57c3-299">Команда безопасности и управления рисками подразделения ETS Contoso проверяет предлагаемый Дейвом план перемещения приложения в Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-299">The Contoso ETS information security and risk management team reviews Dave's proposed plan to move the application to Azure.</span></span> <span data-ttu-id="d57c3-300">Ей нужно убедиться, что приложение Loyalty Card правильно изолировано и защищено в сети периметра.</span><span class="sxs-lookup"><span data-stu-id="d57c3-300">They want to ensure that the Loyalty Card application is properly isolated and protected in a DMZ network.</span></span>  <span data-ttu-id="d57c3-301">Для выполнения этого требования Дэйв и Алиса создают внешнюю виртуальную сеть и группу безопасности сети, чтобы изолировать приложение Loyalty Card от корпоративной сети Contoso.</span><span class="sxs-lookup"><span data-stu-id="d57c3-301">To fulfill this requirement, Dave and Alice create an external virtual network and a network security group to isolate the Loyalty Card application from the Contoso corporate network.</span></span>  

<span data-ttu-id="d57c3-302">Для **подписки разработки** они создают следующее.</span><span class="sxs-lookup"><span data-stu-id="d57c3-302">For the **development subscription**, they create:</span></span>

| <span data-ttu-id="d57c3-303">Тип ресурса</span><span class="sxs-lookup"><span data-stu-id="d57c3-303">Resource type</span></span> | <span data-ttu-id="d57c3-304">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="d57c3-304">Name</span></span> | <span data-ttu-id="d57c3-305">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-305">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-306">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="d57c3-306">Virtual Network</span></span> |<span data-ttu-id="d57c3-307">internal-vnet</span><span class="sxs-lookup"><span data-stu-id="d57c3-307">internal-vnet</span></span> |<span data-ttu-id="d57c3-308">Обслуживает среду разработки Loyalty Card компании Contoso и подключается к корпоративной сети Contoso с помощью ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="d57c3-308">Serves the Contoso Loyalty Card development environment and is connected via ExpressRoute to Contoso's corporate network</span></span> |

<span data-ttu-id="d57c3-309">Для **рабочей подписки** они создают следующие ресурсы.</span><span class="sxs-lookup"><span data-stu-id="d57c3-309">For the **production subscription**, they create:</span></span>

| <span data-ttu-id="d57c3-310">Тип ресурса</span><span class="sxs-lookup"><span data-stu-id="d57c3-310">Resource type</span></span> | <span data-ttu-id="d57c3-311">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="d57c3-311">Name</span></span> | <span data-ttu-id="d57c3-312">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-312">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-313">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="d57c3-313">Virtual Network</span></span> |<span data-ttu-id="d57c3-314">external-vnet</span><span class="sxs-lookup"><span data-stu-id="d57c3-314">external-vnet</span></span> |<span data-ttu-id="d57c3-315">Содержит приложение Loyalty Card и не подключена напрямую к каналу ExpressRoute компании Contoso.</span><span class="sxs-lookup"><span data-stu-id="d57c3-315">Hosts the Loyalty Card application and is not connected directly to Contoso's ExpressRoute.</span></span> <span data-ttu-id="d57c3-316">Код передается через систему управления исходным кодом непосредственно в службы PaaS.</span><span class="sxs-lookup"><span data-stu-id="d57c3-316">Code is pushed via their Source Code system directly to the PaaS services</span></span> |
| <span data-ttu-id="d57c3-317">Группа безопасности сети</span><span class="sxs-lookup"><span data-stu-id="d57c3-317">Network Security Group</span></span> |<span data-ttu-id="d57c3-318">loyaltycard-nsg</span><span class="sxs-lookup"><span data-stu-id="d57c3-318">loyaltycard-nsg</span></span> |<span data-ttu-id="d57c3-319">Гарантирует, что виды атак для этой рабочей нагрузки сведены к минимуму, разрешая только входящий трафик через TCP-порт 443.</span><span class="sxs-lookup"><span data-stu-id="d57c3-319">Ensures that the attack surface of this workload is minimized by only allowing in-bound communication on TCP 443.</span></span>  <span data-ttu-id="d57c3-320">Компания Contoso также рассматривает возможность применения брандмауэра веб-приложения для усиления защиты.</span><span class="sxs-lookup"><span data-stu-id="d57c3-320">Contoso is also investigating using a Web Application Firewall for additional protection</span></span> |

### <a name="resource-locks"></a><span data-ttu-id="d57c3-321">Блокировки ресурсов</span><span class="sxs-lookup"><span data-stu-id="d57c3-321">Resource locks</span></span>
<span data-ttu-id="d57c3-322">Дейв и Алиса советуются и решают добавить блокировки для некоторых ключевых ресурсов в среде, чтобы предотвратить случайное удаление при отправке кода с ошибкой.</span><span class="sxs-lookup"><span data-stu-id="d57c3-322">Dave and Alice confer and decide to add resource locks on some of the key resources in the environment to prevent accidental deletion during an errant code push.</span></span>

<span data-ttu-id="d57c3-323">Они создают следующую блокировку.</span><span class="sxs-lookup"><span data-stu-id="d57c3-323">They create the following lock:</span></span>

| <span data-ttu-id="d57c3-324">Тип блокировки</span><span class="sxs-lookup"><span data-stu-id="d57c3-324">Lock type</span></span> | <span data-ttu-id="d57c3-325">Ресурс</span><span class="sxs-lookup"><span data-stu-id="d57c3-325">Resource</span></span> | <span data-ttu-id="d57c3-326">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="d57c3-326">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d57c3-327">**CanNotDelete**</span><span class="sxs-lookup"><span data-stu-id="d57c3-327">**CanNotDelete**</span></span> |<span data-ttu-id="d57c3-328">external-vnet</span><span class="sxs-lookup"><span data-stu-id="d57c3-328">external-vnet</span></span> |<span data-ttu-id="d57c3-329">Предотвращает удаление виртуальной сети или подсетей пользователями.</span><span class="sxs-lookup"><span data-stu-id="d57c3-329">To prevent people from deleting the virtual network or subnets.</span></span> <span data-ttu-id="d57c3-330">Эта блокировка не предотвращает добавление новых подсетей.</span><span class="sxs-lookup"><span data-stu-id="d57c3-330">The lock does not prevent the addition of new subnets</span></span> |

### <a name="azure-automation"></a><span data-ttu-id="d57c3-331">Служба автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="d57c3-331">Azure Automation</span></span>
<span data-ttu-id="d57c3-332">У Алисы и ее команды разработчиков имеется множество модулей Runbook для управления средой этого приложения.</span><span class="sxs-lookup"><span data-stu-id="d57c3-332">Alice and her development team have extensive runbooks to manage the environment for this application.</span></span> <span data-ttu-id="d57c3-333">С их помощью можно добавлять или удалять узлы для приложения, а также выполнять другие задачи разработки.</span><span class="sxs-lookup"><span data-stu-id="d57c3-333">The runbooks allow for the addition/deletion of nodes for the application and other DevOps tasks.</span></span>

<span data-ttu-id="d57c3-334">Чтобы использовать эти модули Runbook, Алиса и ее команда включают [службу автоматизации](/azure/automation/automation-intro).</span><span class="sxs-lookup"><span data-stu-id="d57c3-334">To use these runbooks, they enable [Automation](/azure/automation/automation-intro).</span></span>

### <a name="azure-security-center"></a><span data-ttu-id="d57c3-335">Центр безопасности Azure</span><span class="sxs-lookup"><span data-stu-id="d57c3-335">Azure Security Center</span></span>
<span data-ttu-id="d57c3-336">ИТ-специалистам по управлению службами Contoso необходимо быстро выявлять угрозы и устранять их.</span><span class="sxs-lookup"><span data-stu-id="d57c3-336">Contoso IT service management needs to quickly identify and handle threats.</span></span> <span data-ttu-id="d57c3-337">Кроме того, им нужно понимать, какие проблемы могут возникнуть.</span><span class="sxs-lookup"><span data-stu-id="d57c3-337">They also want to understand what problems may exist.</span></span>  

<span data-ttu-id="d57c3-338">Для удовлетворения этих требований Дэйв включает центр безопасности Azure.</span><span class="sxs-lookup"><span data-stu-id="d57c3-338">To fulfill these requirements, Dave enables Azure Security Center.</span></span> <span data-ttu-id="d57c3-339">Он убеждается, что центр безопасности Azure отслеживает ресурсы, и предоставляет доступ команде DevOps и команде безопасности.</span><span class="sxs-lookup"><span data-stu-id="d57c3-339">He ensures that the Azure Security Center is monitoring the resources, and provides access to the DevOps and security teams.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d57c3-340">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="d57c3-340">Next steps</span></span>
* <span data-ttu-id="d57c3-341">Чтобы узнать о создании шаблонов Resource Manager, ознакомьтесь со статьей [Рекомендации по созданию шаблонов Azure Resource Manager](/azure/azure-resource-manager/resource-manager-template-best-practices).</span><span class="sxs-lookup"><span data-stu-id="d57c3-341">To learn about creating Resource Manager templates, see [Best practices for creating Azure Resource Manager templates](/azure/azure-resource-manager/resource-manager-template-best-practices).</span></span>
