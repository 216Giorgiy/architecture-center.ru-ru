---
title: Разработка надежных приложений Azure
description: Общие сведения об обеспечении надежности и высокого уровня доступности приложений Azure
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: ''
ms.openlocfilehash: 16c1daeed9b1d79f33051eb69571f1574bf9be4d
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59644020"
---
# <a name="designing-reliable-azure-applications"></a><span data-ttu-id="050b5-103">Разработка надежных приложений Azure</span><span class="sxs-lookup"><span data-stu-id="050b5-103">Designing reliable Azure applications</span></span>

<span data-ttu-id="050b5-104">Процесс создания надежного приложения в облаке отличается от традиционной разработки приложений.</span><span class="sxs-lookup"><span data-stu-id="050b5-104">Building a reliable application in the cloud is different from traditional application development.</span></span> <span data-ttu-id="050b5-105">Хотя ранее вы, возможно, приобретали оборудование более высокого уровня для вертикального масштабирования, в облачной среде вы должны выполнять горизонтальное масштабирование.</span><span class="sxs-lookup"><span data-stu-id="050b5-105">While historically you may have purchased higher-end hardware to scale up, in a cloud environment you scale out instead of up.</span></span> <span data-ttu-id="050b5-106">Вместо того чтобы пытаться предотвратить все возможные сбои, нужно свести к минимуму воздействие сбоя каждого отдельного компонента.</span><span class="sxs-lookup"><span data-stu-id="050b5-106">Instead of trying to prevent failures altogether, the goal is to minimize the effects of a single failing component.</span></span>

<span data-ttu-id="050b5-107">Надежные приложения отличаются такими характеристиками:</span><span class="sxs-lookup"><span data-stu-id="050b5-107">Reliable applications are:</span></span>

- <span data-ttu-id="050b5-108">**Устойчивость** и восстановление после ошибок для работы с минимальными простоями и потерями данных до необходимости выполнять полное восстановление.</span><span class="sxs-lookup"><span data-stu-id="050b5-108">**Resilient** and recover gracefully from failures, and they continue to function with minimal downtime and data loss before full recovery.</span></span>
- <span data-ttu-id="050b5-109">**Высокий уровень доступности** и надлежащая работа с максимальной работоспособностью без значительных простоев.</span><span class="sxs-lookup"><span data-stu-id="050b5-109">**Highly available (HA)** and run as designed in a healthy state with no significant downtime.</span></span>

<span data-ttu-id="050b5-110">Понимание того, как такие характеристики связаны друг с другом &mdash; и как они влияют на затраты &mdash; критически важно при создании надежного приложения.</span><span class="sxs-lookup"><span data-stu-id="050b5-110">Understanding how these elements work together &mdash; and how they affect cost &mdash; is essential to building a reliable application.</span></span> <span data-ttu-id="050b5-111">Благодаря этому вы сможете оценить, какое время простоев для вас допустимо, рассчитать потенциальные затраты для бизнеса, а также определить необходимые функции для выполнения восстановления.</span><span class="sxs-lookup"><span data-stu-id="050b5-111">It can help you determine how much downtime is acceptable, the potential cost to your business, and which functions are necessary during a recovery.</span></span>

<span data-ttu-id="050b5-112">В этой статье вкратце рассматривается, как повысить надежность приложения Azure на каждом шаге его разработки.</span><span class="sxs-lookup"><span data-stu-id="050b5-112">This article provides a brief overview of building reliability into each step of the Azure application design process.</span></span> <span data-ttu-id="050b5-113">В каждом разделе приведена ссылка на подробную статью об интеграции функций для повышения надежности на конкретном шаге процесса.</span><span class="sxs-lookup"><span data-stu-id="050b5-113">Each section includes a link to an in-depth article on how to integrate reliability into that specific step in the process.</span></span> <span data-ttu-id="050b5-114">Рекомендации по повышению надежности отдельных служб Azure см. в статье [Resiliency checklist for specific Azure services](../checklist/resiliency-per-service.md) (Контрольный список по обеспечению устойчивости для отдельных служб Azure).</span><span class="sxs-lookup"><span data-stu-id="050b5-114">If you're looking for reliability considerations for individual Azure services, review the [Resiliency checklist for specific Azure services](../checklist/resiliency-per-service.md).</span></span>

## <a name="build-for-reliability"></a><span data-ttu-id="050b5-115">Разработка для максимальной надежности</span><span class="sxs-lookup"><span data-stu-id="050b5-115">Build for reliability</span></span>

<span data-ttu-id="050b5-116">В этом разделе описываются шесть шагов по созданию надежного приложения Azure.</span><span class="sxs-lookup"><span data-stu-id="050b5-116">This section describes six steps for building a reliable Azure application.</span></span> <span data-ttu-id="050b5-117">В каждом шаге приведена ссылка на раздел с подробным описанием процесса и терминов.</span><span class="sxs-lookup"><span data-stu-id="050b5-117">Each step links to a section that further defines the process and terms.</span></span>

1. [<span data-ttu-id="050b5-118">**Определите требования.**</span><span class="sxs-lookup"><span data-stu-id="050b5-118">**Define requirements.**</span></span>](#define-requirements) <span data-ttu-id="050b5-119">Сформируйте требования к доступности и восстановлению с учетом отдельных потребностей рабочих нагрузок и бизнеса.</span><span class="sxs-lookup"><span data-stu-id="050b5-119">Develop availability and recovery requirements based on decomposed workloads and business needs.</span></span>
1. [<span data-ttu-id="050b5-120">**Следуйте рекомендациям по созданию архитектуры.**</span><span class="sxs-lookup"><span data-stu-id="050b5-120">**Use architectural best practices.**</span></span>](#use-architectural-best-practices) <span data-ttu-id="050b5-121">Следуйте проверенным практикам, определите возможные точки отказа в архитектуре, а также то, как приложение будет реагировать на ошибки.</span><span class="sxs-lookup"><span data-stu-id="050b5-121">Follow proven practices, identify possible failure points in the architecture, and determine how the application will respond to failure.</span></span>
1. [<span data-ttu-id="050b5-122">**Выполните тестирование с моделированием и принудительными переходами на другой ресурс.**</span><span class="sxs-lookup"><span data-stu-id="050b5-122">**Test with simulations and forced failovers.**</span></span>](#test-with-simulations-and-forced-failovers) <span data-ttu-id="050b5-123">Выполните моделирование сбоев, инициируйте принудительный переход на другой ресурс и протестируйте обнаружение таких сбоев и восстановление после них.</span><span class="sxs-lookup"><span data-stu-id="050b5-123">Simulate faults, trigger forced failovers, and test detection and recovery from these failures.</span></span>
1. [<span data-ttu-id="050b5-124">**Обеспечьте согласованность при развертывании приложения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-124">**Deploy the application consistently.**</span></span>](#deploy-the-application-consistently) <span data-ttu-id="050b5-125">Разверните выпуск приложения в рабочей среде с использованием надежных и проверенных процессов.</span><span class="sxs-lookup"><span data-stu-id="050b5-125">Release to production using reliable and repeatable processes.</span></span>
1. [<span data-ttu-id="050b5-126">**Отслеживайте работоспособность приложения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-126">**Monitor application health.**</span></span>](#monitor-application-health) <span data-ttu-id="050b5-127">Обнаруживайте сбои, отслеживайте признаки потенциальных сбоев и оценивайте работоспособность приложений.</span><span class="sxs-lookup"><span data-stu-id="050b5-127">Detect failures, monitor indicators of potential failures, and gauge the health of your applications.</span></span>
1. [<span data-ttu-id="050b5-128">**Реагируйте на сбои и аварии.**</span><span class="sxs-lookup"><span data-stu-id="050b5-128">**Respond to failures and disasters.**</span></span>](#respond-to-failures-and-disasters) <span data-ttu-id="050b5-129">Идентифицируйте сбои при их возникновении и определяйте способы реагирования на них на основе утвержденных стратегий.</span><span class="sxs-lookup"><span data-stu-id="050b5-129">Identify when a failure occurs, and determine how to address it based on established strategies.</span></span>

## <a name="define-requirements"></a><span data-ttu-id="050b5-130">Определение требований</span><span class="sxs-lookup"><span data-stu-id="050b5-130">Define requirements</span></span>

<span data-ttu-id="050b5-131">Определите потребности бизнеса и создайте план по повышению надежности, чтобы удовлетворить их.</span><span class="sxs-lookup"><span data-stu-id="050b5-131">Identify your business needs, and build your reliability plan to address them.</span></span> <span data-ttu-id="050b5-132">Рассмотрим следующее:</span><span class="sxs-lookup"><span data-stu-id="050b5-132">Consider the following:</span></span>

- <span data-ttu-id="050b5-133">**Определите рабочие нагрузки и уровень потребления ресурсов.**</span><span class="sxs-lookup"><span data-stu-id="050b5-133">**Identify workloads and usage.**</span></span> <span data-ttu-id="050b5-134">*Рабочая нагрузка* — это отдельная возможность или задача, которая логически отделена от других задач с точки зрения требований к бизнес-логике и хранению данных.</span><span class="sxs-lookup"><span data-stu-id="050b5-134">A *workload* is a distinct capability or task that is logically separated from other tasks, in terms of business logic and data storage requirements.</span></span> <span data-ttu-id="050b5-135">Каждая рабочая нагрузка имеет свои требования к доступности, масштабируемости, согласованности данных и аварийному восстановлению.</span><span class="sxs-lookup"><span data-stu-id="050b5-135">Each workload has different requirements for availability, scalability, data consistency, and disaster recovery.</span></span>
- <span data-ttu-id="050b5-136">**Составьте план с учетом особенностей потребления.**</span><span class="sxs-lookup"><span data-stu-id="050b5-136">**Plan for usage patterns.**</span></span> <span data-ttu-id="050b5-137">*Особенности потребления* также очень важны при определении требований.</span><span class="sxs-lookup"><span data-stu-id="050b5-137">*Usage patterns* also play a role in requirements.</span></span> <span data-ttu-id="050b5-138">Определите различия в требованиях в критические и некритические периоды.</span><span class="sxs-lookup"><span data-stu-id="050b5-138">Identify differences in requirements during critical and non-critical periods.</span></span> <span data-ttu-id="050b5-139">Например, приложение для работы с налоговой документацией не должно стать недоступным прямо перед крайним сроком ее подачи.</span><span class="sxs-lookup"><span data-stu-id="050b5-139">For example, a tax-filing application can't fail during a filing deadline.</span></span> <span data-ttu-id="050b5-140">Для бесперебойной работы обеспечьте избыточность в нескольких регионах на случай сбоя одного из них.</span><span class="sxs-lookup"><span data-stu-id="050b5-140">To ensure uptime, plan redundancy across several regions in case one fails.</span></span> <span data-ttu-id="050b5-141">И наоборот, чтобы уменьшить затраты в некритические периоды, вы можете выполнять приложение только в одном регионе.</span><span class="sxs-lookup"><span data-stu-id="050b5-141">Conversely, to minimize costs during non-critical periods, you can run your application in a single region.</span></span>
- <span data-ttu-id="050b5-142">**Утвердите метрики доступности &mdash; *среднее время восстановления* (MTTR) и *среднее время безотказной работы* (MTBF).**</span><span class="sxs-lookup"><span data-stu-id="050b5-142">**Establish availability metrics &mdash; *mean time to recovery* (MTTR) and *mean time between failures* (MTBF).**</span></span> <span data-ttu-id="050b5-143">MTTR — это среднее время, необходимое для восстановления компонента после сбоя.</span><span class="sxs-lookup"><span data-stu-id="050b5-143">MTTR is the average time it takes to restore a component after a failure.</span></span> <span data-ttu-id="050b5-144">MTBF — это продолжительность работы, которую можно ожидать от компонента между отключениями.</span><span class="sxs-lookup"><span data-stu-id="050b5-144">MTBF is now long a component can reasonably expect to last between outages.</span></span> <span data-ttu-id="050b5-145">Используйте эти показатели для определения того, где обеспечить избыточность, а также для назначения соглашений об уровне обслуживания (SLA) для клиентов.</span><span class="sxs-lookup"><span data-stu-id="050b5-145">Use these measures to determine where to add redundancy and to determine service-level agreements (SLAs) for customers.</span></span>  
- <span data-ttu-id="050b5-146">**Утвердите метрики восстановления &mdash; целевое время восстановления (RTO) и целевая точка восстановления (RPO).**</span><span class="sxs-lookup"><span data-stu-id="050b5-146">**Establish recovery metrics &mdash; recovery time objective and recovery point objective (RPO).**</span></span> <span data-ttu-id="050b5-147">*RTO* — это максимально допустимое время, в течение которого приложение может быть недоступно после инцидента.</span><span class="sxs-lookup"><span data-stu-id="050b5-147">*RTO* is the maximum acceptable time an application can be unavailable after an incident.</span></span> <span data-ttu-id="050b5-148">*RPO* — это максимальная продолжительность потери данных, которая является приемлемой во время аварии.</span><span class="sxs-lookup"><span data-stu-id="050b5-148">*RPO* is the maximum duration of data loss that is acceptable during a disaster.</span></span> <span data-ttu-id="050b5-149">Чтобы определить их значения, проведите оценку рисков и убедитесь, что вы хорошо понимаете затраты и риски, связанные с простоями или потерей данных в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="050b5-149">To derive these values, conduct a risk assessment and make sure you understand the cost and risk of downtime or data loss in your organization.</span></span>
    > [!NOTE]
    > <span data-ttu-id="050b5-150">Если показатель MTTR *любого* критически важного компонента в высокодоступной конфигурации превышает значение RTO системы, сбой в системе может привести к недопустимому прерыванию бизнес-процессов.</span><span class="sxs-lookup"><span data-stu-id="050b5-150">If the MTTR of *any* critical component in a highly available setup exceeds the system RTO, a failure in the system might cause an unacceptable business disruption.</span></span> <span data-ttu-id="050b5-151">А это значит, что вы не сможете восстановить систему в рамках определенного значения RTO.</span><span class="sxs-lookup"><span data-stu-id="050b5-151">That is, you can't restore the system within the defined RTO.</span></span>
- <span data-ttu-id="050b5-152">**Определите целевые показатели доступности рабочих нагрузок.**</span><span class="sxs-lookup"><span data-stu-id="050b5-152">**Determine workload availability targets.**</span></span> <span data-ttu-id="050b5-153">Чтобы обеспечить соответствие архитектуры приложения вашим бизнес-требованиям, определите целевые соглашения SLA для каждой рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="050b5-153">To ensure that application architecture meets your business requirements, define target SLAs for each workload.</span></span> <span data-ttu-id="050b5-154">Помимо зависимостей приложений, также учитывайте затраты и сложности, связанные с удовлетворением требований к доступности.</span><span class="sxs-lookup"><span data-stu-id="050b5-154">Account for the cost and complexity of meeting availability requirements, in addition to application dependencies.</span></span>
- <span data-ttu-id="050b5-155">**Изучите соглашения об уровне обслуживания.**</span><span class="sxs-lookup"><span data-stu-id="050b5-155">**Understand service-level agreements.**</span></span> <span data-ttu-id="050b5-156">В Azure соглашение об уровне обслуживания описывает обязательства корпорации Майкрософт в отношении времени доступности и подключения.</span><span class="sxs-lookup"><span data-stu-id="050b5-156">In Azure, the SLA describes the Microsoft commitments for uptime and connectivity.</span></span> <span data-ttu-id="050b5-157">Если в SLA для конкретной службы указано 99,9 %, это означает, что вы должны ожидать, что служба будет доступна 99,9 % времени.</span><span class="sxs-lookup"><span data-stu-id="050b5-157">If the SLA for a particular service is 99.9 percent, you should expect the service to be available 99.9 percent of the time.</span></span>  

    <span data-ttu-id="050b5-158">Определите собственные целевые соглашения SLA для каждой рабочей нагрузки решения, чтобы вы могли оценить, в какой мере архитектура удовлетворяет требованиям бизнеса.</span><span class="sxs-lookup"><span data-stu-id="050b5-158">Define your own target SLAs for each workload in your solution, so you can determine whether the architecture meets the business requirements.</span></span> <span data-ttu-id="050b5-159">Например, если для рабочей нагрузки требуется 99,99 % времени безотказной работы, но она зависит от службы с SLA на уровне 99,9 %, эта служба не может быть единой точкой отказа в системе.</span><span class="sxs-lookup"><span data-stu-id="050b5-159">For example, if a workload requires 99.99 percent uptime but depends on a service with a 99.9 percent SLA, that service can't be a single point of failure in the system.</span></span>

<span data-ttu-id="050b5-160">Дополнительные сведения о формулировке требований для надежных приложений см. в статье [Developing requirements for resilient Azure applications](./requirements.md) (Формулирование требований для устойчивых приложений Azure).</span><span class="sxs-lookup"><span data-stu-id="050b5-160">For more information about developing requirements for reliable applications, see [Developing requirements for resilient Azure applications](./requirements.md).</span></span>

## <a name="use-architectural-best-practices"></a><span data-ttu-id="050b5-161">Следование рекомендациям по созданию архитектуры</span><span class="sxs-lookup"><span data-stu-id="050b5-161">Use architectural best practices</span></span>

<span data-ttu-id="050b5-162">На этапе разработки архитектуры уделите основное внимание внедрению практик, которые обеспечат удовлетворение бизнес-требований, помогут определять точки сбоя и минимизировать степень их влияния.</span><span class="sxs-lookup"><span data-stu-id="050b5-162">During the architectural phase, focus on implementing practices that meet your business requirements, identify failure points, and minimize the scope of failures.</span></span>

- <span data-ttu-id="050b5-163">**Выполните анализ режима сбоя (FMA).**</span><span class="sxs-lookup"><span data-stu-id="050b5-163">**Perform a failure mode analysis (FMA).**</span></span> <span data-ttu-id="050b5-164">FMA позволяет повысить устойчивость приложения на ранней стадии проектирования.</span><span class="sxs-lookup"><span data-stu-id="050b5-164">FMA builds resiliency into an application early in the design stage.</span></span> <span data-ttu-id="050b5-165">Этот анализ помогает определить типы сбоев, которые могут возникнуть для приложения, потенциальные последствия каждого сбоя и возможные стратегии восстановления.</span><span class="sxs-lookup"><span data-stu-id="050b5-165">It helps you identify the types of failures your application might experience, the potential effects of each, and possible recovery strategies.</span></span>
- <span data-ttu-id="050b5-166">**Создайте план обеспечения избыточности.**</span><span class="sxs-lookup"><span data-stu-id="050b5-166">**Create a redundancy plan.**</span></span> <span data-ttu-id="050b5-167">Уровень избыточности каждой рабочей нагрузки зависит от потребностей вашего бизнеса и влияет на общую стоимость приложения.</span><span class="sxs-lookup"><span data-stu-id="050b5-167">The level of redundancy required for each workload depends on your business needs and factors into the overall cost of your application.</span></span> 
- <span data-ttu-id="050b5-168">**Проектируйте для масштабируемости.**</span><span class="sxs-lookup"><span data-stu-id="050b5-168">**Design for scalability.**</span></span> <span data-ttu-id="050b5-169">Облачные приложения должны поддерживать масштабирование для адаптации к изменениям в потреблении ресурсов.</span><span class="sxs-lookup"><span data-stu-id="050b5-169">A cloud application must be able to scale to accommodate changes in usage.</span></span> <span data-ttu-id="050b5-170">Начните разработку с отдельных компонентов и предусмотрите в приложении автоматическое реагирование на изменения нагрузки (при возможности).</span><span class="sxs-lookup"><span data-stu-id="050b5-170">Begin with discrete components, and design the application to respond automatically to load changes whenever possible.</span></span> <span data-ttu-id="050b5-171">Учитывайте ограничения масштабирования в ходе разработки, чтобы вы могли с легкостью расширить их в будущем.</span><span class="sxs-lookup"><span data-stu-id="050b5-171">Keep scaling limits in mind during design so you can expand easily in the future.</span></span>
- <span data-ttu-id="050b5-172">**Учтите требования подписки и служб.**</span><span class="sxs-lookup"><span data-stu-id="050b5-172">**Plan for subscription and service requirements.**</span></span> <span data-ttu-id="050b5-173">Вам могут потребоваться дополнительные подписки для подготовки достаточного объема ресурсов, чтобы вы могли удовлетворить требования бизнеса к хранению, подключениям, пропускной способности и т. д.</span><span class="sxs-lookup"><span data-stu-id="050b5-173">You might need additional subscriptions to provision enough resources to meet your business requirements for storage, connections, throughput, and more.</span></span> 
- <span data-ttu-id="050b5-174">**Используйте балансировку нагрузки для распределения запросов.**</span><span class="sxs-lookup"><span data-stu-id="050b5-174">**Use load-balancing to distribute requests.**</span></span> <span data-ttu-id="050b5-175">Балансировка нагрузки распределяет запросы вашего приложения между работоспособными экземплярами службы, удаляя неработоспособные экземпляры из ротации.</span><span class="sxs-lookup"><span data-stu-id="050b5-175">Load-balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span>
- <span data-ttu-id="050b5-176">**Внедрите стратегии обеспечения устойчивости.**</span><span class="sxs-lookup"><span data-stu-id="050b5-176">**Implement resiliency strategies.**</span></span> <span data-ttu-id="050b5-177">*Устойчивость* представляет собой возможность восстановления системы после сбоев и продолжения работы.</span><span class="sxs-lookup"><span data-stu-id="050b5-177">*Resiliency* is the ability of a system to recover from failures and continue to function.</span></span> <span data-ttu-id="050b5-178">Внедрите [конструктивные шаблоны обеспечения устойчивости](../patterns/category/resiliency.md), например для изолирования критически важных ресурсов, использования компенсирующих транзакций и выполнения асинхронных операций (при возможности).</span><span class="sxs-lookup"><span data-stu-id="050b5-178">Implement [resiliency design patterns](../patterns/category/resiliency.md), such as isolating critical resources, using compensating transactions, and performing asynchronous operations whenever possible.</span></span>
- <span data-ttu-id="050b5-179">**Внедрите требования к доступности в свой проект.**</span><span class="sxs-lookup"><span data-stu-id="050b5-179">**Build availability requirements into your design.**</span></span> <span data-ttu-id="050b5-180">*Доступность* — это доля времени, на протяжении которого система работает надлежащим образом.</span><span class="sxs-lookup"><span data-stu-id="050b5-180">*Availability* is the proportion of time your system is functional and working.</span></span> <span data-ttu-id="050b5-181">Примите меры, чтобы обеспечить соответствие уровня доступности приложения вашему соглашению об уровне обслуживания.</span><span class="sxs-lookup"><span data-stu-id="050b5-181">Take steps to ensure that application availability conforms to your service-level agreement.</span></span> <span data-ttu-id="050b5-182">Например, избегайте единых точек отказа, разделите рабочие нагрузки в зависимости от целевого уровня обслуживания и регулируйте потребление ресурсов пользователей, создающих большую нагрузку.</span><span class="sxs-lookup"><span data-stu-id="050b5-182">For example, avoid single points of failure, decompose workloads by service-level objective, and throttle high-volume users.</span></span>
- <span data-ttu-id="050b5-183">**Обеспечьте управление данными.**</span><span class="sxs-lookup"><span data-stu-id="050b5-183">**Manage your data.**</span></span> <span data-ttu-id="050b5-184">Подходы к хранению, резервному копированию и репликации данных имеют большое значение.</span><span class="sxs-lookup"><span data-stu-id="050b5-184">How you store, back up, and replicate data is critical.</span></span>

  - <span data-ttu-id="050b5-185">**Выберите методы репликации для данных приложения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-185">**Choose replication methods for your application data.**</span></span> <span data-ttu-id="050b5-186">Данные приложения хранятся в разных хранилищах данных и могут иметь разные требования к доступности.</span><span class="sxs-lookup"><span data-stu-id="050b5-186">Your application data is stored in various data stores and might have different availability requirements.</span></span> <span data-ttu-id="050b5-187">Оцените методы репликации и расположения для каждого типа хранилища данных, чтобы убедиться в том, что они отвечают вашим требованиям.</span><span class="sxs-lookup"><span data-stu-id="050b5-187">Evaluate the replication methods and locations for each type of data store to ensure that they satisfy your requirements.</span></span>
  - <span data-ttu-id="050b5-188">**Задокументируйте и протестируйте процессы отработки отказа и восстановления размещения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-188">**Document and test your failover and failback processes.**</span></span> <span data-ttu-id="050b5-189">Четко задокументируйте инструкции по отработке отказа в новое хранилище данных и регулярно тестируйте их на точность и простоту выполнения.</span><span class="sxs-lookup"><span data-stu-id="050b5-189">Clearly document instructions to fail over to a new data store, and test them regularly to make sure they are accurate and easy to follow.</span></span>
  - <span data-ttu-id="050b5-190">**Обеспечьте защиту данных.**</span><span class="sxs-lookup"><span data-stu-id="050b5-190">**Protect your data.**</span></span> <span data-ttu-id="050b5-191">Регулярно создавайте резервные копии данных и проверяйте их, а также убедитесь в том, что ни один пользователь не имеет доступа одновременно к рабочим данным и данным резервных копий.</span><span class="sxs-lookup"><span data-stu-id="050b5-191">Back up and validate data regularly, and make sure no single user account has access to both production and backup data.</span></span>
  - <span data-ttu-id="050b5-192">**Обеспечьте возможность восстановления данных.**</span><span class="sxs-lookup"><span data-stu-id="050b5-192">**Plan for data recovery.**</span></span> <span data-ttu-id="050b5-193">Убедитесь, что ваша стратегия резервного копирования и репликации позволяет восстановить данные за то время, которое удовлетворяет требованиям уровня обслуживания.</span><span class="sxs-lookup"><span data-stu-id="050b5-193">Make sure that your backup and replication strategy provides for data recovery times that meet your service-level requirements.</span></span> <span data-ttu-id="050b5-194">Учитывайте все типы данных, которые использует ваше приложение, в том числе ссылочные данные и базы данных.</span><span class="sxs-lookup"><span data-stu-id="050b5-194">Account for all types of data your application uses, including reference data and databases.</span></span>

<span data-ttu-id="050b5-195">Дополнительные сведения о создании архитектуры надежных приложений см. в статье [Architecting Azure applications for resiliency and availability](./architect.md) (Разработка архитектуры приложений Azure для максимальной устойчивости и доступности).</span><span class="sxs-lookup"><span data-stu-id="050b5-195">For more information about architecting reliable applications, see [Architecting Azure applications for resiliency and availability](./architect.md).</span></span>

## <a name="test-with-simulations-and-forced-failovers"></a><span data-ttu-id="050b5-196">Тестирование с моделированием и принудительными переходами на другой ресурс</span><span class="sxs-lookup"><span data-stu-id="050b5-196">Test with simulations and forced failovers</span></span>

<span data-ttu-id="050b5-197">Тестирование надежности требует оценки того, как сквозная рабочая нагрузка выполняется в условиях сбоя, которые возникают только периодически.</span><span class="sxs-lookup"><span data-stu-id="050b5-197">Testing for reliability requires measuring how the end-to-end workload performs under failure conditions that only occur intermittently.</span></span>

- <span data-ttu-id="050b5-198">**Выполните тестирование для распространенных сценариев сбоя, создавая реальные условия сбоя или моделируя их.**</span><span class="sxs-lookup"><span data-stu-id="050b5-198">**Test for common failure scenarios by triggering actual failures or by simulating them.**</span></span> <span data-ttu-id="050b5-199">Используйте проверки с внесением ошибок для тестирования распространенных сценариев (в том числе с несколькими сбоями одновременно) и времени восстановления.</span><span class="sxs-lookup"><span data-stu-id="050b5-199">Use fault injection testing to test common scenarios (including combinations of failures) and recovery time.</span></span>
- <span data-ttu-id="050b5-200">**Определите сбои, которые возникают только под нагрузкой.**</span><span class="sxs-lookup"><span data-stu-id="050b5-200">**Identify failures that occur only under load.**</span></span> <span data-ttu-id="050b5-201">Протестируйте на максимальную нагрузку, используя данные из рабочей среды или искусственные данные, максимально приближенные к данным из рабочей среды. Это поможет понять, как приложение работает в реальных условиях.</span><span class="sxs-lookup"><span data-stu-id="050b5-201">Test for peak load, using production data or synthetic data that is as close to production data as possible, to see how the application behaves under real-world conditions.</span></span>
- <span data-ttu-id="050b5-202">**Выполняйте отработку аварийного восстановления.**</span><span class="sxs-lookup"><span data-stu-id="050b5-202">**Run disaster recovery drills.**</span></span> <span data-ttu-id="050b5-203">Внедрите план аварийного восстановления и периодически тестируйте его.</span><span class="sxs-lookup"><span data-stu-id="050b5-203">Have a disaster recovery plan in place, and test it periodically to make sure it works.</span></span>
- <span data-ttu-id="050b5-204">**Выполните тестирование отработки отказа и восстановления размещения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-204">**Perform failover and failback testing.**</span></span> <span data-ttu-id="050b5-205">Убедитесь в том, что зависимые службы приложения выполняют отработку отказа и восстановление размещения в правильном порядке.</span><span class="sxs-lookup"><span data-stu-id="050b5-205">Ensure that your application's dependent services fail over and fail back in the correct order.</span></span>
- <span data-ttu-id="050b5-206">**Выполните тестирование с моделированием ситуаций.**</span><span class="sxs-lookup"><span data-stu-id="050b5-206">**Run simulation tests.**</span></span> <span data-ttu-id="050b5-207">Тестирование реальных сценариев поможет определить проблемы, требующие решения.</span><span class="sxs-lookup"><span data-stu-id="050b5-207">Testing real-life scenarios can highlight issues that need to be addressed.</span></span> <span data-ttu-id="050b5-208">Такие сценарии должны быть управляемыми и не прерывать операции бизнеса.</span><span class="sxs-lookup"><span data-stu-id="050b5-208">Scenarios should be controllable and non-disruptive to the business.</span></span> <span data-ttu-id="050b5-209">Проинформируйте руководство о наличии планов тестирования с моделированием ситуаций.</span><span class="sxs-lookup"><span data-stu-id="050b5-209">Inform management of simulation testing plans.</span></span>
- <span data-ttu-id="050b5-210">**Протестируйте проверки работоспособности.**</span><span class="sxs-lookup"><span data-stu-id="050b5-210">**Test health probes.**</span></span> <span data-ttu-id="050b5-211">Настройте проверки работоспособности для подсистем балансировки нагрузки и диспетчеров трафика, чтобы убедиться в надлежащей работе критически важных компонентов системы.</span><span class="sxs-lookup"><span data-stu-id="050b5-211">Configure health probes for load balancers and traffic managers to check critical system components.</span></span> <span data-ttu-id="050b5-212">Также протестируйте их на надлежащее реагирование.</span><span class="sxs-lookup"><span data-stu-id="050b5-212">Test them to make sure that they respond appropriately.</span></span>
- <span data-ttu-id="050b5-213">**Протестируйте системы мониторинга.**</span><span class="sxs-lookup"><span data-stu-id="050b5-213">**Test monitoring systems.**</span></span> <span data-ttu-id="050b5-214">Убедитесь, что системы мониторинга надлежащим образом предоставляют критически важную информацию и точные данные для определения потенциальных сбоев.</span><span class="sxs-lookup"><span data-stu-id="050b5-214">Be sure that monitoring systems are reliably reporting critical information and accurate data to help identify potential failures.</span></span>
- <span data-ttu-id="050b5-215">**Включите в сценарии тестирования сторонние службы.**</span><span class="sxs-lookup"><span data-stu-id="050b5-215">**Include third-party services in test scenarios.**</span></span> <span data-ttu-id="050b5-216">Протестируйте возможные точки отказа, возникающие из-за прерывания работы сторонних служб, а также возможность восстановления.</span><span class="sxs-lookup"><span data-stu-id="050b5-216">Test possible points of failure due to third-party service disruption, in addition to recovery.</span></span>

<span data-ttu-id="050b5-217">Тестирование — это итеративный процесс.</span><span class="sxs-lookup"><span data-stu-id="050b5-217">Testing is an iterative process.</span></span> <span data-ttu-id="050b5-218">Протестируйте приложение, оцените результат, проанализируйте и устраните все возникающие сбои и повторите процесс.</span><span class="sxs-lookup"><span data-stu-id="050b5-218">Test the application, measure the outcome, analyze and address any failures, and repeat the process.</span></span>

<span data-ttu-id="050b5-219">Дополнительные сведения о тестировании надежности приложений см. в статье [Testing Azure applications for resiliency and availability](./testing.md) (Тестирование устойчивости и доступности приложений Azure).</span><span class="sxs-lookup"><span data-stu-id="050b5-219">For more information about testing for application reliability, see [Testing Azure applications for resiliency and availability](./testing.md).</span></span>

## <a name="deploy-the-application-consistently"></a><span data-ttu-id="050b5-220">Согласованное развертывание приложения</span><span class="sxs-lookup"><span data-stu-id="050b5-220">Deploy the application consistently</span></span>

<span data-ttu-id="050b5-221">*Развертывание* включает подготовку ресурсов Azure, развертывание кода приложения и применение параметров конфигурации.</span><span class="sxs-lookup"><span data-stu-id="050b5-221">*Deployment* includes provisioning Azure resources, deploying application code, and applying configuration settings.</span></span> <span data-ttu-id="050b5-222">Обновление может включать все три задачи или только некоторые из них.</span><span class="sxs-lookup"><span data-stu-id="050b5-222">An update may involve all three tasks or a subset of them.</span></span>

<span data-ttu-id="050b5-223">После развертывания приложения в рабочей среде обновления могут стать возможными источниками ошибок.</span><span class="sxs-lookup"><span data-stu-id="050b5-223">After an application is deployed to production, updates are a possible source of errors.</span></span> <span data-ttu-id="050b5-224">Сведите к минимуму число ошибок, используя предсказуемые и повторяющиеся процессы развертывания.</span><span class="sxs-lookup"><span data-stu-id="050b5-224">Minimize errors with predictable and repeatable deployment processes.</span></span>

- <span data-ttu-id="050b5-225">**Автоматизируйте процесс развертывания приложения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-225">**Automate your application deployment process.**</span></span> <span data-ttu-id="050b5-226">При возможности автоматизируйте процессы.</span><span class="sxs-lookup"><span data-stu-id="050b5-226">Automate as many processes as possible.</span></span>
- <span data-ttu-id="050b5-227">**Разработайте процесс выпуска, максимально повышающий уровень доступности.**</span><span class="sxs-lookup"><span data-stu-id="050b5-227">**Design your release process to maximize availability.**</span></span> <span data-ttu-id="050b5-228">Если процесс выпуска требует, чтобы службы отключались во время развертывания, ваше приложение будет недоступно, пока службы не вернутся в сеть.</span><span class="sxs-lookup"><span data-stu-id="050b5-228">If your release process requires services to go offline during deployment, your application is unavailable until they come back online.</span></span> <span data-ttu-id="050b5-229">Используйте возможности промежуточной и рабочей среды для платформы.</span><span class="sxs-lookup"><span data-stu-id="050b5-229">Take advantage of platform staging and production features.</span></span> <span data-ttu-id="050b5-230">Применяйте "сине-зеленые" или ранние выпуски для развертывания обновлений, чтобы в случае сбоя вы могли быстро откатить обновление.</span><span class="sxs-lookup"><span data-stu-id="050b5-230">Use blue-green or canary releases to deploy updates, so if a failure occurs, you can quickly roll back the update.</span></span>
- <span data-ttu-id="050b5-231">**Составьте план отката развертывания.**</span><span class="sxs-lookup"><span data-stu-id="050b5-231">**Have a rollback plan for deployment.**</span></span> <span data-ttu-id="050b5-232">Создайте процесс отката, позволяющий вернуться к последней известной рабочей версии и минимизировать время простоя в случае сбоя развертывания.</span><span class="sxs-lookup"><span data-stu-id="050b5-232">Design a rollback process to return to a last known good version and to minimize downtime if a deployment fails.</span></span>
- <span data-ttu-id="050b5-233">**Ведите журнал развертываний и выполняйте их аудит.**</span><span class="sxs-lookup"><span data-stu-id="050b5-233">**Log and audit deployments.**</span></span> <span data-ttu-id="050b5-234">Если вы используете промежуточные методы развертывания, в рабочей среде будет существовать несколько версий вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="050b5-234">If you use staged deployment techniques, more than one version of your application is running in production.</span></span> <span data-ttu-id="050b5-235">Реализуйте надежную стратегию ведения журнала, чтобы получить как можно больше сведений о версии.</span><span class="sxs-lookup"><span data-stu-id="050b5-235">Implement a robust logging strategy to capture as much version-specific information as possible.</span></span>
- <span data-ttu-id="050b5-236">**Задокументируйте процесс выпуска приложения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-236">**Document the application release process.**</span></span> <span data-ttu-id="050b5-237">Четко определите и задокументируйте процесс выпуска и убедитесь, что он доступен для всей группы разработки.</span><span class="sxs-lookup"><span data-stu-id="050b5-237">Clearly define and document your release process, and ensure that it's available to the entire operations team.</span></span>

<span data-ttu-id="050b5-238">Дополнительные сведения о надежности и развертывании приложений см. в статье [Deploying Azure applications for resiliency and availability](./deploy.md) (Развертывание приложений Azure для максимальной устойчивости и доступности).</span><span class="sxs-lookup"><span data-stu-id="050b5-238">For more information about application reliability and deployment, see [Deploying Azure applications for resiliency and availability](./deploy.md).</span></span>

## <a name="monitor-application-health"></a><span data-ttu-id="050b5-239">Мониторинг работоспособности приложений</span><span class="sxs-lookup"><span data-stu-id="050b5-239">Monitor application health</span></span>

<span data-ttu-id="050b5-240">Внедрите рекомендации по мониторингу и созданию оповещений для приложения, чтобы вы могли обнаруживать сбои и уведомлять оператора о необходимости устранения проблемы.</span><span class="sxs-lookup"><span data-stu-id="050b5-240">Implement best practices for monitoring and alerts in your application so you can detect failures and alert an operator to fix them.</span></span>

- <span data-ttu-id="050b5-241">**Внедрите проверки работоспособности и функции проверки.**</span><span class="sxs-lookup"><span data-stu-id="050b5-241">**Implement health probes and check functions.**</span></span> <span data-ttu-id="050b5-242">Регулярно выполняйте их извне приложения, чтобы обнаруживать ситуации с ухудшением работоспособности и производительности приложения.</span><span class="sxs-lookup"><span data-stu-id="050b5-242">Run them regularly from outside the application to identify degradation of application health and performance.</span></span>
- <span data-ttu-id="050b5-243">**Проверяйте длительные рабочие процессы.**</span><span class="sxs-lookup"><span data-stu-id="050b5-243">**Check long-running workflows.**</span></span> <span data-ttu-id="050b5-244">Раннее обнаружение проблем позволяет устранить потребность в откате всего рабочего процесса или выполнении множества компенсирующих транзакций.</span><span class="sxs-lookup"><span data-stu-id="050b5-244">Catching issues early can minimize the need to roll back the entire workflow or to execute multiple compensating transactions.</span></span>
- <span data-ttu-id="050b5-245">**Обеспечьте ведение журналов приложений.**</span><span class="sxs-lookup"><span data-stu-id="050b5-245">**Maintain application logs.**</span></span>

  - <span data-ttu-id="050b5-246">Используйте возможности ведения журналов приложений в рабочей среде и на границе служб.</span><span class="sxs-lookup"><span data-stu-id="050b5-246">Log applications in production and at service boundaries.</span></span>
  - <span data-ttu-id="050b5-247">Применяйте семантическое и асинхронное ведение журналов.</span><span class="sxs-lookup"><span data-stu-id="050b5-247">Use semantic and asynchronous logging.</span></span>
  - <span data-ttu-id="050b5-248">Журналы приложений ведите отдельно от журналов аудита.</span><span class="sxs-lookup"><span data-stu-id="050b5-248">Separate application logs from audit logs.</span></span>

- <span data-ttu-id="050b5-249">**Ведите статистику удаленных вызовов и передавайте такие данные команде приложения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-249">**Measure remote call statistics, and share the data with the application team.**</span></span> <span data-ttu-id="050b5-250">Чтобы предоставить рабочей группе мгновенный доступ к данным о работоспособности приложения, создавайте сводку метрик удаленных вызовов, например задержки, пропускной способности и ошибок на уровне 99-го и 95-го процентилей.</span><span class="sxs-lookup"><span data-stu-id="050b5-250">To give your operations team an instantaneous view into application health, summarize remote call metrics, such as latency, throughput, and errors in the 99 and 95 percentiles.</span></span> <span data-ttu-id="050b5-251">Выполните статистический анализ показателей, чтобы выявить ошибки, возникающие на каждом процентиле.</span><span class="sxs-lookup"><span data-stu-id="050b5-251">Perform statistical analysis on the metrics to uncover errors that occur within each percentile.</span></span>
- <span data-ttu-id="050b5-252">**Отслеживайте временные исключения и повторения за соответствующий интервал времени.**</span><span class="sxs-lookup"><span data-stu-id="050b5-252">**Track transient exceptions and retries over an appropriate time frame.**</span></span> <span data-ttu-id="050b5-253">Тенденция увеличения исключений с течением времени указывает на то, что в службе возникла проблема и она может выйти из строя.</span><span class="sxs-lookup"><span data-stu-id="050b5-253">A trend of increasing exceptions over time indicates that the service is having an issue and may fail.</span></span>
- <span data-ttu-id="050b5-254">**Настройте систему раннего предупреждения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-254">**Set up an early warning system.**</span></span> <span data-ttu-id="050b5-255">Определите ключевые показатели эффективности (КПЭ) вашего приложения, такие как временные исключения и задержка удаленных вызовов, и установите соответствующие пороговые значения для каждого из них.</span><span class="sxs-lookup"><span data-stu-id="050b5-255">Identify the key performance indicators (KPIs) of an application's health, such as transient exceptions and remote call latency, and set appropriate threshold values for each of them.</span></span> <span data-ttu-id="050b5-256">Отправьте оповещение операциям при достижении порогового значения.</span><span class="sxs-lookup"><span data-stu-id="050b5-256">Send an alert to operations when the threshold value is reached.</span></span>
- <span data-ttu-id="050b5-257">**Выполняйте операции с учетом ограничений подписки Azure.**</span><span class="sxs-lookup"><span data-stu-id="050b5-257">**Operate within Azure subscription limits.**</span></span> <span data-ttu-id="050b5-258">В подписках Azure предусмотрены ограничения на определенные типы ресурсов, такие как количество групп ресурсов, ядер и учетных записей хранения.</span><span class="sxs-lookup"><span data-stu-id="050b5-258">Azure subscriptions have limits on certain resource types, such as the number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="050b5-259">Обеспечьте отслеживание потребления ресурсов по типам.</span><span class="sxs-lookup"><span data-stu-id="050b5-259">Watch your use of resource types.</span></span>
- <span data-ttu-id="050b5-260">**Отслеживайте сторонние службы.**</span><span class="sxs-lookup"><span data-stu-id="050b5-260">**Monitor third-party services.**</span></span> <span data-ttu-id="050b5-261">Ведите журнал вызовов и выполняйте его корреляцию с журналом работоспособности приложения и журналом диагностики с помощью уникального идентификатора.</span><span class="sxs-lookup"><span data-stu-id="050b5-261">Log your invocations and correlate them with your application's health and diagnostic logging using a unique identifier.</span></span>
- <span data-ttu-id="050b5-262">**Обучите нескольких операторов мониторингу приложения и выполнению шагов восстановления вручную.**</span><span class="sxs-lookup"><span data-stu-id="050b5-262">**Train multiple operators to monitor the application and to perform manual recovery steps.**</span></span> <span data-ttu-id="050b5-263">Обеспечьте постоянную доступность по меньшей мере одного обученного оператора.</span><span class="sxs-lookup"><span data-stu-id="050b5-263">Make sure there is always at least one trained operator active.</span></span>

<span data-ttu-id="050b5-264">Дополнительные сведения о мониторинге надежности приложения см. в статье [Monitoring Azure application health](./monitoring.md) (Мониторинг работоспособности приложения Azure).</span><span class="sxs-lookup"><span data-stu-id="050b5-264">For more information about monitoring for application reliability, see [Monitoring Azure application health](./monitoring.md).</span></span>

## <a name="respond-to-failures-and-disasters"></a><span data-ttu-id="050b5-265">Реагирование на сбои и аварии</span><span class="sxs-lookup"><span data-stu-id="050b5-265">Respond to failures and disasters</span></span>

<span data-ttu-id="050b5-266">Разработайте план восстановления и убедитесь, что он охватывает такие ситуации, как восстановление данных, сбои сети, сбои зависимых служб и прерывание работы служб во всем регионе.</span><span class="sxs-lookup"><span data-stu-id="050b5-266">Create a recovery plan, and make sure that it covers data restoration, network outages, dependent service failures, and region-wide service disruptions.</span></span> <span data-ttu-id="050b5-267">Учитывайте потребности виртуальных машин, хранилища, баз данных и других служб платформы Azure в своей стратегии восстановления.</span><span class="sxs-lookup"><span data-stu-id="050b5-267">Consider your VMs, storage, databases, and other Azure platform services in your recovery strategy.</span></span>

- <span data-ttu-id="050b5-268">**Подготовьтесь к взаимодействию со службой поддержки Azure.**</span><span class="sxs-lookup"><span data-stu-id="050b5-268">**Plan for Azure support interactions.**</span></span> <span data-ttu-id="050b5-269">До того как в этом возникнет необходимость, разработайте процедуру обращения в службу поддержки Azure.</span><span class="sxs-lookup"><span data-stu-id="050b5-269">Before the need arises, establish a process for contacting Azure support.</span></span>
- <span data-ttu-id="050b5-270">**Задокументируйте план аварийного восстановления и тестируйте его.**</span><span class="sxs-lookup"><span data-stu-id="050b5-270">**Document and test your disaster recovery plan.**</span></span> <span data-ttu-id="050b5-271">Разработайте план аварийного восстановления, в котором описывается влияние сбоев приложения на бизнес.</span><span class="sxs-lookup"><span data-stu-id="050b5-271">Write a disaster recovery plan that reflects the business impact of application failures.</span></span> <span data-ttu-id="050b5-272">В максимальной степени автоматизируйте процессы восстановления и задокументируйте все шаги, которые требуется выполнять вручную.</span><span class="sxs-lookup"><span data-stu-id="050b5-272">Automate the recovery process as much as possible, and document any manual steps.</span></span> <span data-ttu-id="050b5-273">Регулярно тестируйте процесс аварийного восстановления для проверки и улучшения плана.</span><span class="sxs-lookup"><span data-stu-id="050b5-273">Regularly test your disaster recovery process to validate and improve the plan.</span></span>
- <span data-ttu-id="050b5-274">**При необходимости выполняйте отработку отказа вручную.**</span><span class="sxs-lookup"><span data-stu-id="050b5-274">**Fail over manually when required.**</span></span> <span data-ttu-id="050b5-275">Некоторые системы не могут автоматически выполнять отработку отказа и требуют выполнения перехода на другой ресурс вручную.</span><span class="sxs-lookup"><span data-stu-id="050b5-275">Some systems can't fail over automatically and require a manual failover.</span></span> <span data-ttu-id="050b5-276">Если приложение переходит на другой ресурс в дополнительном регионе, выполните тест готовности к работе.</span><span class="sxs-lookup"><span data-stu-id="050b5-276">If an application fails over to a secondary region, perform an operational readiness test.</span></span> <span data-ttu-id="050b5-277">Убедитесь, что основной регион работоспособен и готов снова получать трафик, прежде чем восстанавливать размещение.</span><span class="sxs-lookup"><span data-stu-id="050b5-277">Verify that the primary region is healthy and ready to receive traffic again before failing back.</span></span> <span data-ttu-id="050b5-278">Определите, какие функции приложения работают ненадлежащим образом и как приложение оповещает пользователей о временных проблемах.</span><span class="sxs-lookup"><span data-stu-id="050b5-278">Determine what the reduced application functionality is and how the app informs users of temporary problems.</span></span>
- <span data-ttu-id="050b5-279">**Подготовьтесь к сбоям приложения.**</span><span class="sxs-lookup"><span data-stu-id="050b5-279">**Prepare for application failure.**</span></span> <span data-ttu-id="050b5-280">Подготовьтесь к самым различным сбоям, в том числе к сбоям, которые обрабатываются автоматически, приводят к ограничению функциональности и становятся причиной недоступности приложения.</span><span class="sxs-lookup"><span data-stu-id="050b5-280">Prepare for a range of failures, including faults that are handled automatically, those that result in reduced functionality, and those that cause the application to become unavailable.</span></span> <span data-ttu-id="050b5-281">Приложение должно оповещать пользователей о временных проблемах.</span><span class="sxs-lookup"><span data-stu-id="050b5-281">The application should inform users of temporary issues.</span></span>
- <span data-ttu-id="050b5-282">**Выполняйте восстановление после повреждения данных.**</span><span class="sxs-lookup"><span data-stu-id="050b5-282">**Recover from data corruption.**</span></span> <span data-ttu-id="050b5-283">Если сбой произошел в хранилище данных, выполните проверку на отсутствие несогласованности данных, когда хранилище снова станет доступным, особенно если данные были реплицированы.</span><span class="sxs-lookup"><span data-stu-id="050b5-283">If a failure happens in a data store, check for data inconsistencies when the store becomes available again, especially if the data was replicated.</span></span> <span data-ttu-id="050b5-284">Восстановите поврежденные данные из резервной копии.</span><span class="sxs-lookup"><span data-stu-id="050b5-284">Restore corrupt data from a backup.</span></span>
- <span data-ttu-id="050b5-285">**Выполняйте восстановление после сбоя сети.**</span><span class="sxs-lookup"><span data-stu-id="050b5-285">**Recover from a network outage.**</span></span> <span data-ttu-id="050b5-286">В некоторых ситуациях вы сможете использовать кэшированные данные для локальной работы с ограниченной функциональностью приложения.</span><span class="sxs-lookup"><span data-stu-id="050b5-286">You might be able to use cached data to run locally with reduced application functionality.</span></span> <span data-ttu-id="050b5-287">В противном случае рассматривайте их как простой приложения или выполните отработку отказа на другой регион.</span><span class="sxs-lookup"><span data-stu-id="050b5-287">If not, consider application downtime or fail over to another region.</span></span> <span data-ttu-id="050b5-288">Сохраняйте данные в другом расположении до восстановления подключения.</span><span class="sxs-lookup"><span data-stu-id="050b5-288">Store your data in an alternate location until connectivity is restored.</span></span>
- <span data-ttu-id="050b5-289">**Выполняйте восстановление после сбоя зависимой службы.**</span><span class="sxs-lookup"><span data-stu-id="050b5-289">**Recover from a dependent service failure.**</span></span> <span data-ttu-id="050b5-290">Определите, какие функции доступны и как приложение должно реагировать.</span><span class="sxs-lookup"><span data-stu-id="050b5-290">Determine which functionality is still available and how the application should respond.</span></span>
- <span data-ttu-id="050b5-291">**Выполняйте восстановления после прерывания работы служб во всем регионе.**</span><span class="sxs-lookup"><span data-stu-id="050b5-291">**Recover from a region-wide service disruption.**</span></span> <span data-ttu-id="050b5-292">Прерывания работы служб во всем регионе — это редкость, но вы должны иметь стратегию и для них, особенно в случае с критически важными приложениями.</span><span class="sxs-lookup"><span data-stu-id="050b5-292">Region-wide service disruptions are uncommon, but you should have a strategy to address them, especially for critical applications.</span></span> <span data-ttu-id="050b5-293">В некоторых ситуациях вы сможете повторно развернуть приложение в другом регионе или перераспределить трафик.</span><span class="sxs-lookup"><span data-stu-id="050b5-293">You might be able to redeploy the application to another region or redistribute traffic.</span></span>

<span data-ttu-id="050b5-294">Дополнительные сведения о реагировании на сбои и об аварийном восстановлении см. в статье [Failure and disaster recovery for Azure applications](./disaster-recovery.md) (Восстановление после сбоев и аварийное восстановление для приложений Azure).</span><span class="sxs-lookup"><span data-stu-id="050b5-294">For more information about responding to failures and disaster recovery, see [Failure and disaster recovery for Azure applications](./disaster-recovery.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="050b5-295">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="050b5-295">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="050b5-296">Формулирование требований для устойчивых приложений</span><span class="sxs-lookup"><span data-stu-id="050b5-296">Develop requirements for resilient applications</span></span>](./requirements.md)
