---
title: Разработка архитектуры приложения Azure для обеспечения устойчивости и доступности
description: Встраивать в приложения Azure устойчивости и доступности
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: ee4bb5b4a85e48fe0ff017297c31823c93a48f04
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646666"
---
# <a name="architecting-azure-applications-for-resiliency-and-availability"></a><span data-ttu-id="41ca8-103">Разработка архитектуры приложения Azure для обеспечения устойчивости и доступности</span><span class="sxs-lookup"><span data-stu-id="41ca8-103">Architecting Azure applications for resiliency and availability</span></span>

<span data-ttu-id="41ca8-104">Вы разработали требования для приложения, следующим шагом после построения устойчивости и доступности в него.</span><span class="sxs-lookup"><span data-stu-id="41ca8-104">After you've developed the requirements for your application, the next step is to build resiliency and availability into it.</span></span> <span data-ttu-id="41ca8-105">Эти качества не может быть добавлен в конце &mdash; их необходимо разработать в архитектуру.</span><span class="sxs-lookup"><span data-stu-id="41ca8-105">These qualities can't be added at the end &mdash; you must design them into the architecture.</span></span>

## <a name="conduct-a-failure-mode-analysis"></a><span data-ttu-id="41ca8-106">Провести анализ режима сбоя</span><span class="sxs-lookup"><span data-stu-id="41ca8-106">Conduct a failure mode analysis</span></span>

<span data-ttu-id="41ca8-107">*Анализ режима сбоя* (FMA) выполняет сборку устойчивости в системе путем определения возможных точек сбоя и определения того, как приложение реагирует на эти сбои.</span><span class="sxs-lookup"><span data-stu-id="41ca8-107">*Failure mode analysis* (FMA) builds resiliency into a system by identifying possible failure points and defining how the application responds to those failures.</span></span> <span data-ttu-id="41ca8-108">FMA должна быть частью этапов архитектуры и разработки, поэтому восстановление после сбоя встроена в систему с самого начала.</span><span class="sxs-lookup"><span data-stu-id="41ca8-108">The FMA should be part of the architecture and design phases, so failure recovery is built into the system from the beginning.</span></span> <span data-ttu-id="41ca8-109">Цели FMA должны:</span><span class="sxs-lookup"><span data-stu-id="41ca8-109">The goals of an FMA are to:</span></span>

- <span data-ttu-id="41ca8-110">Определите типы сбоев, которые могут возникнуть в приложении и как приложение обнаруживает эти сбои.</span><span class="sxs-lookup"><span data-stu-id="41ca8-110">Determine what types of failures an application might experience and how the application detects those failures.</span></span>
- <span data-ttu-id="41ca8-111">Записать потенциальное влияние каждого типа сбоя и определить реакцию приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-111">Capture the potential effects of each type of failure and determine how the app responds.</span></span>
- <span data-ttu-id="41ca8-112">Планирование ведения журналов и мониторинга сбоя и определите стратегии восстановления.</span><span class="sxs-lookup"><span data-stu-id="41ca8-112">Plan for logging and monitoring the failure and identify recovery strategies.</span></span>

<span data-ttu-id="41ca8-113">Ниже приведены некоторые примеры режимов сбоя и стратегии обнаружения для точки конкретный сбой &mdash; вызов внешней веб-службы:</span><span class="sxs-lookup"><span data-stu-id="41ca8-113">Here are some examples of failure modes and detection strategies for a specific failure point &mdash; a call to an external web service:</span></span>

| <span data-ttu-id="41ca8-114">Режим сбоя</span><span class="sxs-lookup"><span data-stu-id="41ca8-114">Failure mode</span></span>           | <span data-ttu-id="41ca8-115">Стратегия обнаружения</span><span class="sxs-lookup"><span data-stu-id="41ca8-115">Detection strategy</span></span>           |
|------------------------|------------------------------|
| <span data-ttu-id="41ca8-116">Ресурс недоступен</span><span class="sxs-lookup"><span data-stu-id="41ca8-116">Service is unavailable</span></span> | <span data-ttu-id="41ca8-117">HTTP 5xx</span><span class="sxs-lookup"><span data-stu-id="41ca8-117">HTTP 5xx</span></span>                     |
| <span data-ttu-id="41ca8-118">Регулирование</span><span class="sxs-lookup"><span data-stu-id="41ca8-118">Throttling</span></span>             | <span data-ttu-id="41ca8-119">HTTP 429 (слишком много запросов)</span><span class="sxs-lookup"><span data-stu-id="41ca8-119">HTTP 429 (Too Many Requests)</span></span> |
| <span data-ttu-id="41ca8-120">Authentication</span><span class="sxs-lookup"><span data-stu-id="41ca8-120">Authentication</span></span>         | <span data-ttu-id="41ca8-121">HTTP 401 (недостаточно прав)</span><span class="sxs-lookup"><span data-stu-id="41ca8-121">HTTP 401 (Unauthorized)</span></span>      |
| <span data-ttu-id="41ca8-122">Низкое время отклика</span><span class="sxs-lookup"><span data-stu-id="41ca8-122">Slow response</span></span>          | <span data-ttu-id="41ca8-123">Истекло время ожидания для запроса</span><span class="sxs-lookup"><span data-stu-id="41ca8-123">Request times out</span></span>            |

<span data-ttu-id="41ca8-124">Дополнительные сведения о процессе FMA, определенные рекомендации для Azure, см. в разделе [анализ режима сбоя](../resiliency/failure-mode-analysis.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-124">For more information about the FMA process, with specific recommendations for Azure, see [Failure mode analysis](../resiliency/failure-mode-analysis.md).</span></span>

## <a name="plan-for-redundancy"></a><span data-ttu-id="41ca8-125">План для обеспечения избыточности</span><span class="sxs-lookup"><span data-stu-id="41ca8-125">Plan for redundancy</span></span>

<span data-ttu-id="41ca8-126">Область влияния сбоев различаются.</span><span class="sxs-lookup"><span data-stu-id="41ca8-126">Failures vary in scope of impact.</span></span> <span data-ttu-id="41ca8-127">Некоторые аппаратные сбои, такие как неисправный диск, влияющие на одном хост-компьютере.</span><span class="sxs-lookup"><span data-stu-id="41ca8-127">Some hardware failures, such as a failed disk, affect a single host machine.</span></span> <span data-ttu-id="41ca8-128">Сбой сетевого коммутатора может повлиять на всю серверную стойку.</span><span class="sxs-lookup"><span data-stu-id="41ca8-128">A failed network switch could affect an entire server rack.</span></span> <span data-ttu-id="41ca8-129">Менее Типичные сбои, такие как отключение питания, нарушить работу всего центра обработки данных.</span><span class="sxs-lookup"><span data-stu-id="41ca8-129">Less common failures, such as loss of power, disrupt a whole datacenter.</span></span> <span data-ttu-id="41ca8-130">В редких случаях весь регион становится недоступным.</span><span class="sxs-lookup"><span data-stu-id="41ca8-130">Rarely, an entire region becomes unavailable.</span></span>

<span data-ttu-id="41ca8-131">Избыточность — один из способов обеспечить устойчивость приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-131">Redundancy is one way to make an application resilient.</span></span> <span data-ttu-id="41ca8-132">Уровень избыточности зависит от бизнес-требований &mdash; не каждому приложению требуется избыточность по регионам для защиты от регионального сбоя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-132">The level of redundancy depends on your business requirements &mdash; not every application needs redundancy across regions to guard against a regional outage.</span></span> <span data-ttu-id="41ca8-133">Как правило обеспечивает компромисс между избыточность и надежность при сопоставимых выше стоимость и сложность.</span><span class="sxs-lookup"><span data-stu-id="41ca8-133">In general, there's a tradeoff between greater redundancy and reliability versus higher costs and complexity.</span></span>

### <a name="review-azure-redundancy-features"></a><span data-ttu-id="41ca8-134">Ознакомьтесь с функциями избыточности Azure</span><span class="sxs-lookup"><span data-stu-id="41ca8-134">Review Azure redundancy features</span></span>

<span data-ttu-id="41ca8-135">Azure имеет ряд функций резервирования на каждом уровне сбоя, из отдельных виртуальных машин (ВМ) для всего региона.</span><span class="sxs-lookup"><span data-stu-id="41ca8-135">Azure has a number of redundancy features at every level of failure, from an individual virtual machine (VM) to an entire region.</span></span>

- <span data-ttu-id="41ca8-136">**Одиночные виртуальные машины** имеют [времени работы соглашение об уровне обслуживания (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) , предоставляемые Azure.</span><span class="sxs-lookup"><span data-stu-id="41ca8-136">**Single VMs** have an [uptime service level agreement (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) provided by Azure.</span></span> <span data-ttu-id="41ca8-137">(Виртуальной Машины необходимо использовать хранилище класса premium для всех дисков операционной системы и дисков данных.) Вы можете использовать дополнительные возможности в рамках этого соглашения, запуская несколько виртуальных машин. Но отдельная виртуальная машина также может быть достаточно надежна для некоторых рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="41ca8-137">(The VM must use premium storage for all operating system disks and data disks.) Although you can get a higher SLA by running two or more VMs, a single VM may be reliable enough for some workloads.</span></span> <span data-ttu-id="41ca8-138">Для рабочих нагрузок в рабочей среде рекомендуем использовать две или более виртуальных машин, чтобы обеспечить избыточность.</span><span class="sxs-lookup"><span data-stu-id="41ca8-138">For production workloads, however, we recommend using two or more VMs for redundancy.</span></span>
- <span data-ttu-id="41ca8-139">**Группы доступности** защиты от локальных сбоев оборудования, например диск или сетевой коммутатор сбоя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-139">**Availability sets** protect against localized hardware failures, such as a disk or network switch failing.</span></span> <span data-ttu-id="41ca8-140">Виртуальные машины в наборе доступности распределены между до трех *домены сбоя*.</span><span class="sxs-lookup"><span data-stu-id="41ca8-140">VMs in an availability set are distributed across up to three *fault domains*.</span></span> <span data-ttu-id="41ca8-141">Домены сбоя определяет группу виртуальных машин, которые совместно используют общий источник питания и сетевой коммутатор.</span><span class="sxs-lookup"><span data-stu-id="41ca8-141">A fault domains defines a group of VMs that share a common power source and network switch.</span></span> <span data-ttu-id="41ca8-142">Если сбой оборудования затрагивает один домен сбоя, сетевой трафик направляется к виртуальным машинам в других доменах сбоя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-142">If a hardware failure affects one fault domain, network traffic is routed to VMs in the other fault domains.</span></span> <span data-ttu-id="41ca8-143">Дополнительные сведения о группах доступности см. в разделе [Управление доступностью виртуальных машин Windows в Azure](/azure/virtual-machines/windows/manage-availability).</span><span class="sxs-lookup"><span data-stu-id="41ca8-143">For more information about availability sets, see [Manage the availability of Windows virtual machines in Azure](/azure/virtual-machines/windows/manage-availability).</span></span>
- <span data-ttu-id="41ca8-144">**Зоны доступности** являются физически отдельные зоны в регионе Azure.</span><span class="sxs-lookup"><span data-stu-id="41ca8-144">**Availability Zones** are physically separate zones within an Azure region.</span></span> <span data-ttu-id="41ca8-145">У каждой зоны доступности есть отдельный источник питания, сеть и система охлаждения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-145">Each Availability Zone has a distinct power source, network, and cooling.</span></span> <span data-ttu-id="41ca8-146">Развертывание виртуальных машин в зонах доступности помогает защитить приложение от сбоев на уровне центра обработки данных.</span><span class="sxs-lookup"><span data-stu-id="41ca8-146">Deploying VMs across Availability Zones helps to protect an application against datacenter-wide failures.</span></span> <span data-ttu-id="41ca8-147">Не все регионы поддерживают Зоны доступности.</span><span class="sxs-lookup"><span data-stu-id="41ca8-147">Not all regions support Availability Zones.</span></span> <span data-ttu-id="41ca8-148">Список поддерживаемых регионов и служб см. в статье [Что такое Зоны доступности в Azure](/azure/availability-zones/az-overview).</span><span class="sxs-lookup"><span data-stu-id="41ca8-148">For a list of supported regions and services, see [What are Availability Zones in Azure?](/azure/availability-zones/az-overview).</span></span>

    <span data-ttu-id="41ca8-149">Если вы планируете использовать зоны доступности в развертывании, сначала убедитесь, что архитектура приложения и базы кода поддерживает такую конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="41ca8-149">If you plan to use Availability Zones in your deployment, first validate that your application architecture and codebase support this configuration.</span></span> <span data-ttu-id="41ca8-150">Если вы развертываете коммерческое программное обеспечение, обратитесь к поставщику программного обеспечения и адекватно протестировать до развертывания в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="41ca8-150">If you deploy commercial software, consult with the software vendor and test adequately before deploying into production.</span></span> <span data-ttu-id="41ca8-151">Приложение должно поддерживать состояние и предотвратить потерю данных во время сбоя в зоне.</span><span class="sxs-lookup"><span data-stu-id="41ca8-151">An application must maintain state and prevent loss of data during an outage within the configured zone.</span></span> <span data-ttu-id="41ca8-152">Приложение должно поддерживать выполнение в инфраструктуре эластичных БД и распределенные без компонентов инфраструктуры, жестко.</span><span class="sxs-lookup"><span data-stu-id="41ca8-152">The application must support running in an elastic and distributed infrastructure with no hard-coded infrastructure components.</span></span>
- <span data-ttu-id="41ca8-153">**Azure Site Recovery** должен реплицирует виртуальные машины Azure в другой регион Azure для обеспечения непрерывности бизнеса (BC) и аварийное восстановление (DR).</span><span class="sxs-lookup"><span data-stu-id="41ca8-153">**Azure Site Recovery** replicates Azure Virtual Machines to another Azure region for business continuity (BC) and disaster recovery (DR) needs.</span></span> <span data-ttu-id="41ca8-154">Можно проводить периодические аварийного восстановления для обеспечения соответствия нормативными требованиями.</span><span class="sxs-lookup"><span data-stu-id="41ca8-154">You can conduct periodic DR drills to ensure that you meet the compliance needs.</span></span> <span data-ttu-id="41ca8-155">Виртуальной Машины реплицируются с указанными параметрами в выбранном регионе, позволяя восстанавливать приложения в случае сбоев в исходном регионе.</span><span class="sxs-lookup"><span data-stu-id="41ca8-155">The VM is replicated with the specified settings to the selected region so you can recover your applications in the event of outages in the source region.</span></span> <span data-ttu-id="41ca8-156">Дополнительные сведения см. в разделе [Настройка аварийного восстановления, в дополнительный регион Azure для виртуальной Машины Azure](/azure/site-recovery/azure-to-azure-quickstart/).</span><span class="sxs-lookup"><span data-stu-id="41ca8-156">For more information, see [Set up disaster recovery to a secondary Azure region for an Azure VM](/azure/site-recovery/azure-to-azure-quickstart/).</span></span>

    <span data-ttu-id="41ca8-157">Убедитесь, что во время тестирования, *целевое время восстановления* (RTO) и *целевая точка восстановления* (RPO) соответствии с вашими потребностями.</span><span class="sxs-lookup"><span data-stu-id="41ca8-157">During testing, verify that the *recovery time objective* (RTO) and *recovery point objective* (RPO) meet your needs.</span></span> <span data-ttu-id="41ca8-158">RTO — это максимальное время, приложение будет недоступным после инцидента, и это максимальная продолжительность потери данных во время аварии.</span><span class="sxs-lookup"><span data-stu-id="41ca8-158">RTO is the maximum time an application is unavailable after an incident, and RPO is the maximum duration of data loss during a disaster.</span></span>
- <span data-ttu-id="41ca8-159">**Пары регионов** создаются с помощью диспетчера трафика Azure для распределения Интернет-трафика в разных регионах, защищая приложение от регионального сбоя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-159">**Paired regions** are created using Azure Traffic Manager to distribute Internet traffic to different regions, protecting an application against a regional outage.</span></span> <span data-ttu-id="41ca8-160">Каждый регион Azure сопряжен с другим регионом.</span><span class="sxs-lookup"><span data-stu-id="41ca8-160">Each Azure region is paired with another region.</span></span> <span data-ttu-id="41ca8-161">Вместе эти регионах, образуют [ *региональные пары*](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="41ca8-161">Together, these regions form a [*regional pair*](/azure/best-practices-availability-paired-regions).</span></span> <span data-ttu-id="41ca8-162">В соответствии с требованиями к местонахождению данных налогообложением и юрисдикцией применения, региональные пары находятся в той же географической области (за исключением Южной Бразилии).</span><span class="sxs-lookup"><span data-stu-id="41ca8-162">To meet data residency requirements for tax and law enforcement jurisdiction purposes, regional pairs are located within the same geography (with the exception of Brazil South).</span></span>

    <span data-ttu-id="41ca8-163">Чтобы повысить устойчивость приложения, Azure выполняет сериализацию обновлений платформы (плановое обслуживание) для каждой пары регион, так что только один парный регион обновляется одновременно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-163">To improve application resiliency, Azure serializes platform updates (planned maintenance) across each region pair, so only one paired region is updated at a time.</span></span>
- <span data-ttu-id="41ca8-164">При создании нескольких регионах приложения учитывает, задержка сети между регионами больше, чем в пределах региона.</span><span class="sxs-lookup"><span data-stu-id="41ca8-164">When you design a multiregion application, take into account that network latency across regions is higher than within a region.</span></span> <span data-ttu-id="41ca8-165">Например при репликации базы данных для отработки отказа, используйте синхронную репликацию данных в пределах региона, но асинхронных данных репликации между регионами.</span><span class="sxs-lookup"><span data-stu-id="41ca8-165">For example, if you replicate a database to enable failover, use synchronous data replication within a region but asynchronous data replication across regions.</span></span>

<span data-ttu-id="41ca8-166">В следующей таблице сравниваются факторов избыточности между несколькими стратегии обеспечения отказоустойчивости:</span><span class="sxs-lookup"><span data-stu-id="41ca8-166">The following table compares the redundancy factors across several resiliency strategies:</span></span>

| &nbsp; | <span data-ttu-id="41ca8-167">Группа доступности</span><span class="sxs-lookup"><span data-stu-id="41ca8-167">Availability set</span></span> | <span data-ttu-id="41ca8-168">Зона доступности</span><span class="sxs-lookup"><span data-stu-id="41ca8-168">Availability Zone</span></span> | <span data-ttu-id="41ca8-169">Azure Site Recovery / Парный регион</span><span class="sxs-lookup"><span data-stu-id="41ca8-169">Azure Site Recovery/Paired region</span></span> |
|--------|------------------|-------------------|-----------------------------------|
| <span data-ttu-id="41ca8-170">Область сбоя</span><span class="sxs-lookup"><span data-stu-id="41ca8-170">Scope of failure</span></span> | <span data-ttu-id="41ca8-171">Стойка</span><span class="sxs-lookup"><span data-stu-id="41ca8-171">Rack</span></span>                  | <span data-ttu-id="41ca8-172">Центр обработки данных</span><span class="sxs-lookup"><span data-stu-id="41ca8-172">Datacenter</span></span>               | <span data-ttu-id="41ca8-173">Регион</span><span class="sxs-lookup"><span data-stu-id="41ca8-173">Region</span></span>                               |
| <span data-ttu-id="41ca8-174">Маршрутизация запросов</span><span class="sxs-lookup"><span data-stu-id="41ca8-174">Request routing</span></span>  | <span data-ttu-id="41ca8-175">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="41ca8-175">Azure Load Balancer</span></span>   | <span data-ttu-id="41ca8-176">Распределение нагрузки между зонами</span><span class="sxs-lookup"><span data-stu-id="41ca8-176">Cross-zone Load Balancer</span></span> | <span data-ttu-id="41ca8-177">Azure Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="41ca8-177">Azure Traffic Manager</span></span>                |
| <span data-ttu-id="41ca8-178">Задержки сети</span><span class="sxs-lookup"><span data-stu-id="41ca8-178">Network latency</span></span>  | <span data-ttu-id="41ca8-179">Очень низкий</span><span class="sxs-lookup"><span data-stu-id="41ca8-179">Very low</span></span>              | <span data-ttu-id="41ca8-180">Низкий</span><span class="sxs-lookup"><span data-stu-id="41ca8-180">Low</span></span>                      | <span data-ttu-id="41ca8-181">От среднего до высокого</span><span class="sxs-lookup"><span data-stu-id="41ca8-181">Mid to high</span></span>                          |
| <span data-ttu-id="41ca8-182">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="41ca8-182">Virtual network</span></span>  | <span data-ttu-id="41ca8-183">Виртуальная сеть Azure</span><span class="sxs-lookup"><span data-stu-id="41ca8-183">Azure Virtual Network</span></span> | <span data-ttu-id="41ca8-184">Виртуальная сеть Azure</span><span class="sxs-lookup"><span data-stu-id="41ca8-184">Azure Virtual Network</span></span>          | <span data-ttu-id="41ca8-185">Пиринг между виртуальными сетями между регионами</span><span class="sxs-lookup"><span data-stu-id="41ca8-185">Cross-region Virtual Network peering</span></span> |

### <a name="complete-azure-redundancy-tasks"></a><span data-ttu-id="41ca8-186">Задачи завершения избыточности Azure</span><span class="sxs-lookup"><span data-stu-id="41ca8-186">Complete Azure redundancy tasks</span></span>

<span data-ttu-id="41ca8-187">Используйте следующие задачи в соответствии с требованиями избыточности:</span><span class="sxs-lookup"><span data-stu-id="41ca8-187">Use the following tasks to meet redundancy requirements:</span></span>

- <span data-ttu-id="41ca8-188">**Развертывайте несколько экземпляров служб.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-188">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="41ca8-189">Если приложение зависит от одного экземпляра службы, создается единая точка отказа.</span><span class="sxs-lookup"><span data-stu-id="41ca8-189">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="41ca8-190">Подготовка нескольких экземпляров улучшает как отказоустойчивость, так и масштабируемость.</span><span class="sxs-lookup"><span data-stu-id="41ca8-190">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="41ca8-191">Для [службы приложений Azure](/azure/app-service/app-service-value-prop-what-is/) выберите [план служб приложений](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/), где есть несколько экземпляров.</span><span class="sxs-lookup"><span data-stu-id="41ca8-191">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="41ca8-192">Для [виртуальных машинах](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), убедитесь, что архитектуры имеет несколько виртуальных Машин и что каждая виртуальная машина входит в [доступности](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span><span class="sxs-lookup"><span data-stu-id="41ca8-192">For [Azure Virtual Machines](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your architecture has more than one VM and that each VM is included in an [availability set](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span></span>

- <span data-ttu-id="41ca8-193">**Репликация виртуальных машин с помощью Site Recovery.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-193">**Replicate VMs using Azure Site Recovery.**</span></span> <span data-ttu-id="41ca8-194">При репликации виртуальных машин Azure с помощью [Site Recovery](/azure/site-recovery/), все диски виртуальной Машины постоянно реплицируются асинхронно к целевой области.</span><span class="sxs-lookup"><span data-stu-id="41ca8-194">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="41ca8-195">Точки восстановления создаются каждые несколько минут, предоставляя целевой точки восстановления от нескольких минут.</span><span class="sxs-lookup"><span data-stu-id="41ca8-195">The recovery points are created every few minutes, giving an RPO on the order of minutes.</span></span>

- <span data-ttu-id="41ca8-196">**Рассмотрите возможность развертывания приложения в нескольких регионах.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-196">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="41ca8-197">Если приложение развертывается в одном регионе и регион становится недоступным, приложение также будет недоступна.</span><span class="sxs-lookup"><span data-stu-id="41ca8-197">If your application is deployed to a single region, and the region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="41ca8-198">Это может быть неприемлемо в соответствии с условиями SLA вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-198">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="41ca8-199">Если это так, рассмотрите возможность развертывания приложения и служб в нескольких регионах.</span><span class="sxs-lookup"><span data-stu-id="41ca8-199">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="41ca8-200">Можно использовать в нескольких регионах развертывания *активных* или *активный / пассивный* конфигурации.</span><span class="sxs-lookup"><span data-stu-id="41ca8-200">A multiregion deployment can use an *active-active* or *active-passive* configuration.</span></span> <span data-ttu-id="41ca8-201">Активный-активный распределяет запросы между несколькими регионами active.</span><span class="sxs-lookup"><span data-stu-id="41ca8-201">An active-active configuration distributes requests across multiple active regions.</span></span> <span data-ttu-id="41ca8-202">Активно пассивной конфигурации остается «горячего» резервирования экземпляров в дополнительном регионе, а не отправлять трафик существует случая основного региона.</span><span class="sxs-lookup"><span data-stu-id="41ca8-202">An active-passive configuration keeps warm instances in the secondary region, but doesn't send traffic there unless the primary region fails.</span></span> <span data-ttu-id="41ca8-203">Для развертываний в нескольких регионах рекомендуется развертывать среди парных регионов, описанных выше.</span><span class="sxs-lookup"><span data-stu-id="41ca8-203">For multiregion deployments, we recommend deploying to paired regions, described above.</span></span> <span data-ttu-id="41ca8-204">Дополнительные сведения см. в руководстве по обеспечению [непрерывности бизнес-процессов и аварийного восстановления в парах регионов Azure](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="41ca8-204">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

- <span data-ttu-id="41ca8-205">**Используйте диспетчер трафика Azure для маршрутизации трафика вашего приложения в разные регионы.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-205">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span> <span data-ttu-id="41ca8-206">[Диспетчер трафика Azure](/azure/traffic-manager/traffic-manager-overview/) выполняет балансировку нагрузки на уровне DNS и направляет трафик в разные регионы на основе [маршрутизацию трафика](/azure/traffic-manager/traffic-manager-routing-methods/) метода и работоспособности конечных точек вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-206">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) performs load-balancing at the DNS level and routes traffic to different regions based on the [traffic routing](/azure/traffic-manager/traffic-manager-routing-methods/) method and the health of your application's endpoints.</span></span> <span data-ttu-id="41ca8-207">Без диспетчера трафика вы ограничены одним регионом для развертывания, который ограничивает масштаб, увеличивается задержка для некоторых пользователей и возникает простой приложений, в случае нарушения работы службы на уровне региона.</span><span class="sxs-lookup"><span data-stu-id="41ca8-207">Without Traffic Manager, you are limited to a single region for your deployment, which constrains scale, increases latency for some users, and causes application downtime, in the case of a region-wide service disruption.</span></span>

- <span data-ttu-id="41ca8-208">**Настройка шлюза приложений Azure для использования нескольких экземпляров.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-208">**Configure Azure Application Gateway to use multiple instances.**</span></span> <span data-ttu-id="41ca8-209">В зависимости от требований приложения [шлюз приложений Azure](/azure/application-gateway/application-gateway-introduction/) может лучше подойти для распространения запросов в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="41ca8-209">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="41ca8-210">Тем не менее отдельные экземпляры службы шлюза приложений не гарантируются соглашением SLA, так что вполне возможно, что приложение может завершиться с ошибкой, если происходит сбой экземпляра шлюза приложений.</span><span class="sxs-lookup"><span data-stu-id="41ca8-210">However, single instances of the Application Gateway service are not guaranteed by an SLA, so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="41ca8-211">Подготовить несколько экземпляров среднего или большего размера для обеспечения доступности службы в соответствии с условиями [соглашение об уровне ОБСЛУЖИВАНИЯ для приложения шлюза](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="41ca8-211">Provision more than one medium or larger instance to guarantee availability of the service under the terms of the [Application Gateway SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span></span>

## <a name="design-for-scalability"></a><span data-ttu-id="41ca8-212">Проектирование для масштабируемости</span><span class="sxs-lookup"><span data-stu-id="41ca8-212">Design for scalability</span></span>

<span data-ttu-id="41ca8-213">*Масштабируемость* — это способность системы для обработки повышенной нагрузки и является одним из [основных аспектов качества программного обеспечения](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-213">*Scalability* is the ability of a system to handle increased load and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="41ca8-214">Следующие задачи масштабируемости на этапе проектирования архитектуры.</span><span class="sxs-lookup"><span data-stu-id="41ca8-214">Scalability tasks during the architecting phase include:</span></span>

- <span data-ttu-id="41ca8-215">**Рабочие нагрузки секции.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-215">**Partition workloads.**</span></span> <span data-ttu-id="41ca8-216">Проектируйте части процесса так, чтобы они были дискретными и делимыми.</span><span class="sxs-lookup"><span data-stu-id="41ca8-216">Design parts of the process to be discrete and decomposable.</span></span> <span data-ttu-id="41ca8-217">Свести к минимуму размер каждой части.</span><span class="sxs-lookup"><span data-stu-id="41ca8-217">Minimize the size of each part.</span></span> <span data-ttu-id="41ca8-218">Это позволяет распространять способом, который расширяет возможности использования каждой вычислительной единицы части компонента.</span><span class="sxs-lookup"><span data-stu-id="41ca8-218">This allows the component parts to be distributed in a way that maximizes use of each compute unit.</span></span> <span data-ttu-id="41ca8-219">Это также облегчает масштабирование приложения путем добавления экземпляров определенных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-219">It also makes it easier to scale the application by adding instances of specific resources.</span></span> <span data-ttu-id="41ca8-220">Для сложных областей применения рекомендуем применять [архитектуру микрослужб](../guide/architecture-styles/microservices.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-220">For complex domains, consider adopting a [microservices architecture](../guide/architecture-styles/microservices.md).</span></span>
- <span data-ttu-id="41ca8-221">**Структура для масштабирования.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-221">**Design for scaling.**</span></span> <span data-ttu-id="41ca8-222">Масштабирование позволяет приложениям реагировать на переменную нагрузку путем увеличения и уменьшения числа экземпляров ролей, очередей и других служб.</span><span class="sxs-lookup"><span data-stu-id="41ca8-222">Scaling allows applications to react to variable load by increasing and decreasing the number of instances of roles, queues, and other services.</span></span> <span data-ttu-id="41ca8-223">Тем не менее приложение должно быть спроектировано с учетом этого.</span><span class="sxs-lookup"><span data-stu-id="41ca8-223">However, the application must be designed with this in mind.</span></span> <span data-ttu-id="41ca8-224">Например приложения и службы, используемые в нем должен быть без отслеживания состояния, чтобы разрешить запросы можно было направлять в любой экземпляр.</span><span class="sxs-lookup"><span data-stu-id="41ca8-224">For example, the application and the services it uses must be stateless to allow requests to be routed to any instance.</span></span> <span data-ttu-id="41ca8-225">Наличие служб без отслеживания состояния также означает, что добавление или удаление экземпляра не оказывает негативного влияния текущих пользователей.</span><span class="sxs-lookup"><span data-stu-id="41ca8-225">Having stateless services also means that adding or removing an instance does not adversely impact current users.</span></span>
- <span data-ttu-id="41ca8-226">**Планирование роста сети с использованием единиц масштабирования.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-226">**Plan for growth with scale units.**</span></span> <span data-ttu-id="41ca8-227">Для каждого ресурса знать верхний предел масштабирования и использовать сегментирование или разбиение превысить эти ограничения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-227">For each resource, know the upper scaling limits, and use sharding or decomposition to go beyond those limits.</span></span> <span data-ttu-id="41ca8-228">Проектируйте приложение таким образом, чтобы его легко было масштабировать, путем добавляя одну или нескольких единиц масштабирования.</span><span class="sxs-lookup"><span data-stu-id="41ca8-228">Design the application so that it's easily scaled by adding one or more scale units.</span></span> <span data-ttu-id="41ca8-229">Определите единицы масштабирования для системы с точки зрения четко определенных наборов ресурсов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-229">Determine the scale units for the system in terms of well-defined sets of resources.</span></span> <span data-ttu-id="41ca8-230">Это делает Применение операций масштабирования проще и снизит отрицательное влияние, из-за отсутствия ресурсов в определенной части системы в целом.</span><span class="sxs-lookup"><span data-stu-id="41ca8-230">This makes applying scale-out operations easier and less prone to negative impact caused by a lack of resources in some part of the overall system.</span></span> <span data-ttu-id="41ca8-231">Например, добавление *X* число интерфейсные виртуальные машины могут потребовать *Y* число дополнительных очередей и *Z* число учетных записей хранения для обработки дополнительной рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-231">For example, adding *X* number of front-end VMs might require *Y* number of additional queues and *Z* number of storage accounts to handle the additional workload.</span></span> <span data-ttu-id="41ca8-232">Поэтому единица масштабирования может состоять из *X* экземпляров виртуальных Машин, *Y* очереди, и *Z* учетные записи хранения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-232">So a scale unit could consist of *X* VM instances, *Y* queues, and *Z* storage accounts.</span></span>
- <span data-ttu-id="41ca8-233">**Избегайте привязки клиента.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-233">**Avoid client affinity.**</span></span> <span data-ttu-id="41ca8-234">Если это возможно, убедитесь в том, что приложение не требует сходства.</span><span class="sxs-lookup"><span data-stu-id="41ca8-234">Where possible, ensure that the application doesn't require affinity.</span></span> <span data-ttu-id="41ca8-235">Затем можно было передавать запросы к любому экземпляру, и количество экземпляров не имеет значения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-235">Requests can then be routed to any instance, and the number of instances is irrelevant.</span></span> <span data-ttu-id="41ca8-236">Этим также устраняются дополнительные издержки на хранение, получение и обслуживание информации о состоянии для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-236">This also avoids the overhead of storing, retrieving, and maintaining state information for each user.</span></span>
- <span data-ttu-id="41ca8-237">**Преимущества функций автомасштабирования платформы.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-237">**Take advantage of platform autoscaling features.**</span></span> <span data-ttu-id="41ca8-238">Используйте встроенные возможности автомасштабирования по возможности вместо пользовательских или сторонних механизмов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-238">Use built-in autoscaling features when possible, rather than custom or third-party mechanisms.</span></span> <span data-ttu-id="41ca8-239">Используйте запланированного правила масштабирования, где это возможно, чтобы убедиться, что ресурсы доступны без задержки запуска, но добавить реактивное автоматическое масштабирование в правила, где уместно, справляться с неожиданными изменениями нагрузки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-239">Use scheduled scaling rules, where possible, to ensure that resources are available without a startup delay, but add reactive autoscaling to the rules, where appropriate, to cope with unexpected changes in demand.</span></span> <span data-ttu-id="41ca8-240">Дополнительные сведения см. в разделе [руководство по автоматическому масштабированию](../best-practices/auto-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-240">For more information, see [Autoscaling guidance](../best-practices/auto-scaling.md).</span></span>  

  <span data-ttu-id="41ca8-241">Если приложение не настроено автоматическое увеличении нагрузки масштабирование, существует возможность, что приложения служб завершится ошибкой, если при перегрузке запросы пользователей.</span><span class="sxs-lookup"><span data-stu-id="41ca8-241">If your application isn't configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="41ca8-242">Дополнительные сведения см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="41ca8-242">For more information, see the following articles:</span></span>

  - <span data-ttu-id="41ca8-243">Общие сведения: [Контрольный список для обеспечения масштабируемости](../checklist/scalability.md)</span><span class="sxs-lookup"><span data-stu-id="41ca8-243">General: [Scalability checklist](../checklist/scalability.md)</span></span>
  - <span data-ttu-id="41ca8-244">Служба приложений Azure: [Масштабирование числа экземпляров вручную или автоматически](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="41ca8-244">Azure App Service: [Scale instance count manually or automatically](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span></span>
  - <span data-ttu-id="41ca8-245">Облачные службы: [Как выполнять автоматическое масштабирование облачной службы](/azure/cloud-services/cloud-services-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="41ca8-245">Cloud Services: [How to autoscale a Cloud Service](/azure/cloud-services/cloud-services-how-to-scale/)</span></span>
  - <span data-ttu-id="41ca8-246">Виртуальные машины: [Автоматическое масштабирование и виртуальной машины для масштабируемых наборов](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span><span class="sxs-lookup"><span data-stu-id="41ca8-246">Virtual machines: [Automatic scaling and virtual machine scale sets](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span></span>

- <span data-ttu-id="41ca8-247">**Выгрузите ресурсоемкие задачи Процессора и ввода-ВЫВОДА как фоновых задач.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-247">**Offload intensive CPU/IO tasks as background tasks.**</span></span> <span data-ttu-id="41ca8-248">Если запрос к службе предположительно займет много времени для запуска или может требуют значительных ресурсов, выгрузите обработку в отдельную задачу.</span><span class="sxs-lookup"><span data-stu-id="41ca8-248">If a request to a service is expected to take a long time to run or may absorb considerable resources, offload the processing to a separate task.</span></span> <span data-ttu-id="41ca8-249">Использование фоновых заданий для выполнения этих задач.</span><span class="sxs-lookup"><span data-stu-id="41ca8-249">Use background jobs to execute these tasks.</span></span> <span data-ttu-id="41ca8-250">Эта стратегия позволяет службе продолжать получать запросы и продолжает отвечать на запросы.</span><span class="sxs-lookup"><span data-stu-id="41ca8-250">This strategy enables the service to continue receiving further requests and to remain responsive.</span></span> <span data-ttu-id="41ca8-251">Дополнительные сведения см. в [руководстве по фоновым заданиям](../best-practices/background-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-251">For more information, see [Background jobs guidance](../best-practices/background-jobs.md).</span></span>
- <span data-ttu-id="41ca8-252">**Распространите рабочую нагрузку для фоновых задач.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-252">**Distribute the workload for background tasks.**</span></span> <span data-ttu-id="41ca8-253">При наличии многих фоновых задач или задачи, требуют значительного времени и ресурсов, распределяйте нагрузку среди нескольких вычислительных единиц.</span><span class="sxs-lookup"><span data-stu-id="41ca8-253">If there are many background tasks or if the tasks require considerable time or resources, spread the work across multiple compute units.</span></span> <span data-ttu-id="41ca8-254">Одно из возможных решений — [шаблон конкурирующих потребителей](../patterns/competing-consumers.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-254">For one possible solution, see the [Competing Consumers pattern](../patterns/competing-consumers.md).</span></span>
- <span data-ttu-id="41ca8-255">**Вы можете перейти к *неразделяемая* архитектуры.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-255">**Consider moving toward a *shared-nothing* architecture.**</span></span> <span data-ttu-id="41ca8-256">Эта архитектура использует независимые, самостоятельные узлы, не имеющие единых точек конфликтов (например общих служб или хранилища).</span><span class="sxs-lookup"><span data-stu-id="41ca8-256">This architecture uses independent, self-sufficient nodes that have no single point of contention (such as shared services or storage).</span></span> <span data-ttu-id="41ca8-257">Теоретически такую систему можно масштабировать практически бесконечно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-257">In theory, such a system can scale almost indefinitely.</span></span> <span data-ttu-id="41ca8-258">Несмотря на то, что обычно подход полностью неразделяемая нецелесообразно, он может предоставлять структурные возможности для повышения масштабируемости.</span><span class="sxs-lookup"><span data-stu-id="41ca8-258">Although a fully shared-nothing approach is usually not practical, it may provide opportunities to design for better scalability.</span></span> <span data-ttu-id="41ca8-259">Хорошими примерами перехода к неразделяемая архитектура включают секционирование данных и отказ от использования сходства сеансов на сервере состояния и клиента.</span><span class="sxs-lookup"><span data-stu-id="41ca8-259">Good examples of moving toward a shared-nothing architecture include partitioning data and avoiding the use of server-side session state and client affinity.</span></span>
- <span data-ttu-id="41ca8-260">**Создайте требования к хранилищу приложения, чтобы он попадал в целевые показатели масштабируемости и производительности службы хранилища Azure.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-260">**Design your application's storage requirements to fall within Azure Storage scalability and performance targets.**</span></span> <span data-ttu-id="41ca8-261">Хранилище Azure предназначено для работы в рамках предопределенные целевые показатели масштабируемости и производительности, поэтому Разрабатывайте приложение для использования хранилища в рамках этих показателей.</span><span class="sxs-lookup"><span data-stu-id="41ca8-261">Azure Storage is designed to function within predefined scalability and performance targets, so design your application to use storage within those targets.</span></span> <span data-ttu-id="41ca8-262">При превышении этих целевых объектов, приложение будет отрегулировать хранилища.</span><span class="sxs-lookup"><span data-stu-id="41ca8-262">If you exceed these targets, your application will experience storage throttling.</span></span> <span data-ttu-id="41ca8-263">Чтобы избежать этого, подготовьте дополнительные учетные записи хранения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-263">To avoid throttling, provision additional storage accounts.</span></span> <span data-ttu-id="41ca8-264">Если вам приходится сталкиваться ограничение учетной записи хранения, подготовьте дополнительные подписки Azure и затем подготовьте дополнительные учетные записи хранения существует.</span><span class="sxs-lookup"><span data-stu-id="41ca8-264">If you run up against the storage account limit, provision additional Azure subscriptions and then provision additional storage accounts there.</span></span> <span data-ttu-id="41ca8-265">Дополнительные сведения см. в статье [Целевые показатели масштабируемости и производительности службы хранилища Azure](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="41ca8-265">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/).</span></span>
- <span data-ttu-id="41ca8-266">**Выберите правильный размер виртуальной машины для своего приложения.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-266">**Select the right VM size for your application.**</span></span> <span data-ttu-id="41ca8-267">Измеряют фактическое ЦП, памяти, диска и ввода-вывода ваших виртуальных машин в рабочей среде и убедитесь, что выбранный вами размер виртуальной Машины достаточно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-267">Measure the actual CPU, memory, disk, and I/O of your VMs in production, and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="41ca8-268">В противном случае ваше приложение может испытывать проблемы с пропускной способностью при достижении ограничений в виртуальных машинах.</span><span class="sxs-lookup"><span data-stu-id="41ca8-268">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="41ca8-269">Размеры виртуальных машин подробно описываются в статье [Размеры виртуальных машин Windows в Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="41ca8-269">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="determine-subscription-and-service-requirements"></a><span data-ttu-id="41ca8-270">Определение требований к подписке и службы</span><span class="sxs-lookup"><span data-stu-id="41ca8-270">Determine subscription and service requirements</span></span>

<span data-ttu-id="41ca8-271">Выберите подходящую подписку и функции службы для вашего приложения при работе с этих задач:</span><span class="sxs-lookup"><span data-stu-id="41ca8-271">Choose the right subscription and service features for your app by working through these tasks:</span></span>

- <span data-ttu-id="41ca8-272">**Оценка требований к [подписки Azure и ограничения службы](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="41ca8-272">**Evaluate requirements against [Azure subscription and service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="41ca8-273">*Подписки Azure* предусмотрены ограничения на определенные типы ресурсов, таких как количество групп ресурсов, ядер и учетные записи хранения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-273">*Azure subscriptions* have limits on certain resource types, such as number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="41ca8-274">Если ваши требования к приложениям превышают лимиты подписки Azure, создайте еще одну подписку Azure и подготовьте в ней достаточное количество ресурсов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-274">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span> <span data-ttu-id="41ca8-275">Отдельные службы Azure имеют ограничения на потребление, например ограничения на объем хранения, пропускную способность, количество подключений, запросы в секунду и другие показатели.</span><span class="sxs-lookup"><span data-stu-id="41ca8-275">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="41ca8-276">Приложение не будет работать, если предпринимается попытка использовать ресурсы за пределами этих ограничений, приводит к службе регулирования и возможному простою для затронутых пользователей.</span><span class="sxs-lookup"><span data-stu-id="41ca8-276">Your application will fail if it attempts to use resources beyond these limits, resulting in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="41ca8-277">В зависимости от конкретной службы и требований приложения, вы можете избежать этих ограничений, увеличив масштаб (например, выбора другого уровня цен) или масштабирование (например, добавление новых экземпляров).</span><span class="sxs-lookup"><span data-stu-id="41ca8-277">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (such as adding new instances).</span></span>
- <span data-ttu-id="41ca8-278">**Определите, сколько учетных записей хранения, вам потребуется.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-278">**Determine how many storage accounts you need.**</span></span> <span data-ttu-id="41ca8-279">Azure позволяет определенное количество учетных записей для подписки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-279">Azure allows a specific number of storage accounts per subscription.</span></span> <span data-ttu-id="41ca8-280">Дополнительные сведения см. в статье [Подписка Azure, границы, квоты и ограничения службы](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="41ca8-280">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>
- <span data-ttu-id="41ca8-281">**Выберите соответствующий уровень служб для базы данных Azure SQL.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-281">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="41ca8-282">Если приложение использует базу данных SQL Azure, выберите соответствующий уровень служб.</span><span class="sxs-lookup"><span data-stu-id="41ca8-282">If your application uses Azure SQL Database, select the appropriate service tier.</span></span> <span data-ttu-id="41ca8-283">Если уровень не может обрабатывать необходимых единиц (DTU) для транзакций базы данных приложения, использование данных будет регулироваться.</span><span class="sxs-lookup"><span data-stu-id="41ca8-283">If the tier cannot handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="41ca8-284">Дополнительные сведения о выборе соответствующего плана служб см. в описании [уровней служб Базы данных SQL и возможностей, доступных на каждом уровне службы](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="41ca8-284">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>
- <span data-ttu-id="41ca8-285">**Подготовка достаточного числа единиц запроса (ЕЗ) в Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="41ca8-285">**Provision sufficient request units (RUs) in Azure Cosmos DB**.</span></span> <span data-ttu-id="41ca8-286">При использовании Azure Cosmos DB вы платите на почасовой основе за пропускную способность, которую предоставляете, и за ресурсы хранения, которое вы потребляете.</span><span class="sxs-lookup"><span data-stu-id="41ca8-286">With Azure Cosmos DB, you pay for the throughput you provision and the storage you consume on an hourly basis.</span></span> <span data-ttu-id="41ca8-287">Стоимость всех операций базы данных нормализуется как единиц запроса, который абстрагирует системные ресурсы, такие как ЦП, операций ввода-ВЫВОДА и памяти.</span><span class="sxs-lookup"><span data-stu-id="41ca8-287">The cost of all database operations is normalized as RUs, which abstracts the system resources such as CPU, IOPS, and memory.</span></span> <span data-ttu-id="41ca8-288">См. дополнительные сведения о [единицах запросов в базе данных Azure Cosmos DB](/azure/cosmos-db/request-units).</span><span class="sxs-lookup"><span data-stu-id="41ca8-288">For more information, see [Request Units in Azure Cosmos DB](/azure/cosmos-db/request-units).</span></span>

## <a name="load-balance-as-needed"></a><span data-ttu-id="41ca8-289">Балансировка нагрузки при необходимости</span><span class="sxs-lookup"><span data-stu-id="41ca8-289">Load-balance as needed</span></span>

<span data-ttu-id="41ca8-290">Правильное балансировки нагрузки позволяет выполнить требования к доступности и свести к минимуму затраты, связанные с доступностью.</span><span class="sxs-lookup"><span data-stu-id="41ca8-290">Proper load-balancing allows you to meet availability requirements and to minimize costs associated with availability.</span></span>

- <span data-ttu-id="41ca8-291">**Использовать балансировку нагрузки для распределения запросов.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-291">**Use load-balancing to distribute requests.**</span></span> <span data-ttu-id="41ca8-292">Балансировка нагрузки приложения распределяет запросы между работоспособными экземплярами службы, удаляя неработоспособные экземпляры из ротации.</span><span class="sxs-lookup"><span data-stu-id="41ca8-292">Load-balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="41ca8-293">Если служба использует службу приложений Azure или облачных служб Azure, он уже с балансировкой нагрузки для вас.</span><span class="sxs-lookup"><span data-stu-id="41ca8-293">If your service uses Azure App Service or Azure Cloud Services, it's already load-balanced for you.</span></span> <span data-ttu-id="41ca8-294">Тем не менее если приложение использует виртуальные машины Azure, необходимо подготовить подсистему балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-294">However, if your application uses Azure VMs, you need to provision a load-balancer.</span></span> <span data-ttu-id="41ca8-295">Дополнительные сведения см. в разделе [что такое Подсистема балансировки нагрузки Azure?](/azure/load-balancer/load-balancer-overview/)</span><span class="sxs-lookup"><span data-stu-id="41ca8-295">For more information, see [What is Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span></span>

  <span data-ttu-id="41ca8-296">Azure Load Balancer можно использовать для следующих целей:</span><span class="sxs-lookup"><span data-stu-id="41ca8-296">You can use Azure Load Balancer to:</span></span>

  - <span data-ttu-id="41ca8-297">Балансировка нагрузки входящего Интернет-трафика к виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="41ca8-297">Load-balance incoming Internet traffic to your VMs.</span></span> <span data-ttu-id="41ca8-298">Эта конфигурация называется [ *общедоступной подсистемы балансировки нагрузки*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="41ca8-298">This configuration is known as a [*public Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span></span>
  - <span data-ttu-id="41ca8-299">Балансировка нагрузки трафика между виртуальными машинами внутри виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="41ca8-299">Load-balance traffic across VMs inside a virtual network.</span></span> <span data-ttu-id="41ca8-300">Кроме того, можно подключиться к внешнему интерфейсу балансировщика нагрузки из локальной сети в гибридном сценарии.</span><span class="sxs-lookup"><span data-stu-id="41ca8-300">You can also reach a Load Balancer front end from an on-premises network in a hybrid scenario.</span></span> <span data-ttu-id="41ca8-301">Оба сценария используйте конфигурацию, которая называется [ *внутренней подсистемы балансировки нагрузки*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="41ca8-301">Both scenarios use a configuration that is known as an [*internal Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span></span>
  - <span data-ttu-id="41ca8-302">Перенаправление трафика к порту детализированные отдельных виртуальных машин с помощью правила входящих сетевых адресов (NAT).</span><span class="sxs-lookup"><span data-stu-id="41ca8-302">Port forward traffic to an itemized port on specific VMs with inbound network address translation (NAT) rules.</span></span>
  - <span data-ttu-id="41ca8-303">Обеспечение [исходящего подключения](/azure/load-balancer/load-balancer-outbound-connections) для виртуальных машин в виртуальной сети путем использования общедоступной подсистемы балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-303">Provide [outbound connectivity](/azure/load-balancer/load-balancer-outbound-connections) for VMs inside your virtual network by using a public Load Balancer.</span></span>

- <span data-ttu-id="41ca8-304">**Балансируйте регионах с помощью диспетчера трафика, например диспетчер трафика Azure.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-304">**Balance loads across regions with a traffic manager, such as Azure Traffic Manager.**</span></span> <span data-ttu-id="41ca8-305">Для балансировки нагрузки трафика между регионами требуется решение по управлению трафиком и Azure предоставляет [диспетчера трафика](https://azure.microsoft.com/services/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="41ca8-305">To load-balance traffic across regions requires a traffic management solution, and Azure provides [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="41ca8-306">Можно также воспользоваться преимуществами услуги третьих лиц, которые предоставляют похожие возможности управления трафиком.</span><span class="sxs-lookup"><span data-stu-id="41ca8-306">You can also take advantage of third-party services that provide similar traffic-management capabilities.</span></span>

## <a name="implement-resiliency-strategies"></a><span data-ttu-id="41ca8-307">Реализация стратегий обеспечения отказоустойчивости</span><span class="sxs-lookup"><span data-stu-id="41ca8-307">Implement resiliency strategies</span></span>

<span data-ttu-id="41ca8-308">В этом разделе описаны некоторые распространенные стратегии устойчивости.</span><span class="sxs-lookup"><span data-stu-id="41ca8-308">This section describes some common resiliency strategies.</span></span> <span data-ttu-id="41ca8-309">Большинство из этих стратегий не ограничены определенной технологией.</span><span class="sxs-lookup"><span data-stu-id="41ca8-309">Most of these strategies are not limited to a particular technology.</span></span> <span data-ttu-id="41ca8-310">Описания суммировать общие идею каждой технологии и содержатся ссылки на дополнительные материалы.</span><span class="sxs-lookup"><span data-stu-id="41ca8-310">The descriptions summarize the general idea behind each technique and include links to further reading.</span></span>

- <span data-ttu-id="41ca8-311">**Применяйте шаблоны отказоустойчивости** для удаленных операций, где уместно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-311">**Implement resiliency patterns** for remote operations, where appropriate.</span></span> <span data-ttu-id="41ca8-312">Если ваше приложение зависит от связи между удаленными службами, выполните [шаблоны разработки](../patterns/category/resiliency.md) для устранения кратковременных сбоев.</span><span class="sxs-lookup"><span data-stu-id="41ca8-312">If your application depends on communication between remote services, follow [design patterns](../patterns/category/resiliency.md) for dealing with transient failures.</span></span>

- <span data-ttu-id="41ca8-313">**Повторите временные сбои.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-313">**Retry transient failures.**</span></span> <span data-ttu-id="41ca8-314">Это может быть вызвана кратковременной потерей подключения к сети, подключение к удаленной базе данных или истечения времени ожидания при служба занята.</span><span class="sxs-lookup"><span data-stu-id="41ca8-314">These can be caused by momentary loss of network connectivity, a dropped database connection, or a timeout when a service is busy.</span></span> <span data-ttu-id="41ca8-315">Часто временного сбоя можно разрешить путем повторения запроса.</span><span class="sxs-lookup"><span data-stu-id="41ca8-315">Often, a transient failure can be resolved by retrying the request.</span></span>

  - <span data-ttu-id="41ca8-316">Для многих служб Azure пакет средств разработки программного обеспечения клиента (SDK) реализует автоматические повторы способом, который является прозрачным для вызывающего объекта.</span><span class="sxs-lookup"><span data-stu-id="41ca8-316">For many Azure services, the client software development kit (SDK) implements automatic retries in a way that is transparent to the caller.</span></span> <span data-ttu-id="41ca8-317">См. в разделе [по повторным попыткам для определенных служб](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-317">See [Retry guidance for specific services](../best-practices/retry-service-specific.md).</span></span>
  - <span data-ttu-id="41ca8-318">Или реализовать [шаблон повторных попыток](../patterns/retry.md) для приложения прозрачно обработки ожидаемых временных сбоев при попытке подключиться к службе или сетевому ресурсу.</span><span class="sxs-lookup"><span data-stu-id="41ca8-318">Or implement the [Retry pattern](../patterns/retry.md) to help the application handle anticipated, temporary failures transparently when it tries to connect to a service or network resource.</span></span>

- <span data-ttu-id="41ca8-319">**Использование автоматического выключения** для обработки ошибок, может занять Разное количество времени, чтобы исправить.</span><span class="sxs-lookup"><span data-stu-id="41ca8-319">**Use a circuit breaker** to handle faults that might take a variable amount of time to fix.</span></span> <span data-ttu-id="41ca8-320">[Шаблон автоматического выключения](../patterns/circuit-breaker.md) можно запретить приложению несколько раз пытается операцию, которая, скорее всего, переход на другой.</span><span class="sxs-lookup"><span data-stu-id="41ca8-320">The [Circuit Breaker pattern](../patterns/circuit-breaker.md) can prevent an application from repeatedly trying an operation that is likely to fail.</span></span> <span data-ttu-id="41ca8-321">Прерыватель завершает вызовы службы и отслеживает количество последних сбоев.</span><span class="sxs-lookup"><span data-stu-id="41ca8-321">The circuit breaker wraps calls to a service and tracks the number of recent failures.</span></span> <span data-ttu-id="41ca8-322">Если число сбоев превышает пороговое значение, прерыватель начинает возвращать код ошибки, не вызывая службу.</span><span class="sxs-lookup"><span data-stu-id="41ca8-322">If the failure count exceeds a threshold, the circuit breaker starts returning an error code without calling the service.</span></span> <span data-ttu-id="41ca8-323">Это дает время для восстановления службы и помогает избежать каскадных сбоев.</span><span class="sxs-lookup"><span data-stu-id="41ca8-323">This gives the service time to recover and helps avoid cascading failures.</span></span>
- <span data-ttu-id="41ca8-324">**Изоляция критических ресурсов.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-324">**Isolate critical resources.**</span></span> <span data-ttu-id="41ca8-325">Сбои в одной подсистеме могут иногда иметь каскадный эффект, сбоям в других частях приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-325">Failures in one subsystem can sometimes cascade, resulting in failures in other parts of the application.</span></span> <span data-ttu-id="41ca8-326">Это может произойти, если сбой запрещает ресурсы, такие как потоки или сокеты освобожден, что приводит к исчерпанию ресурсов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-326">This can happen if a failure prevents resources such as threads or sockets from being freed, leading to resource exhaustion.</span></span> <span data-ttu-id="41ca8-327">Чтобы избежать этого, можно разделить систему на изолированные группы, чтобы сбой в одном разделе не переводит работы всей системы.</span><span class="sxs-lookup"><span data-stu-id="41ca8-327">To avoid this, you can partition a system into isolated groups so that a failure in one partition does not bring down the entire system.</span></span>

    <span data-ttu-id="41ca8-328">Ниже приведены некоторые примеры использования этой технологии, иногда называют [шаблон отсеков](../patterns/bulkhead.md):</span><span class="sxs-lookup"><span data-stu-id="41ca8-328">Here are some examples of this technique, which is sometimes called the [Bulkhead pattern](../patterns/bulkhead.md):</span></span>

  - <span data-ttu-id="41ca8-329">Разделение базы данных (например, с клиента) и назначьте отдельный пул экземпляров веб-сервера для каждой секции.</span><span class="sxs-lookup"><span data-stu-id="41ca8-329">Partition a database (for example, by tenant), and assign a separate pool of web server instances for each partition.</span></span>
  - <span data-ttu-id="41ca8-330">Используйте отдельные пулы потоков для изоляции вызовов для разных служб.</span><span class="sxs-lookup"><span data-stu-id="41ca8-330">Use separate thread pools to isolate calls to different services.</span></span> <span data-ttu-id="41ca8-331">Это помогает предотвратить каскадные сбои, если одна из служб завершила работу с ошибкой.</span><span class="sxs-lookup"><span data-stu-id="41ca8-331">This helps to prevent cascading failures if one of the services fails.</span></span> <span data-ttu-id="41ca8-332">Например, см. в статье Netflix [библиотеке Hystrix](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span><span class="sxs-lookup"><span data-stu-id="41ca8-332">For an example, see the Netflix [Hystrix library](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span></span>
  - <span data-ttu-id="41ca8-333">Используйте [контейнеры](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) для ограничения ресурсов, доступных для конкретной подсистемы.</span><span class="sxs-lookup"><span data-stu-id="41ca8-333">Use [containers](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) to limit the resources available to a particular subsystem.</span></span>

      ![Схема шаблона отсеков](_images/bulkhead.png)

- <span data-ttu-id="41ca8-335">**Применить [ *компенсирующие транзакции*](../patterns/compensating-transaction.md)**.</span><span class="sxs-lookup"><span data-stu-id="41ca8-335">**Apply [*compensating transactions*](../patterns/compensating-transaction.md)**.</span></span> <span data-ttu-id="41ca8-336">Компенсирующая транзакции — это транзакция, которая отменяет эффект другой завершенной транзакции.</span><span class="sxs-lookup"><span data-stu-id="41ca8-336">A compensating transaction is a transaction that undoes the effects of another completed transaction.</span></span> <span data-ttu-id="41ca8-337">В распределенной системе может быть сложно добиться сильной согласованности транзакций.</span><span class="sxs-lookup"><span data-stu-id="41ca8-337">In a distributed system, it can be difficult to achieve strong transactional consistency.</span></span> <span data-ttu-id="41ca8-338">Компенсирующие транзакции помогают достижения согласованности, используя ряд небольших отдельных транзакций, которые можно отменить на каждом этапе.</span><span class="sxs-lookup"><span data-stu-id="41ca8-338">Compensating transactions help to achieve consistency by using a series of smaller, individual transactions that can be undone at each step.</span></span> <span data-ttu-id="41ca8-339">Например, чтобы забронировать поездку, клиент может зарезервировать автомобиль, гостиничный номер и билет на самолет.</span><span class="sxs-lookup"><span data-stu-id="41ca8-339">For example, to book a trip, a customer might reserve a car, a hotel room, and a flight.</span></span> <span data-ttu-id="41ca8-340">При сбое одного из этих шагов происходит сбой всей операции.</span><span class="sxs-lookup"><span data-stu-id="41ca8-340">If one of these steps fails, the entire operation fails.</span></span> <span data-ttu-id="41ca8-341">Вместо того чтобы использовать одну распределенную транзакцию для всей операции, вы можете определить компенсирующую транзакцию для каждого шага.</span><span class="sxs-lookup"><span data-stu-id="41ca8-341">Instead of trying to use a single distributed transaction for the entire operation, you can define a compensating transaction for each step.</span></span>
- <span data-ttu-id="41ca8-342">**Реализации асинхронных операций, когда это возможно.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-342">**Implement asynchronous operations, whenever possible.**</span></span> <span data-ttu-id="41ca8-343">Синхронные операции могут монополизировать ресурсы и блокировать другие операции, пока вызывающий объект ждет завершения процесса.</span><span class="sxs-lookup"><span data-stu-id="41ca8-343">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="41ca8-344">Проектируйте каждую часть приложения для разрешения для асинхронных операций, когда это возможно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-344">Design each part of your application to allow for asynchronous operations, whenever possible.</span></span> <span data-ttu-id="41ca8-345">Дополнительные сведения о том, как реализовать асинхронное программирование на языке C\#, см. в разделе [асинхронное программирование](/dotnet/articles/csharp/async).</span><span class="sxs-lookup"><span data-stu-id="41ca8-345">For more information on how to implement asynchronous programming in C\#, see [Asynchronous Programming](/dotnet/articles/csharp/async).</span></span>

## <a name="ensure-that-availability-meets-slas"></a><span data-ttu-id="41ca8-346">Обеспечение доступности соответствия требованиям соглашения об уровне обслуживания</span><span class="sxs-lookup"><span data-stu-id="41ca8-346">Ensure that availability meets SLAs</span></span>

<span data-ttu-id="41ca8-347">*Доступность* — это доля времени, для которого система функционирует и работает, и он является одним из [основных аспектов качества программного обеспечения](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-347">*Availability* is the proportion of time that a system is functional and working, and it is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="41ca8-348">Используйте задачи в этом разделе, чтобы проверить архитектуру приложения с точки зрения доступности, чтобы убедиться в том, что доступность соответствует требованиям вашего соглашения об уровне обслуживания.</span><span class="sxs-lookup"><span data-stu-id="41ca8-348">Use the tasks in this section to review your application architecture from an availability standpoint to make sure that your availability meets your SLAs.</span></span>

- <span data-ttu-id="41ca8-349">**Избегайте единых точек отказа.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-349">**Avoid any single point of failure.**</span></span> <span data-ttu-id="41ca8-350"> Все компоненты, службы, ресурсы и вычислительные сущности должны развертываться в нескольких экземплярах, чтобы предотвратить влияние на доступность единой точки отказа.</span><span class="sxs-lookup"><span data-stu-id="41ca8-350">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="41ca8-351">Механизмы проверки подлинности также может быть единой точкой отказа.</span><span class="sxs-lookup"><span data-stu-id="41ca8-351">Authentication mechanisms can also be a single point of failure.</span></span> <span data-ttu-id="41ca8-352">Проектируйте приложения, можно настроить для использования нескольких экземпляров и для автоматического обнаружения сбоев и перенаправления запросов в исправные экземпляры, если платформа не делает это автоматически.</span><span class="sxs-lookup"><span data-stu-id="41ca8-352">Design the application to be configurable to use multiple instances and to automatically detect failures and redirect requests to non-failed instances, if the platform doesn't do this automatically.</span></span>
- <span data-ttu-id="41ca8-353">**Разделяйте рабочие нагрузки в зависимости от задач уровня службы.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-353">**Decompose workloads by service-level objective.**</span></span> <span data-ttu-id="41ca8-354">Если служба состоит из критически важных и менее важных рабочих нагрузок, управляйте ими по-разному и укажите функции службы и число экземпляров в соответствии с их требованиями доступности.</span><span class="sxs-lookup"><span data-stu-id="41ca8-354">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>
- <span data-ttu-id="41ca8-355">**Сводите к минимуму и понимайте зависимости службы.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-355">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="41ca8-356">Свести к минимуму количество различных служб, используемых, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-356">Minimize the number of different services used, where possible.</span></span> <span data-ttu-id="41ca8-357">Убедитесь, что вы понимаете все функции и зависимости службы, которые существуют в системе.</span><span class="sxs-lookup"><span data-stu-id="41ca8-357">Ensure that you understand all the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="41ca8-358">В частности понимаете общее влияние сбоя или снижение производительности в каждой зависимости.</span><span class="sxs-lookup"><span data-stu-id="41ca8-358">In particular, understand the overall impact of failure or reduced performance in each dependency.</span></span>
- <span data-ttu-id="41ca8-359">**Проектируйте задачи и сообщения, чтобы быть *идемпотентными*, где это возможно.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-359">**Design tasks and messages to be *idempotent*, where possible.**</span></span> <span data-ttu-id="41ca8-360">Если операция может повторяться несколько раз и дает одинаковый результат, она является идемпотентной.</span><span class="sxs-lookup"><span data-stu-id="41ca8-360">An operation is idempotent if it can be repeated multiple times and produce the same result.</span></span> <span data-ttu-id="41ca8-361">Это гарантирует, что повторяющиеся запросы не создадут проблем.</span><span class="sxs-lookup"><span data-stu-id="41ca8-361">This can ensure that duplicated requests don't cause problems.</span></span> <span data-ttu-id="41ca8-362">Объекты-получатели сообщений и операции, которые они выполняют, должны быть идемпотентными, чтобы повторение ранее выполненных операций не приводило к недопустимым результатам.</span><span class="sxs-lookup"><span data-stu-id="41ca8-362">Message consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="41ca8-363">Это может означать обнаружение повторяющихся сообщений или обеспечение согласованности с помощью оптимистичной методики обработки конфликтов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-363">This may mean detecting duplicated messages or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>
- <span data-ttu-id="41ca8-364">**Настройте время ожидания запросов.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-364">**Configure request timeouts.**</span></span> <span data-ttu-id="41ca8-365">Службы и ресурсы могут стать недоступными, что приводит к сбою запросов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-365">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="41ca8-366">Убедитесь, что время ожидания, которые можно применить подходят для каждой службы или ресурса, и для клиента, к ним обращается.</span><span class="sxs-lookup"><span data-stu-id="41ca8-366">Ensure that the timeouts you apply are appropriate for each service or resource and for the client that is accessing them.</span></span> <span data-ttu-id="41ca8-367">В некоторых случаях можно увеличить время ожидания для конкретного экземпляра клиента в зависимости от контекста и других действий, выполняемых клиентом.</span><span class="sxs-lookup"><span data-stu-id="41ca8-367">In some cases, you might allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.</span></span> <span data-ttu-id="41ca8-368">Короткое время ожидания может привести к чрезмерному повторению операций для службы и ресурсы, которые имеют значительные задержки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-368">Short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="41ca8-369">Длинное время ожидания может привести к блокировке, если большое количество запросов помещаются в очередь, для службы или ресурсов для ответа.</span><span class="sxs-lookup"><span data-stu-id="41ca8-369">Long timeouts can cause blocking, if a large number of requests are queued, waiting for a service or resource to respond.</span></span>
- <span data-ttu-id="41ca8-370">**Используйте брокер сообщений, реализующий высокий уровень доступности, для важных транзакций.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-370">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="41ca8-371">Во многих облачных приложениях используется обмен сообщениями для запуска асинхронных задач.</span><span class="sxs-lookup"><span data-stu-id="41ca8-371">Many cloud applications use messaging to trigger asynchronous tasks.</span></span> <span data-ttu-id="41ca8-372">Чтобы гарантировать доставку сообщений, системе обмена сообщениями следует обеспечивать высокий уровень доступности.</span><span class="sxs-lookup"><span data-stu-id="41ca8-372">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="41ca8-373">[Обмена сообщениями служебной шины Azure](/azure/service-bus-messaging) реализует *по крайней мере один раз* семантику, что означает, что сообщение гарантированно доставляются по крайней мере один раз.</span><span class="sxs-lookup"><span data-stu-id="41ca8-373">[Azure Service Bus messaging](/azure/service-bus-messaging) implements *at least once* semantics, which means that a message is guaranteed to be delivered at least once.</span></span> <span data-ttu-id="41ca8-374">При определенных обстоятельствах может доставляться повторяющихся сообщений.</span><span class="sxs-lookup"><span data-stu-id="41ca8-374">Duplicate messages may be delivered under certain circumstances.</span></span> <span data-ttu-id="41ca8-375">Если обработка сообщений идемпотентна (см. предыдущий пункт), то повторная доставка не должна стать проблемой.</span><span class="sxs-lookup"><span data-stu-id="41ca8-375">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>
- <span data-ttu-id="41ca8-376">**Регулирование пользователей большого объема.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-376">**Throttle high-volume users.**</span></span> <span data-ttu-id="41ca8-377">Иногда небольшое количество пользователей создает чрезмерную нагрузку.</span><span class="sxs-lookup"><span data-stu-id="41ca8-377">Sometimes, a small number of users creates excessive load.</span></span> <span data-ttu-id="41ca8-378">Это может негативно сказаться на других пользователей и может снизить общую доступность приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-378">This can have an impact on other users and can reduce the overall availability of your application.</span></span> <span data-ttu-id="41ca8-379">Когда один клиент делает чрезмерное количество запросов, приложение может регулировать клиент в течение определенного периода.</span><span class="sxs-lookup"><span data-stu-id="41ca8-379">When a single client makes an excessive number of requests, the application might throttle the client for a certain period.</span></span> <span data-ttu-id="41ca8-380">В период регулирования приложение отклоняет некоторые или все запросы от этого клиента.</span><span class="sxs-lookup"><span data-stu-id="41ca8-380">During the throttling period, the application refuses some or all of the requests from that client.</span></span> <span data-ttu-id="41ca8-381">Пороговое значение регулирования часто зависит от уровня обслуживания клиента.</span><span class="sxs-lookup"><span data-stu-id="41ca8-381">The threshold for throttling often depends on the customer's service tier.</span></span> <span data-ttu-id="41ca8-382">Дополнительные сведения см. в разделе [шаблон регулирования](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-382">For more information, see [Throttling pattern](../patterns/throttling.md).</span></span>

    <span data-ttu-id="41ca8-383">Регулирование не означает, что клиент действовал злонамеренно &mdash; только что он превысил свою квоту службы.</span><span class="sxs-lookup"><span data-stu-id="41ca8-383">Throttling does not imply that the client was necessarily acting maliciously &mdash; only that it exceeded its service quota.</span></span> <span data-ttu-id="41ca8-384">В некоторых случаях потребитель может последовательно превышать свою квоту. В противном случае его поведение ухудшается.</span><span class="sxs-lookup"><span data-stu-id="41ca8-384">In some cases, a consumer might consistently exceed their quota or otherwise behave badly.</span></span> <span data-ttu-id="41ca8-385">В этом случае вы можете пойти дальше и заблокировать пользователя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-385">In that case, you might go further and block the user.</span></span> <span data-ttu-id="41ca8-386">Как правило, для этого блокируется API-ключ или диапазон IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-386">Typically, this is done by blocking an API key or an IP address range.</span></span>
- <span data-ttu-id="41ca8-387">**Проектируйте приложения так, чтобы производительность понижалась корректно.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-387">**Design applications to gracefully degrade.**</span></span> <span data-ttu-id="41ca8-388">Нагрузка на приложение может превышать возможности одной или нескольких частей, вызывая ограничение доступности и сбои подключений.</span><span class="sxs-lookup"><span data-stu-id="41ca8-388">The load on an application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="41ca8-389">Масштабирование можно смягчить последствия этой проблемы, но оно может достичь предела, обусловленного другими факторами, например доступность ресурсов или затраты.</span><span class="sxs-lookup"><span data-stu-id="41ca8-389">Scaling can mitigate this problem, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="41ca8-390">Когда приложение достигает лимита ресурсов, ему необходимо выполнить соответствующие действия, чтобы свести к минимуму влияние на пользователя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-390">When an application reaches a resource limit, it should take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="41ca8-391">Например в системе электронной коммерции, если подсистема обработки заказов испытывает нагрузку или завершается с ошибкой, его можно временно отключить другие функциональные возможности, такие как просмотр каталога продуктов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-391">For example, in an e-commerce system, if the order-processing subsystem is under strain or fails, it can be temporarily disabled while allowing other functionality, such as browsing the product catalog.</span></span> <span data-ttu-id="41ca8-392">Может использоваться отложить запросы к неисправной подсистеме &mdash; к примеру, по-прежнему позволяя клиентам размещать заказы, но сохраняют их для последующей обработки, когда подсистема заказов снова станет доступным.</span><span class="sxs-lookup"><span data-stu-id="41ca8-392">It might be appropriate to postpone requests to a failing subsystem &mdash; for example, still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>
- <span data-ttu-id="41ca8-393">**Корректно обрабатывайте внезапные всплески активности.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-393">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="41ca8-394">Большинству приложений с течением времени необходимо обрабатывать меняющиеся рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-394">Most applications need to handle varying workloads over time.</span></span> <span data-ttu-id="41ca8-395">Автоматическое масштабирование позволяет справиться с нагрузкой, но может занять некоторое время для дополнительных экземпляров сети и обработке запросов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-395">Autoscaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="41ca8-396">Чтобы предотвратить перегрузку приложения всплески активности, сконструировать его так, чтобы очередь запросов к службам, которые она использует и корректно снижать производительность, когда очереди являются практически всю емкость.</span><span class="sxs-lookup"><span data-stu-id="41ca8-396">To prevent bursts of activity from overwhelming the application, design it to queue requests to the services it uses and to degrade gracefully when queues are near capacity.</span></span> <span data-ttu-id="41ca8-397">Убедитесь, что имеется достаточно производительности и мощности в условиях без разбивки, чтобы опустошить очереди и обработать необработанные запросы.</span><span class="sxs-lookup"><span data-stu-id="41ca8-397">Ensure there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="41ca8-398">Дополнительные сведения см. в статье [Шаблон балансировки нагрузки на основе очередей](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-398">For more information, see the [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>
- <span data-ttu-id="41ca8-399">**Создать или восстановить размещение нескольких компонентов.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-399">**Compose or fail back to multiple components.**</span></span> <span data-ttu-id="41ca8-400">Проектирование приложений для использования нескольких экземпляров, не влияя на операции и существующие подключения, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-400">Design applications to use multiple instances without affecting operation and existing connections, where possible.</span></span> <span data-ttu-id="41ca8-401">Чтобы добиться максимальной доступности, используется несколько экземпляров и распределения запросов между ними и обнаружить и избежать, отправляя запросы к неисправных экземпляров.</span><span class="sxs-lookup"><span data-stu-id="41ca8-401">To maximize availability, use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances.</span></span>
- <span data-ttu-id="41ca8-402">**Происходит переключение на другой службе или рабочего процесса.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-402">**Fail back to a different service or workflow.**</span></span> <span data-ttu-id="41ca8-403">Например в случае сбоя записи в базу данных SQL временно сохраняйте данные в хранилище BLOB-объектов или кэш Redis.</span><span class="sxs-lookup"><span data-stu-id="41ca8-403">For example, if writing to SQL Database fails, temporarily store data in Blob storage or Redis Cache.</span></span> <span data-ttu-id="41ca8-404">Предоставьте способ воспроизведения записей в базу данных SQL, когда служба станет доступной.</span><span class="sxs-lookup"><span data-stu-id="41ca8-404">Provide a way to replay the writes to SQL Database when the service becomes available.</span></span> <span data-ttu-id="41ca8-405">В некоторых случаях сбоя операции могут иметь альтернативное действие, которое позволяет приложению продолжать работать, даже при сбое компонента или службы.</span><span class="sxs-lookup"><span data-stu-id="41ca8-405">In some cases, a failed operation may have an alternative action that allows the application to continue to work, even when a component or service fails.</span></span> <span data-ttu-id="41ca8-406">Если это возможно обнаружение сбоев и перенаправления запросов к другим службам, пока основная служба находится в автономном режиме.</span><span class="sxs-lookup"><span data-stu-id="41ca8-406">If possible, detect failures and redirect requests to other services while the primary service is offline.</span></span>
- <span data-ttu-id="41ca8-407">**Использование выравнивания нагрузки, чтобы сгладить пиковые скачки трафика.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-407">**Use load leveling to smooth out spikes in traffic.**</span></span> <span data-ttu-id="41ca8-408">Приложения могут испытывать внезапные всплески трафика, который может вызывать переполнение службы в серверной части.</span><span class="sxs-lookup"><span data-stu-id="41ca8-408">Applications may experience sudden spikes in traffic, which can overwhelm services on the back end.</span></span> <span data-ttu-id="41ca8-409">Если внутренняя служба не может достаточно быстро отвечать на запросы, ожидающие запросы накапливаются, или служба может регулировать количество запросов приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-409">If a back-end service cannot respond to requests quickly enough, the pending requests may accumulate or the service may throttle the application.</span></span> <span data-ttu-id="41ca8-410">Чтобы избежать этого, можно использовать очередь как буфер.</span><span class="sxs-lookup"><span data-stu-id="41ca8-410">To avoid this, you can use a queue as a buffer.</span></span> <span data-ttu-id="41ca8-411">При наличии нового рабочего элемента, вместо того чтобы вызывать серверную службу немедленно, приложение ставит в очередь рабочий элемент для асинхронного выполнения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-411">When there is a new work item, instead of calling the back-end service immediately, the application queues a work item to run asynchronously.</span></span> <span data-ttu-id="41ca8-412">Очередь работает как буфер, который сглаживает высокие пики нагрузки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-412">The queue acts as a buffer that smooths out peaks in the load.</span></span> <span data-ttu-id="41ca8-413">Дополнительные сведения см. в разделе [шаблон балансировки нагрузки на основе очереди](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-413">For more information, see [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>

## <a name="manage-your-data"></a><span data-ttu-id="41ca8-414">Управляйте своими данными</span><span class="sxs-lookup"><span data-stu-id="41ca8-414">Manage your data</span></span>

<span data-ttu-id="41ca8-415">Как управлять данных играет непосредственно в доступности приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-415">How you manage your data plays directly into the availability of your application.</span></span> <span data-ttu-id="41ca8-416">Задачи в этом разделе помогут вам создать план управления для повышения уровня доступности.</span><span class="sxs-lookup"><span data-stu-id="41ca8-416">The tasks in this section can help you create a management plan to help ensure availability.</span></span>

- <span data-ttu-id="41ca8-417">**Репликация данных и изучите методы репликации для хранилищ данных вашего приложения.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-417">**Replicate data and understand the replication methods for your application's data stores.**</span></span> <span data-ttu-id="41ca8-418">Репликация данных является общей стратегией для обработки постоянных ошибок в хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="41ca8-418">Replicating data is a general strategy for handling non-transient failures in a data store.</span></span> <span data-ttu-id="41ca8-419">Рассмотрите возможность чтения и записи путей.</span><span class="sxs-lookup"><span data-stu-id="41ca8-419">Consider both the read and write paths.</span></span> <span data-ttu-id="41ca8-420">В зависимости от технологии хранения возможно, несколько записываемых реплик или может содержать одну реплику для записи и несколько реплик только для чтения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-420">Depending on the storage technology, you might have multiple writable replicas or you might have a single writable replica and multiple read-only replicas.</span></span> <span data-ttu-id="41ca8-421">Чтобы добиться максимальной доступности, реплики можно разместить в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="41ca8-421">To maximize availability, replicas can be placed in multiple regions.</span></span> <span data-ttu-id="41ca8-422">Тем не менее этот подход приводит к увеличению задержки при репликации данных.</span><span class="sxs-lookup"><span data-stu-id="41ca8-422">However, this approach increases the latency when replicating the data.</span></span> <span data-ttu-id="41ca8-423">Как правило, репликация между регионами выполняется асинхронно, что подразумевает модель итоговой согласованности и возможную потерю данных в случае сбоя реплики.</span><span class="sxs-lookup"><span data-stu-id="41ca8-423">Typically, replicating across regions is done asynchronously, which implies an eventual consistency model and potential data loss if a replica fails.</span></span>  

  <span data-ttu-id="41ca8-424">Можно использовать [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) для репликации виртуальных машин Azure из одного региона в другой.</span><span class="sxs-lookup"><span data-stu-id="41ca8-424">You can use [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) to replicate Azure Virtual Machines from one region to another.</span></span> <span data-ttu-id="41ca8-425">Site Recovery непрерывно реплицирует данные в целевой регион.</span><span class="sxs-lookup"><span data-stu-id="41ca8-425">Site Recovery replicates data continuously to the target region.</span></span> <span data-ttu-id="41ca8-426">При возникновении сбоев в основном сайте, отработка отказа в дополнительное расположение.</span><span class="sxs-lookup"><span data-stu-id="41ca8-426">When an outage occurs at your primary site, you fail over to a secondary location.</span></span>

- <span data-ttu-id="41ca8-427">**Убедитесь, что ни одна учетная запись пользователя не имеет доступа к рабочим и резервным данным.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-427">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="41ca8-428">Резервные копии данных будут скомпрометированы, если одна учетная запись пользователя имеет разрешение на запись как в источники рабочих данных разработки, так и в источники резервных копий.</span><span class="sxs-lookup"><span data-stu-id="41ca8-428">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="41ca8-429">Пользователь-злоумышленник может намеренно удалить все данные и обычный пользователь может случайно удалить его.</span><span class="sxs-lookup"><span data-stu-id="41ca8-429">A malicious user could purposely delete all your data, and a regular user could accidentally delete it.</span></span> <span data-ttu-id="41ca8-430">Реализуйте в приложении, чтобы ограничить разрешения каждой учетной записи пользователя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-430">Design your application to limit the permissions of each user account.</span></span> <span data-ttu-id="41ca8-431">Только предоставить доступ на запись для пользователей, которым он необходим и предоставить доступ к рабочей среде или резервной копии, но не оба.</span><span class="sxs-lookup"><span data-stu-id="41ca8-431">Only grant write access to users who require it, and grant access to either production or backup, but not both.</span></span>
- <span data-ttu-id="41ca8-432">**Документируйте и протестируйте процесс отработки отказа и восстановления размещения хранилища данных.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-432">**Document and test your data store failover and failback process.**</span></span> <span data-ttu-id="41ca8-433">Хранилище данных документированных в случае сбоя человека, должны соответствовать набору инструкций для отработки отказа в новое хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="41ca8-433">If a data store fails catastrophically, a human operator must follow a set of documented instructions to fail over to a new data store.</span></span> <span data-ttu-id="41ca8-434">Если в задокументированных шагах есть ошибки, оператор невозможно пройти успешно и отработка отказа ресурса.</span><span class="sxs-lookup"><span data-stu-id="41ca8-434">If the documented steps have errors, an operator won't be able to successfully follow them and to fail over the resource.</span></span> <span data-ttu-id="41ca8-435">Регулярно проверяйте шаги инструкции, чтобы убедитесь, что оператор, который следует за документации можно успешно выполнить отработку отказа и восстановление размещения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-435">Regularly test the instruction steps to verify that an operator who follows the documentation can successfully fail over and fail back.</span></span>
- <span data-ttu-id="41ca8-436">**Резервное копирование данных и проверка данных резервных копий.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-436">**Back up your data and validate your data backups.**</span></span> <span data-ttu-id="41ca8-437">Регулярно запускать сценарий для проверки целостности данных, схемы и запросы для обеспечения резервного копирования данных соответствует ожиданиям.</span><span class="sxs-lookup"><span data-stu-id="41ca8-437">Regularly run a script to validate data integrity, schema, and queries to ensure that backup data is what you expect.</span></span> <span data-ttu-id="41ca8-438">Регистрируйте и сообщайте о любых несоответствиях, чтобы можно было устранить неисправность службы восстановления.</span><span class="sxs-lookup"><span data-stu-id="41ca8-438">Log and report any inconsistencies so the backup service can be repaired.</span></span>
- <span data-ttu-id="41ca8-439">**Используйте периодическое резервное копирование и восстановление в определенный момент времени.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-439">**Use periodic backup and point-in-time restore.**</span></span> <span data-ttu-id="41ca8-440">Автоматически и регулярно создавайте резервные копии данных, которые не сохраняются в другом месте.</span><span class="sxs-lookup"><span data-stu-id="41ca8-440">Regularly and automatically back up data that is not preserved elsewhere.</span></span> <span data-ttu-id="41ca8-441">Убедитесь, что можете гарантированно восстановить данные и само приложение в случае сбоя.</span><span class="sxs-lookup"><span data-stu-id="41ca8-441">Verify that you can reliably restore both the data and the application itself if failure occurs.</span></span> <span data-ttu-id="41ca8-442">Убедитесь, что резервные копии соответствуют RPO.</span><span class="sxs-lookup"><span data-stu-id="41ca8-442">Ensure that backups meet your RPO.</span></span> <span data-ttu-id="41ca8-443">Репликация данных не функция резервного копирования, из-за ошибки пользователя или вредоносные операции могут повредить данные во всех репликах.</span><span class="sxs-lookup"><span data-stu-id="41ca8-443">Data replication isn't a backup feature, because human error or malicious operations can corrupt data across all the replicas.</span></span> <span data-ttu-id="41ca8-444">Процесс резервного копирования должен быть безопасным, чтобы обеспечить защиту данных во время передачи и хранения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-444">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="41ca8-445">Базы данных можно провести до предыдущей точки во времени с помощью журналов транзакций.</span><span class="sxs-lookup"><span data-stu-id="41ca8-445">Databases can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="41ca8-446">Дополнительные сведения см. в разделе [восстановление данных после повреждения или случайного удаления](../resiliency/recovery-data-corruption.md).</span><span class="sxs-lookup"><span data-stu-id="41ca8-446">For more information, see [Recover from data corruption or accidental deletion](../resiliency/recovery-data-corruption.md).</span></span>
- <span data-ttu-id="41ca8-447">**Рассмотрите возможность использования учетной записи геоизбыточного хранилища.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-447">**Consider using a geo-redundant storage account.**</span></span> <span data-ttu-id="41ca8-448">Данные, хранящиеся в учетной записи хранения Azure, всегда реплицируются локально.</span><span class="sxs-lookup"><span data-stu-id="41ca8-448">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="41ca8-449">Тем не менее существует несколько стратегий репликации, можно выбрать при подготовке учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-449">However, there are multiple replication strategies to choose from when a storage account is provisioned.</span></span> <span data-ttu-id="41ca8-450">Чтобы защитить данные приложения в тех редких случаях, когда весь регион становится недоступным, выберите [Геоизбыточного хранилища Azure доступ на чтение (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span><span class="sxs-lookup"><span data-stu-id="41ca8-450">To protect your application data against the rare case when an entire region becomes unavailable, select [Azure Read-Access Geo-Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span></span>  

    > [!NOTE]
    > <span data-ttu-id="41ca8-451">Для виртуальных машин не следует полагаться на репликацию RA-GRS для восстановления дисков виртуальных машин (файлы VHD).</span><span class="sxs-lookup"><span data-stu-id="41ca8-451">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="41ca8-452">Вместо этого используйте [Azure Backup](/azure/backup).</span><span class="sxs-lookup"><span data-stu-id="41ca8-452">Instead, use [Azure Backup](/azure/backup).</span></span>

- <span data-ttu-id="41ca8-453">**Рассмотрите возможность развертывания ссылочных данных в нескольких регионах.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-453">**Consider deploying reference data to multiple regions.**</span></span> <span data-ttu-id="41ca8-454">Ссылочные данные — это данные только для чтения, которые поддерживают функциональные возможности приложения.</span><span class="sxs-lookup"><span data-stu-id="41ca8-454">Reference data is read-only data that supports application functionality.</span></span> <span data-ttu-id="41ca8-455">Он обычно редко изменяются.</span><span class="sxs-lookup"><span data-stu-id="41ca8-455">It typically doesn't change often.</span></span> <span data-ttu-id="41ca8-456">Несмотря на то, что восстановление из резервной копии — один из способов обработки нарушения работы служб во всем регионе, RTO при этом относительно велико.</span><span class="sxs-lookup"><span data-stu-id="41ca8-456">Although restoring from backup is one way to handle region-wide service disruptions, the RTO is relatively long.</span></span> <span data-ttu-id="41ca8-457">При развертывании приложения в дополнительном регионе можно применить несколько стратегий, которые позволяют добиться малого целевого времени восстановления для ссылочных данных.</span><span class="sxs-lookup"><span data-stu-id="41ca8-457">When you deploy the application to a secondary region, some strategies can improve the RTO for reference data.</span></span>

    <span data-ttu-id="41ca8-458">Поскольку ссылочные данные изменяются редко, можно улучшить RTO за счет постоянной копии в дополнительном регионе.</span><span class="sxs-lookup"><span data-stu-id="41ca8-458">Because reference data changes infrequently, you can improve the RTO by maintaining a permanent copy in the secondary region.</span></span> <span data-ttu-id="41ca8-459">Это исключает время, необходимое для восстановления резервных копий после аварии.</span><span class="sxs-lookup"><span data-stu-id="41ca8-459">This eliminates the time required to restore backups after a disaster.</span></span> <span data-ttu-id="41ca8-460">В соответствии с требованиями к аварийному восстановлению после сбоев в нескольких регионах необходимо развернуть приложение и ссылочные данные одновременно во всех них.</span><span class="sxs-lookup"><span data-stu-id="41ca8-460">To meet the multiple-region disaster recovery requirements, you must deploy the application and the reference data together in multiple regions.</span></span>

- <span data-ttu-id="41ca8-461">**Используйте оптимистичный параллелизм и итоговую согласованность.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-461">**Use optimistic concurrency and eventual consistency.**</span></span> <span data-ttu-id="41ca8-462">Транзакции этого блока, получить доступ к ресурсам через блокировки (*пессимистичный параллелизм*) может привести к снижению производительности и снижения доступности.</span><span class="sxs-lookup"><span data-stu-id="41ca8-462">Transactions that block access to resources through locking (*pessimistic concurrency*) can cause poor performance and reduce availability.</span></span> <span data-ttu-id="41ca8-463">Эти проблемы могут стать особенно ощутимыми в распределенных системах.</span><span class="sxs-lookup"><span data-stu-id="41ca8-463">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="41ca8-464">Во многих случаях тщательное проектирование и методы, такие как секционирование, можно свести к минимуму вероятность конфликта обновлений.</span><span class="sxs-lookup"><span data-stu-id="41ca8-464">In many cases, careful design and techniques, such as partitioning, can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="41ca8-465">Если данные реплицируются или считываются из отдельно обновляемого хранилища, данных будет только согласованных в конечном счете.</span><span class="sxs-lookup"><span data-stu-id="41ca8-465">If data is replicated or read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="41ca8-466">Но преимущества обычно перевешивают влияние на доступность для обеспечения мгновенной согласованности транзакций.</span><span class="sxs-lookup"><span data-stu-id="41ca8-466">But the advantages usually outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>
- <span data-ttu-id="41ca8-467">**Использование активной георепликации для базы данных SQL для репликации изменений в базу данных-получатель.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-467">**Use active geo-replication for SQL Database to replicate changes to a secondary database.**</span></span> <span data-ttu-id="41ca8-468">Активная георепликация для базы данных SQL автоматически реплицирует изменения базы данных для базы данных-получатели в том же регионе или в другом регионе.</span><span class="sxs-lookup"><span data-stu-id="41ca8-468">Active geo-replication for SQL Database automatically replicates database changes to secondary databases in the same region or a different region.</span></span> <span data-ttu-id="41ca8-469">Дополнительные сведения см. в разделе [Создание и использование активной георепликации](/azure/sql-database/sql-database-active-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="41ca8-469">For more information, see [Creating and using active geo-replication](/azure/sql-database/sql-database-active-geo-replication).</span></span>

  <span data-ttu-id="41ca8-470">Кроме того, можно принять более ручной метод, с помощью **КОПИЮ базы данных** команду, чтобы создать резервную копию базы данных с соблюдением транзакционной согласованности.</span><span class="sxs-lookup"><span data-stu-id="41ca8-470">Alternatively, you can take a more manual approach by using the **DATABASE COPY** command to create a backup copy of the database with transactional consistency.</span></span> <span data-ttu-id="41ca8-471">Также вы можете использовать службу импорта и экспорта базы данных SQL Azure, которая поддерживает экспорт базы данных в BACPAC-файлы (содержат схему базы данных и соответствующие данные в сжатом виде), которые расположены в хранилище больших двоичных объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="41ca8-471">You can also use the import/export service of Azure SQL Database, which supports exporting databases to BACPAC files (compressed files containing your database schema and associated data) that are stored in Azure Blob storage.</span></span> <span data-ttu-id="41ca8-472">Служба хранилища Azure создает две реплики файла резервной копии в одном регионе.</span><span class="sxs-lookup"><span data-stu-id="41ca8-472">Azure Storage creates two replicas of the backup file in the same region.</span></span> <span data-ttu-id="41ca8-473">Тем не менее частоты архивации зависит RPO, это объем данных, которые можно потерять при сбое.</span><span class="sxs-lookup"><span data-stu-id="41ca8-473">However, the frequency of the backup process determines your RPO, which is the amount of data you might lose in disaster scenarios.</span></span> <span data-ttu-id="41ca8-474">Например если резервную копию данных каждый час, а сбой происходит за две минуты до резервного копирования, вы потеряете данные за 58 минут.</span><span class="sxs-lookup"><span data-stu-id="41ca8-474">For example, if you back up data every hour, and a disaster occurs two minutes before the backup, you will lose 58 minutes of data.</span></span> <span data-ttu-id="41ca8-475">Кроме того, чтобы обеспечить защиту на случай нарушения работы службы на уровне региона, необходимо скопировать файлы BACPAC в другой регион.</span><span class="sxs-lookup"><span data-stu-id="41ca8-475">Also, to protect against a region-wide service disruption, you should copy the BACPAC files to an alternate region.</span></span> <span data-ttu-id="41ca8-476">Дополнительные сведения см. в разделе [Обзор обеспечения непрерывности бизнес-процессов с помощью базы данных SQL Azure](/azure/sql-database/sql-database-business-continuity).</span><span class="sxs-lookup"><span data-stu-id="41ca8-476">For more information, see [Overview of business continuity with Azure SQL Database](/azure/sql-database/sql-database-business-continuity).</span></span>

- <span data-ttu-id="41ca8-477">**Используйте геоархивов для хранилища данных SQL.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-477">**Use geo-backups for SQL Data Warehouse.**</span></span> <span data-ttu-id="41ca8-478">В Хранилище данных SQL применяется [геоизбыточное резервное копирование](/azure/sql-data-warehouse/backup-and-restore), которое позволяет использовать связанный регион для аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="41ca8-478">For SQL Data Warehouse, use [geo-backups](/azure/sql-data-warehouse/backup-and-restore) to restore to a paired region for disaster recovery.</span></span> <span data-ttu-id="41ca8-479">Эти резервные копии создаются каждые 24 часа и можно было восстановить в течение 20 минут в парном регионе.</span><span class="sxs-lookup"><span data-stu-id="41ca8-479">These backups are taken every 24 hours and can be restored within 20 minutes in the paired region.</span></span> <span data-ttu-id="41ca8-480">Эта функция включена по умолчанию для всех экземпляров в хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="41ca8-480">This feature is on by default for all SQL Data Warehouse instances.</span></span> <span data-ttu-id="41ca8-481">Дополнительные сведения о том, как восстановить хранилище данных см. в разделе [восстановление из географического региона Azure с помощью PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span><span class="sxs-lookup"><span data-stu-id="41ca8-481">For more information on how to restore your data warehouse, see [Restore from an Azure geographical region using PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span></span>

- <span data-ttu-id="41ca8-482">**Репликация дисков виртуальных машин с помощью Azure Site Recovery**</span><span class="sxs-lookup"><span data-stu-id="41ca8-482">**Replicate VM disks using Azure Site Recovery.**</span></span> <span data-ttu-id="41ca8-483">При репликации виртуальных машин Azure с помощью [Site Recovery](/azure/site-recovery/), все диски виртуальной Машины постоянно реплицируются асинхронно к целевой области.</span><span class="sxs-lookup"><span data-stu-id="41ca8-483">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="41ca8-484">Точки восстановления создаются каждые несколько минут.</span><span class="sxs-lookup"><span data-stu-id="41ca8-484">The recovery points are created every few minutes.</span></span> <span data-ttu-id="41ca8-485">Это дает целевой точки восстановления от нескольких минут.</span><span class="sxs-lookup"><span data-stu-id="41ca8-485">This gives you an RPO on the order of minutes.</span></span>
- <span data-ttu-id="41ca8-486">**Резервное копирование SQL Server на виртуальных машинах или настроить сеанс доставки журналов.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-486">**Back up SQL Server running on VMs or configure a log-shipping session.**</span></span> <span data-ttu-id="41ca8-487">Для SQL Server, выполняющегося на виртуальных машинах, существует два варианта резервного копирования: традиционные резервные копии и доставка журналов.</span><span class="sxs-lookup"><span data-stu-id="41ca8-487">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="41ca8-488">Традиционные резервные копии позволяют восстановить до определенной точки во времени, но процесс восстановления выполняется медленно.</span><span class="sxs-lookup"><span data-stu-id="41ca8-488">Traditional backups enable you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="41ca8-489">Восстановление традиционных резервных копий необходимо начать с первоначальной полной резервной копии и затем применить все резервные копии после этого.</span><span class="sxs-lookup"><span data-stu-id="41ca8-489">Restoring traditional backups requires that you start with an initial full backup and then apply any backups taken after that.</span></span> <span data-ttu-id="41ca8-490">Второй вариант — настроить сеанс доставки журналов для задержки восстановления резервных копий журналов (например, на два часа).</span><span class="sxs-lookup"><span data-stu-id="41ca8-490">The second option is to configure a log-shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="41ca8-491">Так вы получите временной зазор для восстановления после ошибок, возникших в базе данных-источнике.</span><span class="sxs-lookup"><span data-stu-id="41ca8-491">This provides a window to recover from errors made on the primary.</span></span>
- <span data-ttu-id="41ca8-492">**Используйте пользовательский процесс или стороннего инструмента — для резервного копирования хранилища Azure.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-492">**Use a custom process or third-party tool for Azure Storage backup.**</span></span> <span data-ttu-id="41ca8-493">Для службы хранилища Azure можно разработать пользовательский процесс резервного копирования или использовать сторонние средства резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="41ca8-493">For Azure Storage, you can develop a custom backup process or use a third-party backup tool.</span></span> <span data-ttu-id="41ca8-494">Большинство приложений возникают дополнительные сложности, в какое хранилище ресурсов ссылаются друг на друга.</span><span class="sxs-lookup"><span data-stu-id="41ca8-494">Most application designs have additional complexities, in which storage resources reference each other.</span></span> <span data-ttu-id="41ca8-495">Например рассмотрим базу данных SQL со столбцом, ссылающийся на большой двоичный объект в службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="41ca8-495">For example, consider a SQL database with a column that links to a blob in Azure Storage.</span></span> <span data-ttu-id="41ca8-496">Если резервное копирование не выполняется для всех элементов одновременно, в базе данных может сохраниться указатель на большой двоичный объект, для которого не существует резервной копии.</span><span class="sxs-lookup"><span data-stu-id="41ca8-496">If the backups do not happen simultaneously, the database might have a pointer to a blob that was not backed up before the failure.</span></span> <span data-ttu-id="41ca8-497">Приложение или план аварийного восстановления должны реализовать процессы для обработки этой несогласованности после восстановления.</span><span class="sxs-lookup"><span data-stu-id="41ca8-497">The application or disaster recovery plan must implement processes to handle this inconsistency after a recovery.</span></span>
- <span data-ttu-id="41ca8-498">**Для других платформ данных, размещенных на виртуальных машинах с помощью собственного репликации или возможность создавать моментальные снимки.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-498">**Use the native replication or snapshot capabilities for other data platforms hosted on VMs.**</span></span> <span data-ttu-id="41ca8-499">Другие платформы данных, например Elasticsearch или MongoDB, имеют свои собственные возможности и соображения при создании интегрированное резервное копирование и восстановление процесса.</span><span class="sxs-lookup"><span data-stu-id="41ca8-499">Other data platforms, such as Elasticsearch or MongoDB, have their own capabilities and considerations when creating an integrated backup and restore process.</span></span> <span data-ttu-id="41ca8-500">Для этих платформ мы рекомендуем использовать либо собственные или доступных основанных на интеграции репликация или возможность создавать моментальные снимки.</span><span class="sxs-lookup"><span data-stu-id="41ca8-500">For these data platforms, the general recommendation is to use any native or available integration-based replication or snapshot capabilities.</span></span> <span data-ttu-id="41ca8-501">Если эти возможности не существует или не подходит, рассмотрите возможность использования службы архивации Azure или дисков моментальных снимков для создания копии данных приложения в определенный момент времени.</span><span class="sxs-lookup"><span data-stu-id="41ca8-501">If those capabilities don't exist or aren't suitable, consider using Azure Backup or disk snapshots to create a point-in-time copy of application data.</span></span> <span data-ttu-id="41ca8-502">В любом случае очень важно определить, как обеспечить согласованность резервных копий, в том случае, особенно в том случае, если данные приложения охватывает несколькими файловыми системами или несколько дисков объединяются в одну файловую систему.</span><span class="sxs-lookup"><span data-stu-id="41ca8-502">In all cases, it's important to determine how to achieve consistent backups, especially when application data spans multiple files systems or multiple drives are combined into a single file system.</span></span>
- <span data-ttu-id="41ca8-503">**Изучите методы репликации источников данных приложения.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-503">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="41ca8-504">Данные приложения будут храниться в разных источниках данных и будет имеют различные требования к доступности.</span><span class="sxs-lookup"><span data-stu-id="41ca8-504">Your application data will be stored in different data sources and will have varied availability requirements.</span></span> <span data-ttu-id="41ca8-505">Проанализируйте методы репликации для каждого типа хранилища данных в Azure, включая [избыточности службы хранилища Azure](/azure/storage/storage-redundancy/) и [базы данных SQL активная георепликация](/azure/sql-database/sql-database-geo-replication-overview/) чтобы убедиться, что приложения данных выполнены требования.</span><span class="sxs-lookup"><span data-stu-id="41ca8-505">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage redundancy](/azure/storage/storage-redundancy/) and [SQL Database active geo-replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span> <span data-ttu-id="41ca8-506">При репликации виртуальных машин Azure с помощью [Site Recovery](/azure/site-recovery/), все диски виртуальной Машины постоянно реплицируются асинхронно к целевой области.</span><span class="sxs-lookup"><span data-stu-id="41ca8-506">If you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="41ca8-507">Точки восстановления создаются каждые несколько минут.</span><span class="sxs-lookup"><span data-stu-id="41ca8-507">The recovery points are created every few minutes.</span></span>
- <span data-ttu-id="41ca8-508">**Установите стратегиях аварийного восстановления данных.**</span><span class="sxs-lookup"><span data-stu-id="41ca8-508">**Establish data strategies for disaster recovery.**</span></span> <span data-ttu-id="41ca8-509">Правильная обработка данных — это очень сложный любого плана аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="41ca8-509">Proper data handling is a challenging aspect of any disaster recovery plan.</span></span> <span data-ttu-id="41ca8-510">Обычно именно восстановление данных занимает больше всего времени при восстановлении после аварии.</span><span class="sxs-lookup"><span data-stu-id="41ca8-510">During the recovery process, data restoration typically takes the most time.</span></span> <span data-ttu-id="41ca8-511">Доступны разные варианты поддержки ограниченной функциональности возникают трудности восстановления данных и согласованность.</span><span class="sxs-lookup"><span data-stu-id="41ca8-511">Different choices for reducing functionality result in difficult challenges for data recovery and consistency.</span></span>

## <a name="next-steps"></a><span data-ttu-id="41ca8-512">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="41ca8-512">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="41ca8-513">Тестирования устойчивости и доступности</span><span class="sxs-lookup"><span data-stu-id="41ca8-513">Test for resiliency and availability</span></span>](./testing.md)
