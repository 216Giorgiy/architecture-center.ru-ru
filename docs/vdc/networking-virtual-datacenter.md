---
title: Виртуальный центр обработки данных Azure. Общие сведения о сетевой инфраструктуре
description: Узнайте, как создать виртуальный центр обработки данных в Azure
author: tracsman
manager: rossort
tags: azure-resource-manager
ms.service: virtual-network
ms.date: 09/24/2018
ms.author: jonor
ms.openlocfilehash: b10930ac6d6458872d8b626825d21bd0bed2b807
ms.sourcegitcommit: 16bc6a91b6b9565ca3bcc72d6eb27c2c4ae935e4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2018
ms.locfileid: "52550467"
---
# <a name="azure-virtual-datacenter-a-network-perspective"></a><span data-ttu-id="6f4aa-103">Виртуальный центр обработки данных Azure. Общие сведения о сетевой инфраструктуре</span><span class="sxs-lookup"><span data-stu-id="6f4aa-103">Azure virtual datacenter: A network perspective</span></span>

## <a name="overview"></a><span data-ttu-id="6f4aa-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="6f4aa-104">Overview</span></span>
<span data-ttu-id="6f4aa-105">Переместив локальные приложения в Azure (даже без значительных изменений), организации могут пользоваться преимуществами безопасной и экономичной инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-105">Migrating on-premises applications to Azure, even without any significant changes, provides organizations the benefit of a secured and cost-efficient infrastructure.</span></span> <span data-ttu-id="6f4aa-106">Такой подход называется **lift- and -shift**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-106">This approach is known as **lift and shift**.</span></span> <span data-ttu-id="6f4aa-107">Чтобы использовать возможности Azure в полном объеме, включая преимущества гибких облачных вычислений, организациям нужно модернизировать свою архитектуру.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-107">To make the most of the agility possible with cloud computing, enterprises should evolve their architectures to take advantage of Azure capabilities.</span></span> <span data-ttu-id="6f4aa-108">Microsoft Azure предоставляет гипермасштабируемые службы и инфраструктуру, а также разные варианты гибридных подключений, гарантируя надежность и предлагая возможности корпоративного класса.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-108">Microsoft Azure delivers hyperscale services and infrastructure, enterprise-grade capabilities and reliability, and many choices for hybrid connectivity.</span></span> 

<span data-ttu-id="6f4aa-109">Клиенты могут обращаться к этим облачным службам через Интернет или с помощью службы Azure ExpressRoute, которая позволяет создавать подключения к частной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-109">Customers can choose to access these cloud services either via the internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="6f4aa-110">Платформа Microsoft Azure позволяет клиентам легко добавлять в свою инфраструктуру облачные решения и создавать многоуровневую архитектуру.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-110">With the Microsoft Azure platform, customers can seamlessly extend their infrastructure into the cloud and build multi-tier architectures.</span></span> <span data-ttu-id="6f4aa-111">Кроме того, партнеры Майкрософт предоставляют расширенные возможности, предлагая службы безопасности и виртуальные устройства, оптимизированные для работы в Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-111">Microsoft partners also provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

<span data-ttu-id="6f4aa-112">Эта статья содержит сведения о шаблонах и проектах, которые можно использовать для решения задач, связанных с безопасностью, производительностью и масштабированием архитектуры. Все эти вопросы являются актуальными для многих клиентов, которые планируют массовый перенос своих решений в облако.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-112">This article provides an overview of patterns and designs that solve the architectural scale, performance, and security concerns many customers face when they think about moving en masse to the cloud.</span></span> <span data-ttu-id="6f4aa-113">Здесь также обсуждается то, как разные роли ИТ-специалистов соотносятся с задачами управления системой</span><span class="sxs-lookup"><span data-stu-id="6f4aa-113">An overview of how to fit different organizational IT roles into the management and governance of the system is also discussed.</span></span> <span data-ttu-id="6f4aa-114">с учетом требований безопасности и необходимости оптимизировать затраты.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-114">Emphasis is on security requirements and cost optimization.</span></span>

## <a name="what-is-a-virtual-datacenter"></a><span data-ttu-id="6f4aa-115">Что такое виртуальный центр обработки данных?</span><span class="sxs-lookup"><span data-stu-id="6f4aa-115">What is a virtual datacenter?</span></span>
<span data-ttu-id="6f4aa-116">Изначально облачные решения разрабатывались для размещения относительно изолированных отдельных приложений для общедоступного использования.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-116">Cloud solutions were first designed to host single, relatively isolated applications in the public spectrum.</span></span> <span data-ttu-id="6f4aa-117">Этот подход был оптимальным несколько лет.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-117">This approach worked well for a few years.</span></span> <span data-ttu-id="6f4aa-118">Затем преимущества облачных решений стали очевидными, и облака стали использоваться для размещения нескольких крупномасштабных рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-118">Then the benefits of cloud solutions became apparent, and multiple large-scale workloads were hosted on the cloud.</span></span> <span data-ttu-id="6f4aa-119">При этом в контексте жизненного цикла облачной службы актуализировались вопросы, связанные с обеспечением безопасности, надежности и производительности, а также оптимизации затрат для развертываний в одном или нескольких регионах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-119">Addressing security, reliability, performance, and cost concerns of deployments in one or more regions became vital throughout the life cycle of the cloud service.</span></span>

<span data-ttu-id="6f4aa-120">На следующей схеме облачного развертывания **красным прямоугольником** обозначена область с недостаточным уровнем защиты.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-120">The following cloud deployment diagram shows an example of a security gap in the **red box**.</span></span> <span data-ttu-id="6f4aa-121">**Желтый прямоугольник** отражает возможности оптимизации сетевых виртуальных устройств для разных рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-121">The **yellow box** shows room for optimization network virtual appliances across workloads.</span></span>

<span data-ttu-id="6f4aa-122">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-122">[![0]][0]</span></span>

<span data-ttu-id="6f4aa-123">Виртуальный центр обработки данных (ВЦОД) позволяет выполнять масштабирование, реализуя поддержку корпоративных рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-123">Virtual datacenter (VDC) was born from the necessity to scale to support enterprise workloads.</span></span> <span data-ttu-id="6f4aa-124">Также он помогает решать проблемы, связанные с поддержкой крупномасштабных приложений в общедоступном облаке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-124">It also deals with the problems introduced when supporting large-scale applications in the public cloud.</span></span>

<span data-ttu-id="6f4aa-125">ВЦОД — это не просто рабочие нагрузки приложений в облаке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-125">The VDC isn't just the application workloads in the cloud.</span></span> <span data-ttu-id="6f4aa-126">Это также сети, службы безопасности, средства управления и инфраструктура.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-126">It's also the network, security, management, and infrastructure.</span></span> <span data-ttu-id="6f4aa-127">Примерами являются службы каталогов и DNS.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-127">Examples are DNS and directory services.</span></span> <span data-ttu-id="6f4aa-128">ВЦОД обеспечивает обратное частное подключение к локальной сети или центру обработки данных.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-128">It usually provides a private connection back to an on-premises network or datacenter.</span></span> <span data-ttu-id="6f4aa-129">Так как все больше и больше рабочих нагрузок переносится в Azure, важно подумать о поддержке инфраструктуры и объектов, размещающих эти рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-129">As more and more workloads move to Azure, it's important to think about the supporting infrastructure and objects that these workloads are placed in.</span></span> <span data-ttu-id="6f4aa-130">Понимание того, как структурированы ресурсы, — это лучшее лекарство против распространения сотен **изолированных рабочих нагрузок**, которым требуется отдельное управление с использованием независимого потока данных, моделей безопасности и решений для обеспечения соответствия требованиям.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-130">Think carefully about how resources are structured to avoid the proliferation of hundreds of **workload islands** that must be managed separately with independent data flow, security models, and compliance challenges.</span></span>

<span data-ttu-id="6f4aa-131">ВЦОД — это коллекция отдельных, но связанных сущностей с общими функциями поддержки, возможностями и инфраструктурой.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-131">The virtual datacenter is a collection of separate but related entities with common supporting functions, features, and infrastructure.</span></span> <span data-ttu-id="6f4aa-132">Использование рабочих нагрузок в качестве интегрированного ВЦОД сопряжено с такими преимуществами, как сокращение затрат на масштабирование ресурсов, оптимизация защиты за счет централизации потока данных и компонентов,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-132">By viewing your workloads as an integrated VDC, you can reduce costs from economies of scale and optimized security through component and data flow centralization.</span></span> <span data-ttu-id="6f4aa-133">а также упрощение операций, управления и аудита соответствия.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-133">You also get easier operations, management, and compliance audits.</span></span>

> [!NOTE]  
> <span data-ttu-id="6f4aa-134">Важно понимать, что ВЦОД — это **не** отдельный продукт Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-134">It's important to understand that the VDC is **not** a discrete Azure product.</span></span> <span data-ttu-id="6f4aa-135">Это сочетание разных функций и компонентов, реализуемое в соответствии с вашими требованиями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-135">It's the combination of various features and capabilities to  meet your exact requirements.</span></span> <span data-ttu-id="6f4aa-136">ВЦОД помогает оптимизировать использование ресурсов Azure и рабочих нагрузок, расширяя возможности работы с облаком.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-136">The VDC is a way of thinking about your workloads and Azure usage to maximize your resources and abilities in the cloud.</span></span> <span data-ttu-id="6f4aa-137">Таким образом, ВЦОД представляет модульный подход к созданию ИТ-служб в Azure с учетом корпоративных ролей и обязанностей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-137">The virtual datacenter is therefore a modular approach on how to build up IT services in Azure, respecting organizational roles and responsibilities.</span></span>

<span data-ttu-id="6f4aa-138">ВЦОД может помочь предприятиям реализовать следующие сценарии для рабочих нагрузок и приложений в Azure:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-138">The VDC can help enterprises get workloads and applications into Azure for the following scenarios:</span></span>

-   <span data-ttu-id="6f4aa-139">размещение нескольких связанных рабочих нагрузок;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-139">Host multiple related workloads.</span></span>
-   <span data-ttu-id="6f4aa-140">перенос рабочих нагрузок из локальной среды в Azure;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-140">Migrate workloads from an on-premises environment to Azure.</span></span>
-   <span data-ttu-id="6f4aa-141">обеспечение общей или централизованной защиты и доступности рабочих нагрузок;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-141">Implement shared or centralized security and access requirements across workloads.</span></span>
-   <span data-ttu-id="6f4aa-142">сбалансированное применение ролей централизованной ИТ-команды и команды Azure DevOps в рамках крупного предприятия.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-142">Mix Azure DevOps and centralized IT appropriately for a large enterprise.</span></span>

<span data-ttu-id="6f4aa-143">Преимущества ВЦОД обеспечиваются централизованной топологией типа "звезда", которая включает следующие компоненты Azure:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-143">The key to unlock the advantages of the VDC is a centralized topology, hub and spokes, with a mix of Azure features:</span></span> 

- <span data-ttu-id="6f4aa-144">[виртуальная сеть Azure][VNet];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-144">[Azure Virtual Network][VNet].</span></span> 
- <span data-ttu-id="6f4aa-145">[группы безопасности сети (NSG)][NSG];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-145">[Network security groups (NSGs)][NSG].</span></span>
- <span data-ttu-id="6f4aa-146">[пиринг между виртуальными сетями][VNetPeering];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-146">[Virtual network peering][VNetPeering].</span></span> 
- <span data-ttu-id="6f4aa-147">[определяемые пользователем маршруты][UDR];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-147">[User-defined routes (UDRs)][UDR].</span></span>
- <span data-ttu-id="6f4aa-148">службы идентификации Azure с функциями [управления доступом на основе ролей (RBAC)][RBAC];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-148">Azure identity services with [role-based access control (RBAC)][RBAC].</span></span> 
- <span data-ttu-id="6f4aa-149">(дополнительно) [Брандмауэр Azure][AzFW], [Azure DNS][DNS], [Azure Front Door Service][AFD] и [Виртуальная глобальная сеть Azure][vWAN].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-149">Optionally, [Azure Firewall][AzFW], [Azure DNS][DNS], [Azure Front Door][AFD], and [Azure Virtual WAN][vWAN].</span></span>

## <a name="who-should-implement-a-virtual-datacenter"></a><span data-ttu-id="6f4aa-150">Кто отвечает за реализацию ВЦОД?</span><span class="sxs-lookup"><span data-stu-id="6f4aa-150">Who should implement a virtual datacenter?</span></span>
<span data-ttu-id="6f4aa-151">Любой клиент Azure, которому нужно переместить несколько рабочих нагрузок в Azure, может воспользоваться преимуществами использования общих ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-151">Any Azure customer that needs to move more than a few workloads into Azure can benefit from using common resources.</span></span> <span data-ttu-id="6f4aa-152">Использование шаблонов и компонентов при создании ВЦОД может оказаться эффективным даже для отдельных приложений разных размеров.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-152">Depending on the size, even single applications can benefit from using the patterns and components used to build the VDC.</span></span>

<span data-ttu-id="6f4aa-153">Если в вашей организации есть команды или отделы, которые занимаются централизованным ИТ-управлением, а также решением вопросов, связанными с сетями, безопасностью и соответствием, ВЦОД поможет им реализовать политики, разделить обязанности и обеспечить единообразие базовых компонентов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-153">If your organization has a centralized IT, network, security, or compliance team or department, the VDC can help enforce policy points and segregation of duty.</span></span> <span data-ttu-id="6f4aa-154">При этом свобода действий разработчиков ограничивается только актуальными требованиями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-154">It also ensures uniformity of the underlying common components while giving application teams as much freedom and control as is appropriate for your requirements.</span></span>

<span data-ttu-id="6f4aa-155">Организации, которые ориентированы на процессы Azure DevOps, могут использовать возможности ВЦОД для предоставления авторизованных групп ресурсов Azure и обеспечения полного контроля над ними.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-155">Organizations that look to Azure DevOps can utilize the VDC concepts to provide authorized pockets of Azure resources and to ensure they have total control within that group.</span></span> <span data-ttu-id="6f4aa-156">В рамках этого подхода группы представляют собой подписки или группы ресурсов в общей подписке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-156">Groups are either subscriptions or resource groups in a common subscription.</span></span> <span data-ttu-id="6f4aa-157">При этом требования к безопасности и сети будут соответствовать стандартам, определенным централизованной политикой в центральной виртуальной сети и группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-157">But the network and security boundaries stay compliant as defined by a centralized policy in a hub virtual network and resource group.</span></span>

## <a name="considerations-when-you-implement-a-virtual-datacenter"></a><span data-ttu-id="6f4aa-158">Рекомендации по реализации ВЦОД</span><span class="sxs-lookup"><span data-stu-id="6f4aa-158">Considerations when you implement a virtual datacenter</span></span>
<span data-ttu-id="6f4aa-159">При разработке ВЦОД следует обеспечить следующее:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-159">When you design your VDC, there are several pivotal issues to consider:</span></span>

-   <span data-ttu-id="6f4aa-160">службы идентификации и каталогов;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-160">Identity and directory services.</span></span>
-   <span data-ttu-id="6f4aa-161">решения для обеспечения безопасности;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-161">Security infrastructure.</span></span>
-   <span data-ttu-id="6f4aa-162">возможность подключения к облаку;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-162">Connectivity to the cloud.</span></span>
-   <span data-ttu-id="6f4aa-163">возможность подключения в пределах облака.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-163">Connectivity within the cloud.</span></span>

### <a name="identity-and-directory-services"></a><span data-ttu-id="6f4aa-164">Службы идентификации и каталогов</span><span class="sxs-lookup"><span data-stu-id="6f4aa-164">Identity and directory services</span></span>
<span data-ttu-id="6f4aa-165">Службы идентификации и каталогов — главный компонент всех ВЦОД, как в локальной, так и в облачной средах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-165">Identity and directory services are a key aspect of all datacenters, both on-premises and in the cloud.</span></span> <span data-ttu-id="6f4aa-166">Удостоверения связаны со всеми аспектами авторизации пользователей и их доступа к службам в пределах ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-166">Identity is related to all aspects of access and authorization to services within the VDC.</span></span> <span data-ttu-id="6f4aa-167">Чтобы обеспечить доступ к учетной записи и ресурсам Azure только авторизованным пользователям и процессам, Azure использует несколько типов учетных данных для аутентификации.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-167">To make sure that only authorized users and processes access your Azure account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="6f4aa-168">К ним относятся пароли для доступа к учетной записи Azure, криптографические ключи, цифровые подписи и сертификаты.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-168">These include passwords to access the Azure account, cryptographic keys, digital signatures, and certificates.</span></span> 

<span data-ttu-id="6f4aa-169">[Многофакторная идентификация Azure][MFA] — это дополнительное решение для обеспечения безопасности при получении доступа к службам Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-169">[Azure Multi-Factor Authentication][MFA] is an additional layer of security for accessing Azure services.</span></span> <span data-ttu-id="6f4aa-170">Оно обеспечивает строгую аутентификацию на основе разных решений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-170">It provides strong authentication with a range of easy verification options.</span></span> <span data-ttu-id="6f4aa-171">Пользователи могут выбрать наиболее удобный для них способ:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-171">Customers can choose the method they prefer.</span></span> <span data-ttu-id="6f4aa-172">телефонный звонок, текстовое сообщение или уведомление через мобильное приложение.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-172">Options include a phone call, text message, or mobile app notification.</span></span> 

<span data-ttu-id="6f4aa-173">Любое крупное предприятие должно разработать процесс управления идентификацией, включая управление индивидуальными удостоверениями, проверку подлинности и авторизацию, а также использование ролей и привилегий в ВЦОД и за его пределами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-173">Any large enterprise needs to define an identity management process that describes the management of individual identities and their authentication, authorization, roles, and privileges within or across the VDC.</span></span> <span data-ttu-id="6f4aa-174">Это позволяет усилить защиту и повысить производительность, одновременно снижая затраты, время простоя, а также необходимость в повторяющихся и выполняемых вручную задачах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-174">The goals of this process are to increase security and productivity while lowering cost, downtime, and repetitive manual tasks.</span></span>

<span data-ttu-id="6f4aa-175">Предприятиям и организациям может требоваться определенное сочетание служб для реализации разных бизнес-решений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-175">Enterprises and organizations can require a demanding mix of services for different lines of business.</span></span> <span data-ttu-id="6f4aa-176">А сотрудники часто используют разные роли при работе с разными проектами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-176">And employees often have different roles when involved with different projects.</span></span> <span data-ttu-id="6f4aa-177">ВЦОД требует слаженного взаимодействия между разными командами, для каждой из которых предусмотрены конкретные определения ролей. Все это позволяет надлежащим образом управлять рабочими системами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-177">The VDC requires good cooperation between different teams, each with specific role definitions, to get systems running with good governance.</span></span> <span data-ttu-id="6f4aa-178">Процесс назначения обязанностей, разрешений и прав может быть очень непростым.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-178">The matrix of responsibilities, access, and rights can be complex.</span></span> <span data-ttu-id="6f4aa-179">Управление удостоверениями в ВЦОД реализуется с помощью [Azure Active Directory (Azure AD)][AAD] и управления доступом на основе ролей (RBAC).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-179">Identity management in VDC is implemented through [Azure Active Directory (Azure AD)][AAD] and role-based access control (RBAC).</span></span>

<span data-ttu-id="6f4aa-180">Служба каталогов — это общая информационная инфраструктура для поиска, администрирования и организации ежедневно используемых элементов и сетевых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-180">A directory service is a shared information infrastructure that locates, manages, administers, and organizes everyday items and network resources.</span></span> <span data-ttu-id="6f4aa-181">Эти ресурсы могут включать тома, папки, файлы, принтеры, пользователей, группы, устройства и другие объекты.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-181">These resources can include volumes, folders, files, printers, users, groups, devices, and other objects.</span></span> <span data-ttu-id="6f4aa-182">Каждый ресурс в сети считается объектом сервера каталогов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-182">Each resource on the network is considered an object by the directory server.</span></span> <span data-ttu-id="6f4aa-183">Сведения о ресурсе хранятся в виде коллекции атрибутов, связанных с этим ресурсом или объектом.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-183">Information about a resource is stored as a collection of attributes associated with that resource or object.</span></span>

<span data-ttu-id="6f4aa-184">Все бизнес-службы Microsoft Online используют Azure Active Directory (Azure AD) для входа и других задач, связанных с идентификацией.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-184">All Microsoft online business services rely on Azure Active Directory (Azure AD) for sign-in and other identity needs.</span></span> <span data-ttu-id="6f4aa-185">Azure Active Directory (Azure AD) — это комплексное высокодоступное облачное решение для управления удостоверениями и доступом, предоставляющее базовые службы каталогов, расширенные функции управления удостоверениями и функции управления доступом к приложениям.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-185">Azure Active Directory is a comprehensive, highly available identity and access management cloud solution that combines core directory services, advanced identity governance, and application access management.</span></span> <span data-ttu-id="6f4aa-186">Azure AD можно интегрировать с локальным экземпляром Active Directory для включения единого входа для всех облачных и локальных приложений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-186">Azure AD can integrate with on-premises Active Directory to enable single sign-on for all cloud-based and locally hosted on-premises applications.</span></span> <span data-ttu-id="6f4aa-187">Атрибуты пользователя локальной службы Active Directory могут автоматически синхронизироваться с Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-187">The user attributes of on-premises Active Directory can be automatically synchronized to Azure AD.</span></span>

<span data-ttu-id="6f4aa-188">Для назначения всех разрешений в ВЦОД не требуется отдельный глобальный администратор.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-188">A single global administrator isn't required to assign all permissions in a VDC implementation.</span></span> <span data-ttu-id="6f4aa-189">Вместо этого получить разрешения, необходимые для управления собственными ресурсами, может каждый отдел (группа пользователей или служб в службе каталогов).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-189">Instead, each specific department or group of users or services in the directory service can have the permissions that are required to manage their own resources within the VDC.</span></span> <span data-ttu-id="6f4aa-190">Структурирование разрешений требует балансировки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-190">Structuring permissions requires balancing.</span></span> <span data-ttu-id="6f4aa-191">Слишком много разрешений негативно влияет на производительность.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-191">Too many permissions impede performance efficiency.</span></span> <span data-ttu-id="6f4aa-192">А их недостаток или отсутствие повышает риски безопасности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-192">Too few or loose permissions increase security risks.</span></span> <span data-ttu-id="6f4aa-193">Управление доступом на основе ролей (RBAC) Azure помогает решить эту задачу, предоставляя выборочный доступ к ресурсам ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-193">Azure role-based access control (RBAC) helps address this problem by offering fine-grained access management for VDC resources.</span></span>

#### <a name="security-infrastructure"></a><span data-ttu-id="6f4aa-194">Инфраструктура безопасности</span><span class="sxs-lookup"><span data-stu-id="6f4aa-194">Security infrastructure</span></span>
<span data-ttu-id="6f4aa-195">Инфраструктура безопасности обеспечивается разделением трафика в определенных сегментах виртуальной сети ВЦОД, а также управлением входящим и исходящим потоками в пределах всего центра.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-195">This security infrastructure refers to traffic segregation in the VDC's specific virtual network segment and how to control ingress and egress flows throughout the VDC.</span></span> <span data-ttu-id="6f4aa-196">В основе Azure лежит мультитенантная архитектура, которая блокирует несанкционированный и непреднамеренный трафик между развертываниями,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-196">Azure is based on multi-tenant architecture that prevents unauthorized and unintentional traffic between deployments.</span></span> <span data-ttu-id="6f4aa-197">используя изоляцию виртуальной сети (VNet), списки управления доступом (ACL), подсистемы балансировки нагрузки, IP-фильтры и политики потока трафика.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-197">It uses virtual network isolation, access control lists (ACLs), load balancers, IP filters, and traffic flow policies.</span></span> <span data-ttu-id="6f4aa-198">Преобразование сетевых адресов (NAT) отделяет внутренний и внешний сетевой трафик.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-198">Network address translation (NAT) separates internal network traffic from external traffic.</span></span>

<span data-ttu-id="6f4aa-199">Структура Azure выделяет ресурсы инфраструктуры для рабочих нагрузок клиента и управляет исходящим и входящим обменом данными виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-199">The Azure fabric allocates infrastructure resources to tenant workloads and manages communications to and from virtual machines (VMs).</span></span> <span data-ttu-id="6f4aa-200">Низкоуровневая оболочка Azure принудительно разделяет память и процессы между виртуальными машинами и обеспечивает безопасную передачу сетевого трафика клиентам гостевой ОС.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-200">The Azure hypervisor enforces memory and process separation between VMs and securely routes network traffic to guest OS tenants.</span></span>

#### <a name="connectivity-to-the-cloud"></a><span data-ttu-id="6f4aa-201">подключения к облаку;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-201">Connectivity to the cloud</span></span>
<span data-ttu-id="6f4aa-202">Для реализации ВЦОД требуется подключение к внешним сетям, чтобы предлагать службы клиентам, партнерам и внутренним пользователям.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-202">A VDC implementation requires connectivity with external networks to offer services to customers, partners, and internal users.</span></span> <span data-ttu-id="6f4aa-203">Обычно это подразумевает подключение не только к Интернету, но также к локальным сетям и центрам обработки данных.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-203">It usually needs connectivity not only to the internet but also to on-premises networks and datacenters.</span></span>

<span data-ttu-id="6f4aa-204">Пользователи управляют доступом к службам из Интернета с помощью [Брандмауэра Azure][AzFW] или других видов сетевых виртуальных модулей (NVA), пользовательских политик маршрутизации с использованием [определяемых пользователем маршрутов][UDR], а также сетевой фильтрации с использованием [групп безопасности сети][NSG].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-204">Customers control which services have access to and are accessible from the public internet by using [Azure Firewall][AzFW] or other types of virtual network appliances (NVAs), custom routing policies by using [user-defined routes][UDR], and network filtering by using [network security groups][NSG].</span></span> <span data-ttu-id="6f4aa-205">Рекомендуется, чтобы все связанные с Интернетом ресурсы были дополнительно защищены с помощью [Защиты от атак DDoS уровня "Стандартный"][DDOS].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-205">We recommend that all internet-facing resources also be protected by the [Azure DDoS Protection Standard][DDOS].</span></span>

<span data-ttu-id="6f4aa-206">Предприятиям часто требуется подключать ВЦОД к локальным центрам обработки данных или другим ресурсам.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-206">Enterprises often need to connect their VDC implementations to on-premises datacenters or other resources.</span></span> <span data-ttu-id="6f4aa-207">Таким образом, подключение между Azure и локальными сетями — важный аспект при проектировании эффективной архитектуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-207">So the connectivity between Azure and on-premises networks is a crucial aspect when designing an effective architecture.</span></span> <span data-ttu-id="6f4aa-208">У предприятий есть два варианта обеспечить взаимодействие между ВЦОД и локальными решениями в Azure: подключение через Интернет и (или) частные прямые соединения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-208">Enterprises have two different ways to create interconnections between VDC implementations and on-premises in Azure: transit over the internet or private direct connections.</span></span>

<span data-ttu-id="6f4aa-209">[Azure VPN типа "сеть — сеть"] [ VPN] подключает локальный центр обработки данных предприятия к ВЦОД через Интернет.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-209">An [Azure site-to-site VPN][VPN] connects an enterprise's on-premises network to their VDC implementation over the public internet.</span></span> <span data-ttu-id="6f4aa-210">Трафик через VPN шифруется с помощью туннелирования IPSec и IKE.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-210">Traffic over the VPN is encrypted by using IPSec and IKE tunneling.</span></span> <span data-ttu-id="6f4aa-211">Подключение "сеть — сеть" в Azure — это гибкое и быстро настраиваемое подключение.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-211">An Azure site-to-site connection is flexible and quick to create.</span></span> <span data-ttu-id="6f4aa-212">Использование VPN не сопряжено с последующими затратами, так как все подключения устанавливаются через Интернет.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-212">This VPN doesn't require any further procurement as all connections connect over the internet.</span></span>

<span data-ttu-id="6f4aa-213">Используемая для большого количества VPN-подключений [Виртуальная глобальная сеть Azure][vWAN], — это сетевая служба, которая обеспечивает оптимизированное и автоматизированное подключение "ветвь — ветвь" через Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-213">For large numbers of VPN connections, [Azure Virtual WAN][vWAN] is a networking service that provides optimized and automated branch-to-branch connectivity through Azure.</span></span> <span data-ttu-id="6f4aa-214">Виртуальная глобальная сеть позволяет подключать и настраивать устройства ветви для обмена данными с Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-214">With Virtual WAN, you can connect and configure branch devices to communicate with Azure.</span></span> <span data-ttu-id="6f4aa-215">Такое подключение можно установить вручную или с помощью устройств провайдеров через партнера Виртуальной глобальной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-215">This connection can be done either manually or by using preferred provider devices through a Virtual WAN partner.</span></span> <span data-ttu-id="6f4aa-216">Использование нужных устройств провайдеров упрощает использование, подключение и управление конфигурацией.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-216">Preferred provider devices give you ease of use, simplification of connectivity, and configuration management.</span></span> <span data-ttu-id="6f4aa-217">Встроенная панель управления глобальной сетью Azure отображает актуальные сведения по устранению неполадок,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-217">The Azure WAN built-in dashboard provides instant troubleshooting insights that can save you time.</span></span> <span data-ttu-id="6f4aa-218">что экономит время и позволяет быстро просматривать данные о масштабных подключениях "сеть — сеть".</span><span class="sxs-lookup"><span data-stu-id="6f4aa-218">And the dashboard gives you an easy way to view large-scale site-to-site connectivity.</span></span>

<span data-ttu-id="6f4aa-219">[ExpressRoute][ExR] — это служба подключения Azure, которая позволяет создавать частные подключения между ВЦОД и локальной сетью предприятия.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-219">[ExpressRoute][ExR], an Azure connectivity service, enables private connections between the enterprise's on-premises network and their VDC implementation.</span></span> <span data-ttu-id="6f4aa-220">Она обеспечивает повышенный уровень безопасности, надежности и быстродействия (до 10 Гбит/с) с последовательной задержкой.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-220">It offers higher security, reliability, and higher speeds, up to 10 Gbps, along with consistent latency.</span></span> <span data-ttu-id="6f4aa-221">ExpressRoute подходит для использования с ВЦОД, так как клиенты ExpressRoute могут использовать правила соответствия, связанные с частными подключениями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-221">ExpressRoute is useful for VDC implementations as ExpressRoute customers get the benefits of compliance rules associated with private connections.</span></span> <span data-ttu-id="6f4aa-222">С помощью [ExpressRoute Direct][ExRD] можно подключаться непосредственно к маршрутизаторам Майкрософт со скоростью 100 Гбит/с для клиентов, которым требуется большая пропускная способность.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-222">[ExpressRoute Direct][ExRD] connects you directly to Microsoft routers at 100 Gbps for customers with larger bandwidth needs.</span></span>

<span data-ttu-id="6f4aa-223">Развертывание подключений ExpressRoute обычно требует участия поставщика услуг ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-223">Deploying ExpressRoute connections usually involves engaging with an ExpressRoute service provider.</span></span> <span data-ttu-id="6f4aa-224">Для клиентов, которым необходимо быстро приступить к работе, мы рекомендуем поначалу использовать VPN типа "сеть — сеть", чтобы установить подключение между ВЦОД и локальными ресурсами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-224">For customers that need to start quickly, it's common to initially use a site-to-site VPN to establish connectivity between the VDC and on-premises resources.</span></span> <span data-ttu-id="6f4aa-225">Когда физическое подключение с поставщиком услуг будет установлено, выберите подключение ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-225">Then migrate to ExpressRoute connection when your physical interconnection with your service provider is finished.</span></span>

#### <a name="connectivity-within-the-cloud"></a><span data-ttu-id="6f4aa-226">Возможность подключения в пределах облака</span><span class="sxs-lookup"><span data-stu-id="6f4aa-226">Connectivity within the cloud</span></span>
<span data-ttu-id="6f4aa-227">[Виртуальные сети][VNet] и [пиринговые виртуальные сети][VNetPeering] — это основные сетевые службы подключения в пределах ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-227">[Virtual networks][VNet] and [virtual network peering][VNetPeering] are the basic networking connectivity services inside the VDC.</span></span> <span data-ttu-id="6f4aa-228">Виртуальная сеть обеспечивает естественную границу изоляции для ресурсов ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-228">A virtual network guarantees a natural boundary of isolation for VDC resources.</span></span> <span data-ttu-id="6f4aa-229">Пиринг между виртуальными сетями разрешает внутренние взаимодействия между разными виртуальными сетями в одном или нескольких регионах Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-229">And virtual network peering allows intercommunication between different virtual networks in the same Azure region or even across regions.</span></span> <span data-ttu-id="6f4aa-230">Управление трафиком пределах одной или нескольких виртуальных сетей должно выполняться в соответствии с набором правил безопасности, заданных через списки управления доступом</span><span class="sxs-lookup"><span data-stu-id="6f4aa-230">Traffic control inside a virtual network and between virtual networks needs to match a set of security rules specified through access control lists.</span></span> <span data-ttu-id="6f4aa-231">(см. сведения о [группах безопасности сети][NSG], [сетевых виртуальных модулях (NVA)][NVA] и [настраиваемых таблицах маршрутизации][UDR]).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-231">See information on [network security groups][NSG], [network virtual appliances (NVAs)][NVA], and [custom routing tables for user-defined routes][UDR].</span></span>

## <a name="virtual-datacenter-overview"></a><span data-ttu-id="6f4aa-232">Общие сведения о ВЦОД</span><span class="sxs-lookup"><span data-stu-id="6f4aa-232">Virtual datacenter overview</span></span>

### <a name="topology"></a><span data-ttu-id="6f4aa-233">Топология</span><span class="sxs-lookup"><span data-stu-id="6f4aa-233">Topology</span></span>
<span data-ttu-id="6f4aa-234">**Звезда**  — это модель архитектуры, расширяющая ВЦОД в пределах одного региона Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-234">**Hub and spoke** is a model for extending a virtual datacenter within a single Azure region.</span></span>

<span data-ttu-id="6f4aa-235">[![1]][1]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-235">[![1]][1]</span></span>

<span data-ttu-id="6f4aa-236">Центральная зона (концентратор) контролирует и проверяет входящий и исходящий трафик между разными зонами, включая Интернет, а также локальные периферийные зоны.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-236">A hub is the central network zone that controls and inspects ingress or egress traffic between different zones: internet, on-premises, and the spokes.</span></span> <span data-ttu-id="6f4aa-237">Топология типа "звезда" позволяет ИТ-отделу применять политики безопасности в центральном расположении,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-237">The hub and spoke topology gives the IT department an effective way to enforce security policies in a central location.</span></span> <span data-ttu-id="6f4aa-238">одновременно минимизируя уязвимости и ошибки в конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-238">It also reduces the potential for misconfiguration and exposure.</span></span>

<span data-ttu-id="6f4aa-239">В концентраторе содержатся общие компоненты служб, используемые периферийными зонами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-239">The hub contains the common service components consumed by the spokes.</span></span> <span data-ttu-id="6f4aa-240">Их примеры представлены ниже.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-240">The following examples are common central services:</span></span>

-   <span data-ttu-id="6f4aa-241">Инфраструктура Windows Active Directory для проверки подлинности внешних пользователей, которые пытаются получить доступ из ненадежных сетей, до предоставления таким пользователям доступа к рабочим нагрузкам в периферийных зонах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-241">The Windows Active Directory infrastructure, required for user authentication of third parties that access from untrusted networks before they get access to the workloads in the spoke.</span></span> <span data-ttu-id="6f4aa-242">Сюда входят связанные службы федерации Active Directory (AD FS).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-242">It includes the related Active Directory Federation Services (AD FS).</span></span>
-   <span data-ttu-id="6f4aa-243">Служба DNS для разрешения имен рабочих нагрузок в периферийных зонах и получения доступа к ресурсам локально и в Интернете, если [Azure DNS][DNS] не используется.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-243">A DNS service to resolve naming for the workload in the spokes, to access resources on-premises and on the internet if [Azure DNS][DNS] isn't used.</span></span>
-   <span data-ttu-id="6f4aa-244">Инфраструктура открытых ключей (PKI) для реализации единого входа в рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-244">A public key infrastructure (PKI), to implement single sign-on on workloads.</span></span>
-   <span data-ttu-id="6f4aa-245">Управление TCP- и UDP-трафиком между зонами периферийными зонами и Интернетом.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-245">Flow control of TCP and UDP traffic between the spoke network zones and the internet.</span></span>
-   <span data-ttu-id="6f4aa-246">Управление потоком между периферийными зонами и локальными ресурсами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-246">Flow control between the spokes and on-premises.</span></span>
-   <span data-ttu-id="6f4aa-247">Управление потоком между несколькими периферийными зонами (при необходимости).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-247">If needed, flow control between one spoke and another.</span></span>

<span data-ttu-id="6f4aa-248">ВЦОД снижает общую стоимость за счет использования общей центральной инфраструктуры между несколькими периферийными зонами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-248">The VDC reduces overall cost by using the shared hub infrastructure between multiple spokes.</span></span>

<span data-ttu-id="6f4aa-249">Роль каждой периферийной зоны может заключаться в размещении различных типов рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-249">The role of each spoke can be to host different types of workloads.</span></span> <span data-ttu-id="6f4aa-250">Использование периферийных зон также позволяют реализовать модульный подход для повторяемых развертываний одних и тех же рабочих нагрузок</span><span class="sxs-lookup"><span data-stu-id="6f4aa-250">The spokes also provide a modular approach for repeatable deployments of the same workloads.</span></span> <span data-ttu-id="6f4aa-251">в среде разработки и тестирования, пользовательского приемочного тестирования, а также подготовительной и рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-251">Examples are dev and test, user acceptance testing, preproduction, and production.</span></span> <span data-ttu-id="6f4aa-252">Также эти зоны можно использовать для разделения и включения различных групп в пределах организации,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-252">The spokes can also segregate and enable different groups within your organization.</span></span> <span data-ttu-id="6f4aa-253">например, групп DevOps в Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-253">An example is Azure DevOps groups.</span></span> <span data-ttu-id="6f4aa-254">В пределах периферийной зоны можно развернуть базовую рабочую нагрузку или сложные многоуровневые рабочие нагрузки с управлением трафиком между уровнями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-254">Inside a spoke, it's possible to deploy a basic workload or complex multi-tier workloads with traffic control between the tiers.</span></span>

#### <a name="subscription-limits-and-multiple-hubs"></a><span data-ttu-id="6f4aa-255">Ограничения подписки и несколько центральных зон</span><span class="sxs-lookup"><span data-stu-id="6f4aa-255">Subscription limits and multiple hubs</span></span>
<span data-ttu-id="6f4aa-256">В Azure каждый компонент (независимо от типа) развертывается в подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-256">In Azure, every component, whatever the type, is deployed in an Azure subscription.</span></span> <span data-ttu-id="6f4aa-257">Изоляция компонентов Azure в разных подписках Azure может удовлетворять требования различных бизнес-решений,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-257">The isolation of Azure components in different Azure subscriptions can satisfy the requirements of different lines of business.</span></span> <span data-ttu-id="6f4aa-258">включая настройку дифференцированных уровней доступа и авторизации.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-258">An example is setting up differentiated levels of access and authorization.</span></span>

<span data-ttu-id="6f4aa-259">Единую реализацию ВЦОД можно масштабировать для создания большого количества периферийных зон.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-259">A single VDC implementation can scale up to a large number of spokes.</span></span> <span data-ttu-id="6f4aa-260">Но, как и в случае с любой ИТ-системой, у этой платформы есть свои ограничения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-260">But as with every IT system, there are platforms limits.</span></span> <span data-ttu-id="6f4aa-261">Развертывание концентратора привязано к определенной подписке Azure, которая имеет ограничения,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-261">The hub deployment is bound to a specific Azure subscription, which has restrictions and limits.</span></span> <span data-ttu-id="6f4aa-262">например максимальное количество пиринговых виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-262">An example is a maximum number of virtual network peerings.</span></span> <span data-ttu-id="6f4aa-263">См. дополнительные сведения об [ограничениях подписок и служб Azure, границах и квотах][Limits].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-263">For details, see [Azure subscription and service limits, quotas, and constraints][Limits].</span></span> <span data-ttu-id="6f4aa-264">В случаях, когда ограничения могут представлять проблему, архитектуру можно дополнительно масштабировать.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-264">In cases where limits might be an issue, the architecture can scale up further.</span></span> <span data-ttu-id="6f4aa-265">Вы можете расширить модель, включив в топологию типа "звезда" кластер.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-265">Extend the model from a single hub-spokes to a cluster of hub and spokes.</span></span> <span data-ttu-id="6f4aa-266">Связать несколько концентраторов в одном или нескольких регионах Azure можно с помощью пиринга между виртуальными сетями, подключения ExpressRoute, Виртуальной глобальной сети или VPN типа "сеть — сеть".</span><span class="sxs-lookup"><span data-stu-id="6f4aa-266">Interconnect multiple hubs in one or more Azure regions by using virtual network peering, ExpressRoute, Virtual WAN, or a site-to-site VPN.</span></span>

<span data-ttu-id="6f4aa-267">[![2]][2]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-267">[![2]][2]</span></span>

<span data-ttu-id="6f4aa-268">Включение нескольких концентраторов приводит к увеличению затрат и действий по управлению системой.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-268">The introduction of multiple hubs increases the cost and management effort of the system.</span></span> <span data-ttu-id="6f4aa-269">Это может быть оправдано только требованиями масштабируемости (в соответствии с системными ограничениями или избыточностью) и региональной репликации (для обеспечения производительности или аварийного восстановления).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-269">It would only be justified by scalability like system limits or redundancy and regional replication like end-user performance or disaster recovery.</span></span> <span data-ttu-id="6f4aa-270">В сценариях, требующих несколько концентраторов, все концентраторы должны обеспечивать один набор служб для упрощения выполнения операций.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-270">In scenarios requiring multiple hubs, all the hubs should strive to offer the same set of services for operational ease.</span></span>

#### <a name="interconnection-between-spokes"></a><span data-ttu-id="6f4aa-271">Взаимодействие между периферийными зонами</span><span class="sxs-lookup"><span data-stu-id="6f4aa-271">Interconnection between spokes</span></span>
<span data-ttu-id="6f4aa-272">В пределах отдельной периферийной зоны можно реализовать сложные многоуровневые рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-272">Inside a single spoke, it's possible to implement complex multi-tier workloads.</span></span> <span data-ttu-id="6f4aa-273">Многоуровневые конфигурации можно реализовать, используя одну подсеть для каждого уровня в той же виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-273">You can implement multi-tier configurations by using one subnet for every tier in the same virtual network.</span></span> <span data-ttu-id="6f4aa-274">Фильтровать потоки можно с помощью групп безопасности сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-274">Filter the flows by using NSGs.</span></span>

<span data-ttu-id="6f4aa-275">Архитектор может развернуть многоуровневую рабочую нагрузку в пределах нескольких виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-275">An architect might want to deploy a multi-tier workload across multiple virtual networks.</span></span> <span data-ttu-id="6f4aa-276">Используя пиринг между виртуальными сетями, периферийные зоны могут подключаться к другим периферийным зонам в пределах одного или нескольких концентраторов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-276">With virtual network peering, spokes can connect to other spokes in the same hub or different hubs.</span></span> <span data-ttu-id="6f4aa-277">Типичным примером такого сценария является случай, когда серверы обработки приложения располагаются в одной периферийной зоне или виртуальной сети,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-277">A typical example of this scenario is the case where application processing servers are in one spoke, or virtual network.</span></span> <span data-ttu-id="6f4aa-278">а база данных развернута в другой периферийной зоне или виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-278">The database deploys in a different spoke, or virtual network.</span></span> <span data-ttu-id="6f4aa-279">В этом случае периферийные зоны могут легко обмениваться данными через пиринговые виртуальные сети, не используя при этом концентратор.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-279">In this case, it's easy to interconnect the spokes with virtual network peering and thereby avoid transiting through the hub.</span></span> <span data-ttu-id="6f4aa-280">При этом требуется тщательно проверить архитектуру и систему безопасности, чтобы обход концентратора не сопровождался обходом важных элементов безопасности или аудита, которые могут существовать только в концентраторе.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-280">A careful architecture and security review should be performed to ensure that bypassing the hub doesn’t bypass important security or auditing points that might exist only in the hub.</span></span>

<span data-ttu-id="6f4aa-281">[![3]][3]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-281">[![3]][3]</span></span>

<span data-ttu-id="6f4aa-282">Периферийные зоны могут также взаимодействовать с периферийной зоной, выполняющей функции концентратора.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-282">Spokes can also be interconnected to a spoke that acts as a hub.</span></span> <span data-ttu-id="6f4aa-283">В рамках этого подхода создается двухуровневая иерархия: периферийная зона высокого уровня (уровень 0) становится концентратором подчиненных периферийных зон (уровень 1) иерархии.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-283">This approach creates a two-level hierarchy: the spokes in the higher level, level 0, become the hub of lower spokes, level 1, of the hierarchy.</span></span> <span data-ttu-id="6f4aa-284">Периферийные зоны ВЦОД должны направлять трафик в концентратор, чтобы подключиться к локальной сети или Интернету.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-284">The spokes of a VDC implementation are required to forward the traffic to the central hub to reach out either to the on-premises network or internet.</span></span> <span data-ttu-id="6f4aa-285">Такая архитектура концентратора представляет сложную маршрутизацию, что сводит на нет преимущества отдельной звездообразной связи.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-285">An architecture with two levels of hub introduces complex routing that removes the benefits of a simple hub-spoke relationship.</span></span>

<span data-ttu-id="6f4aa-286">Хотя Azure допускает сложные топологии, одним из основных принципов концепции ВЦОД является повторяемость и простота.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-286">Although Azure allows complex topologies, one of the core principles of the VDC concept is repeatability and simplicity.</span></span> <span data-ttu-id="6f4aa-287">Чтобы свести к минимуму действия по управлению системой, в качестве эталонной архитектуры ВЦОД рекомендуется использовать простую топологию тира "звезда".</span><span class="sxs-lookup"><span data-stu-id="6f4aa-287">To minimize management effort, the simple hub-spoke design is the VDC reference architecture that we recommend.</span></span>

### <a name="components"></a><span data-ttu-id="6f4aa-288">Компоненты</span><span class="sxs-lookup"><span data-stu-id="6f4aa-288">Components</span></span>
<span data-ttu-id="6f4aa-289">ВЦОД состоит из четырех базовых типов компонентов: **инфраструктуры**, **сетей периметра**, **рабочих нагрузок** и **системы мониторинга**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-289">A virtual datacenter implementation is made up of four basic component types: **Infrastructure**, **Perimeter Networks**, **Workloads**, and **Monitoring**.</span></span>

<span data-ttu-id="6f4aa-290">Каждый тип компонента состоит из различных функций и ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-290">Each component type consists of various Azure features and resources.</span></span> <span data-ttu-id="6f4aa-291">ВЦОД предприятия состоит из экземпляров компонентов нескольких типов и нескольких вариантов компонентов одного типа.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-291">An enterprise's VDC implementation is made up of instances of multiple component types and multiple variations of the same component type.</span></span> <span data-ttu-id="6f4aa-292">Например, у вас может быть несколько логически разделенных экземпляров рабочей нагрузки, представляющих разные приложения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-292">For instance, you might have many different, logically separated workload instances that represent different applications.</span></span> <span data-ttu-id="6f4aa-293">В конечном итоге все эти различные экземпляры и типы компонентов используются для создания ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-293">You use these different component types and instances to ultimately build the VDC.</span></span>

<span data-ttu-id="6f4aa-294">[![4]][4]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-294">[![4]][4]</span></span>

<span data-ttu-id="6f4aa-295">На схеме обобщенной архитектуры ВЦОД показаны разные типы компонентов, которые используются в разных зонах топологии типа "звезда".</span><span class="sxs-lookup"><span data-stu-id="6f4aa-295">The preceding high-level architecture of a VDC implementation shows different component types used in different zones of the hub-spokes topology.</span></span> <span data-ttu-id="6f4aa-296">На схеме показаны компоненты инфраструктуры в различных частях архитектуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-296">The diagram shows infrastructure components in various parts of the architecture.</span></span>

<span data-ttu-id="6f4aa-297">Для локального или виртуального центра обработки данных рекомендуется, чтобы права доступа и привилегии предоставлялись на основе группы.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-297">As a good practice for an on-premises datacenter or a VDC implementation, access rights and privileges should be group based.</span></span> <span data-ttu-id="6f4aa-298">Работа с группами, а не отдельными пользователями, обеспечивает согласованность политик доступа между группами, а также предотвращает появления ошибок в конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-298">Deal with groups instead of individual users to maintain access policies consistently across teams and minimize configuration errors.</span></span> <span data-ttu-id="6f4aa-299">Включение пользователей в соответствующие группы и их исключение оттуда не влияет на актуальность привилегий определенного пользователя.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-299">Assign and remove users to and from appropriate groups to keep the privileges of a specific user up to date.</span></span>

<span data-ttu-id="6f4aa-300">Каждая группа роли должна содержать уникальный префикс в своем имени,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-300">Each role group should have a unique prefix on their names.</span></span> <span data-ttu-id="6f4aa-301">позволяя легко определять связь между определенной группой и определенной рабочей нагрузкой.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-301">This prefix makes it easy to identify which group is associated with which workload.</span></span> <span data-ttu-id="6f4aa-302">Например, рабочая нагрузка, размещающая службы проверки подлинности, должна содержать группы с именами **AuthServiceNetOps**, **AuthServiceSecOps**, **AuthServiceDevOps** и **AuthServiceInfraOps**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-302">For example, a workload hosting an authentication service might have groups named **AuthServiceNetOps**, **AuthServiceSecOps**, **AuthServiceDevOps**, and **AuthServiceInfraOps**.</span></span> <span data-ttu-id="6f4aa-303">Для централизованных ролей или ролей, не связанных с определенной службой, должен использоваться префикс **Corp**, например, **CorpNetOps**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-303">Centralized roles, or roles not related to a specific service, might be prefaced with **Corp**. An example is **CorpNetOps**.</span></span>

<span data-ttu-id="6f4aa-304">Многие организации используют разновидность следующих групп для предоставления основной декомпозиции ролей:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-304">Many organizations use a variation of the following groups to provide a major breakdown of roles:</span></span>

-   <span data-ttu-id="6f4aa-305">Центральная ИТ-группа **Corp**, имеет права владения для управления компонентами инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-305">The central IT group, **Corp,** has the ownership rights to control infrastructure components.</span></span> <span data-ttu-id="6f4aa-306">Примерами являются сетевые компоненты и система безопасности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-306">Examples are networking and security.</span></span> <span data-ttu-id="6f4aa-307">Группе должна быть назначена роль участника в подписке, а также предоставлены права управления концентратором и права участника сети в периферийных зонах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-307">The group needs to have the role of contributor on the subscription, control of the hub, and network contributor rights in the spokes.</span></span> <span data-ttu-id="6f4aa-308">Крупные организации часто разделяют эти функции между несколькими командами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-308">Large organizations frequently split up these management responsibilities between multiple teams.</span></span> <span data-ttu-id="6f4aa-309">Примеры — команда, отвечающая за сетевые операции (**CorpNetOps**), которая фокусируется на сетевых компонентах, а также команда, отвечающая за операции системы безопасности (**CorpSecOps**), которая фокусируется на политиках безопасности и брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-309">Examples are a network operations **CorpNetOps** group with exclusive focus on networking and a security operations **CorpSecOps** group responsible for the firewall and security policy.</span></span> <span data-ttu-id="6f4aa-310">В этом конкретном случае требуется создание двух разных групп для назначения этих пользовательских ролей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-310">In this specific case, two different groups need to be created for assignment of these custom roles.</span></span>
-   <span data-ttu-id="6f4aa-311">Группа разработки и тестирования **AppDevOps** отвечает за развертывание рабочих нагрузок (приложений или служб).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-311">The dev-test group, **AppDevOps,** has the responsibility to deploy app or service workloads.</span></span> <span data-ttu-id="6f4aa-312">Эта группа выполняет роль участника виртуальной машины для развертываний IaaS, а также одну или несколько ролей участника PaaS.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-312">This group takes the role of virtual machine contributor for IaaS deployments or one or more PaaS contributor’s roles.</span></span> <span data-ttu-id="6f4aa-313">См. дополнительные сведения о [встроенных ролях для ресурсов Azure][Roles].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-313">See [Built-in roles for Azure resources][Roles].</span></span> <span data-ttu-id="6f4aa-314">При необходимости группе разработки и тестирования может потребоваться право на просмотр политик безопасности, групп безопасности сети и политик маршрутизации в пределах концентратора или определенной периферийной зоны.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-314">Optionally, the dev-test team might need visibility on security policies, NSGs, and routing policies, UDRs, inside the hub or a specific spoke.</span></span> <span data-ttu-id="6f4aa-315">Кроме ролей участника для рабочих нагрузок этой группе также потребуется роль читателя сетей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-315">In addition to the role of contributor for workloads, this group would also need the role of network reader.</span></span>
-   <span data-ttu-id="6f4aa-316">Группа операций и обслуживания (**CorpInfraOps** или **AppInfraOps**) отвечает за управление рабочими нагрузками в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-316">The operation and maintenance group, **CorpInfraOps** or **AppInfraOps,** has the responsibility of managing workloads in production.</span></span> <span data-ttu-id="6f4aa-317">Эта группа должна быть участником подписки для рабочих нагрузок в любой рабочей подписке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-317">This group needs to be a subscription contributor on workloads in any production subscriptions.</span></span> <span data-ttu-id="6f4aa-318">Некоторые организации могут также определить необходимость в дополнительной эскалации группы службы поддержки с помощью роли участника подписки в рабочей среде и подписке центрального концентратора.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-318">Some organizations might also evaluate if they need an additional escalation support team group with the role of subscription contributor in production and the central hub subscription.</span></span> <span data-ttu-id="6f4aa-319">Это позволит им решить потенциальные проблемы с конфигурацией в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-319">The additional group fixes potential configuration issues in the production environment.</span></span>

<span data-ttu-id="6f4aa-320">ВЦОД структурирован таким образом, что созданные группы для центральных ИТ-групп, управляющих концентратором, содержат соответствующие группы на уровне рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-320">The VDC is structured so that groups created for the central IT groups that manage the hub have corresponding groups at the workload level.</span></span> <span data-ttu-id="6f4aa-321">Кроме возможности управлять ресурсами концентратора только центральные ИТ-группы могут управлять внешним доступом и разрешениями верхнего уровня в подписке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-321">In addition to managing hub resources, only the central IT groups would control external access and top-level permissions on the subscription.</span></span> <span data-ttu-id="6f4aa-322">Тем не менее группы рабочей нагрузки могут управлять ресурсами и разрешениями своих виртуальных сетей независимо от центральных ИТ-групп.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-322">However, workload groups would control resources and permissions of their virtual network independently on the central IT.</span></span>

<span data-ttu-id="6f4aa-323">ВЦОД должен быть секционирован для безопасного размещения нескольких проектов в различных бизнес-решениях.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-323">Partition the VDC to securely host multiple projects across different lines of business.</span></span> <span data-ttu-id="6f4aa-324">Для всех проектов требуются разные изолированные среды, включая среду разработки, среду пользовательского приемочного тестирования (UAT), а также рабочую среду.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-324">All projects require different isolated environments, such as dev, UAT, and production.</span></span> <span data-ttu-id="6f4aa-325">Отдельные подписки Azure для каждой из этих сред обеспечивают естественную изоляцию.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-325">Separate Azure subscriptions for each of these environments provide natural isolation.</span></span>

<span data-ttu-id="6f4aa-326">[![5]][5]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-326">[![5]][5]</span></span>

<span data-ttu-id="6f4aa-327">На предыдущей схеме показана связь между проектами организации, пользователями, группами и средами, в которых развернуты компоненты Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-327">The preceding diagram shows the relationship between an organization's projects, users, and groups and the environments where the Azure components are deployed.</span></span>

<span data-ttu-id="6f4aa-328">Обычно в сфере ИТ среда (или уровень) представляет систему, в которой развертываются и выполняются несколько приложений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-328">Typically in IT, an environment or tier is a system in which multiple applications are deployed and run.</span></span> <span data-ttu-id="6f4aa-329">Крупные предприятия используют среду разработки, в которой вносятся и тестируются изменения, и рабочую среду, которую используют пользователи.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-329">Large enterprises use a development environment to make and test changes and a production environment that end users use.</span></span> <span data-ttu-id="6f4aa-330">Эти среды изолированы друг от друга, часто с помощью нескольких промежуточных сред. Это позволяет выполнять поэтапное развертывание, тестирование и откат в случае возникновения проблем.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-330">Those environments are separated, often with several staging environments in between them to allow phased deployment (rollout), testing, and rollback if there are problems.</span></span> <span data-ttu-id="6f4aa-331">Архитектуры развертывания существенно различаются, но обычно соблюдается базовая последовательность: развертывание и перенос в рабочую среду (этапы **DEV** и **PROD** соответственно).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-331">Deployment architectures vary significantly but usually still follow the basic process that starts at development, **DEV**, and ends at production, **PROD**.</span></span>

<span data-ttu-id="6f4aa-332">Общая архитектура для этих типов многоуровневых сред включает среду Azure DevOps для разработки и тестирования, среду UAT (промежуточная среда) и рабочую среду.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-332">A common architecture for these types of multi-tier environments consists of Azure DevOps for development and testing, UAT for staging, and production environments.</span></span> <span data-ttu-id="6f4aa-333">Организации могут использовать один или несколько клиентов Azure AD для определения доступа к этим средам и соответствующих прав.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-333">Organizations can leverage single or multiple Azure AD tenants to define access and rights to these environments.</span></span> <span data-ttu-id="6f4aa-334">На предыдущей схеме показана ситуация, когда используются два разных клиента Azure AD: один для DevOps и UAT, а другой — исключительно для рабочей среды.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-334">The previous diagram shows a case where two different Azure AD tenants are used: one for Azure DevOps and UAT, and the other exclusively for production.</span></span>

<span data-ttu-id="6f4aa-335">Наличие разных клиентов Azure AD обеспечивает разделение между средами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-335">The presence of different Azure AD tenants enforces the separation between environments.</span></span> <span data-ttu-id="6f4aa-336">Одна группа пользователей (например, центральная ИТ-команда) должна пройти проверку подлинности с помощью другого URI, чтобы получить доступ к другому клиенту AD и изменить роли или разрешения Azure DevOps или рабочих сред проекта.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-336">The same group of users, such as the central IT, needs to authenticate by using a different URI to access a different Azure AD tenant to modify the roles or permissions of either the Azure DevOps or production environments of a project.</span></span> <span data-ttu-id="6f4aa-337">Выполнение проверки подлинности другого пользователя для доступа к другим средам минимизирует возможные простои и предотвращает появление других проблем, вызванных человеческим фактором.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-337">The presence of different user authentications to access different environments reduces possible outages and other issues caused by human errors.</span></span>

#### <a name="component-type-infrastructure"></a><span data-ttu-id="6f4aa-338">Тип компонента: инфраструктура</span><span class="sxs-lookup"><span data-stu-id="6f4aa-338">Component type: Infrastructure</span></span>
<span data-ttu-id="6f4aa-339">В этом типе компонента размещается большая часть вспомогательной инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-339">This component type is where most of the supporting infrastructure resides.</span></span> <span data-ttu-id="6f4aa-340">С этим компонентом большую часть времени работает централизованная ИТ-команда и команда по обеспечению соответствия и безопасности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-340">It's also where your centralized IT, security, and compliance teams spend most of their time.</span></span>

<span data-ttu-id="6f4aa-341">[![6]][6]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-341">[![6]][6]</span></span>

<span data-ttu-id="6f4aa-342">Компоненты инфраструктуры обеспечивают взаимодействие между различными компонентами ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-342">Infrastructure components provide an interconnection between the different components of the VDC.</span></span> <span data-ttu-id="6f4aa-343">Они присутствуют в концентраторе и периферийных зонах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-343">They're present in both the hub and the spokes.</span></span> <span data-ttu-id="6f4aa-344">Управлением компонентами инфраструктуры и их обслуживанием обычно занимается центральная ИТ-команда или команда обеспечения безопасности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-344">The responsibility for managing and maintaining the infrastructure components is typically assigned to the central IT or security team.</span></span>

<span data-ttu-id="6f4aa-345">Одна из основных задач группы ИТ-инфраструктуры — обеспечение согласованности схем IP-адреса на предприятии.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-345">One of the primary tasks of the IT infrastructure team is to guarantee the consistency of IP address schemas across the enterprise.</span></span> <span data-ttu-id="6f4aa-346">Присваиваемый ВЦРД диапазон частных IP-адресов должен быть согласованным.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-346">The private IP address space assigned to the VDC needs to be consistent.</span></span> <span data-ttu-id="6f4aa-347">Нельзя допускать перекрытие частных IP-адресов, назначенных в локальных сетях.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-347">It can't overlap with private IP addresses assigned on your on-premises networks.</span></span>

<span data-ttu-id="6f4aa-348">Хотя преобразование NAT в локальных пограничных маршрутизаторах или средах Azure позволяет избежать конфликтов IP-адресов,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-348">NAT on the on-premises edge routers or in Azure environments can avoid IP address conflicts.</span></span> <span data-ttu-id="6f4aa-349">оно усложняет работу компонентов инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-349">But it adds complications to your infrastructure components.</span></span> <span data-ttu-id="6f4aa-350">Простота управления должна быть главной характеристикой ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-350">Simplicity of management is one of the key goals of the VDC.</span></span> <span data-ttu-id="6f4aa-351">Следовательно, использовать NAT для обработки IP-адресов не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-351">So using NAT to handle IP concerns isn't a solution that we recommend.</span></span>

<span data-ttu-id="6f4aa-352">Инфраструктура включает следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-352">Infrastructure components have the following functionality:</span></span>

-   <span data-ttu-id="6f4aa-353">[**Службы удостоверений и каталогов**][AAD].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-353">[**Identity and directory services**][AAD].</span></span> <span data-ttu-id="6f4aa-354">Доступ к каждому типу ресурса в Azure регулируется удостоверением, хранящимся в службе каталогов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-354">Access to every resource type in Azure is controlled by an identity stored in a directory service.</span></span> <span data-ttu-id="6f4aa-355">В службе каталогов хранится список пользователей и права доступа к ресурсам в определенной подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-355">The directory service stores the users list and the access rights to resources in a specific Azure subscription.</span></span> <span data-ttu-id="6f4aa-356">Эти службы могут существовать только в облаке</span><span class="sxs-lookup"><span data-stu-id="6f4aa-356">These services can exist in the cloud only.</span></span> <span data-ttu-id="6f4aa-357">или их можно синхронизировать с локальным удостоверением, хранящимся в Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-357">Or they can be synchronized with an on-premises identity stored in Azure Active Directory.</span></span>
-   <span data-ttu-id="6f4aa-358">[**Виртуальная сеть**][VPN].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-358">[**Virtual network**][VPN].</span></span> <span data-ttu-id="6f4aa-359">Виртуальные сети — один из основных компонентов ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-359">Virtual networks are one of main components of the VDC.</span></span> <span data-ttu-id="6f4aa-360">С помощью виртуальных сетей можно создавать границы изоляции трафика на платформе Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-360">By using virtual networks, you can create a traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="6f4aa-361">Виртуальная сеть состоит из одного или нескольких сегментов виртуальной сети,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-361">A virtual network is composed of single or multiple virtual network segments.</span></span> <span data-ttu-id="6f4aa-362">каждый из которых содержит определенный сетевой префикс IP-адреса (подсеть).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-362">Each has a specific IP network prefix, a subnet.</span></span> <span data-ttu-id="6f4aa-363">Виртуальная сеть определяет внутреннюю область периметра, где виртуальные машины IaaS и службы PaaS могут осуществлять закрытый обмен данными.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-363">The virtual network defines an internal perimeter area where IaaS virtual machines and PaaS services can establish private communications.</span></span> <span data-ttu-id="6f4aa-364">Виртуальные машины и службы PaaS в одной виртуальной сети не могут напрямую обращаться к виртуальным машинам (и службам PaaS) в другой виртуальной сети,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-364">VMs and PaaS services in one virtual network can't communicate directly to VMs and PaaS services in a different virtual network.</span></span> <span data-ttu-id="6f4aa-365">даже если обе виртуальные сети созданы одним клиентом в одной подписке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-365">This isolation occurs even if the same customer creates both virtual networks under the same subscription.</span></span> <span data-ttu-id="6f4aa-366">Изоляция очень важна, так как она гарантирует, что виртуальные машины и коммуникации клиента останутся закрытыми в пределах виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-366">Isolation is a critical property that ensures customer VMs and communication stay private within a virtual network.</span></span>
-   <span data-ttu-id="6f4aa-367">[**UDR**][UDR].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-367">[**UDR**][UDR].</span></span> <span data-ttu-id="6f4aa-368">Трафик в виртуальной сети перенаправляется по умолчанию на основе системной таблицы маршрутизации.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-368">Traffic in a virtual network is routed by default based on the system routing table.</span></span> <span data-ttu-id="6f4aa-369">Определяемый пользователем маршрут — это настраиваемая таблица маршрутизации, которую администраторы сети могут связать с одной или несколькими подсетями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-369">A user-defined route is a custom routing table that network administrators can associate to one or more subnets.</span></span> <span data-ttu-id="6f4aa-370">Эта связь перезаписывает поведение системной таблицы маршрутизации и определяет путь обмена данными в пределах виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-370">This association overwrites the behavior of the system routing table and defines a communication path within a virtual network.</span></span> <span data-ttu-id="6f4aa-371">Наличие маршрутов, определяемых пользователем, гарантирует, что исходящий трафик из периферийной зоны проходит через определенные настраиваемые виртуальные машины, сетевые виртуальные устройства и подсистемы балансировки нагрузки в концентраторе и периферийных зонах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-371">The presence of UDRs guarantees that egress traffic from the spoke transits through specific custom VMs or network virtual appliances and load balancers present in the hub and in the spokes.</span></span>
-   <span data-ttu-id="6f4aa-372">[**Группа безопасности сети (NSG)**][NSG].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-372">[**NSG**][NSG].</span></span> <span data-ttu-id="6f4aa-373">Группа безопасности сети представляет список правил безопасности, которые действуют как средство фильтрации трафика для исходных и целевых IP-адресов, протоколов, а также исходных и целевых IP-портов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-373">A network security group is a list of security rules that acts as traffic filtering on IP sources, IP destinations, protocols, IP source ports, and IP destination ports.</span></span> <span data-ttu-id="6f4aa-374">NSG можно применять к подсети и (или) виртуальной плате сетевого адаптера, связанной с виртуальной машиной Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-374">The NSG can apply to a subnet, a virtual NIC card associated with an Azure VM, or both.</span></span> <span data-ttu-id="6f4aa-375">NSG необходимы для реализации правильного управления потоком в концентраторе и периферийных зонах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-375">NSGs are essential to implement a correct flow control in the hub and in the spokes.</span></span> <span data-ttu-id="6f4aa-376">Уровень безопасности, обеспечиваемый NSG, зависит от того, какие порты вы открываете и с какой целью.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-376">The level of security afforded by the NSG is a function of which ports you open and for what purpose.</span></span> <span data-ttu-id="6f4aa-377">Клиенты должны применять дополнительные фильтры для каждой виртуальной машины с помощью брандмауэров на основе узла, например IPtables или брандмауэра Windows.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-377">Customers should apply additional per VM filters with host-based firewalls such as IPtables or the Windows Firewall.</span></span>
-   <span data-ttu-id="6f4aa-378">[**DNS**][DNS].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-378">[**DNS**][DNS].</span></span> <span data-ttu-id="6f4aa-379">Разрешение имен ресурсов в виртуальных сетях ВЦОД обеспечивается через службу доменных имен (DNS).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-379">The name resolution of resources in the virtual networks of the VDC is provided through the DNS.</span></span> <span data-ttu-id="6f4aa-380">Azure предоставляет службы DNS как для [общедоступного][DNS], так и для [частного][PrivateDNS] разрешения имен.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-380">Azure provides DNS services for both [public][DNS] and [private][PrivateDNS] name resolution.</span></span> <span data-ttu-id="6f4aa-381">Частные зоны обеспечивают разрешение имен внутри виртуальной сети и между виртуальными сетями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-381">Private zones provide name resolution both within a virtual network and across virtual networks.</span></span> <span data-ttu-id="6f4aa-382">Частные зоны могут охватывать виртуальные сети в пределах одного или нескольких регионов и подписок.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-382">You can have private zones that span across virtual networks in the same region and also across regions and subscriptions.</span></span> <span data-ttu-id="6f4aa-383">Для общедоступного разрешения Azure DNS предоставляет службу размещения для доменов DNS.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-383">For public resolution, Azure DNS provides a hosting service for DNS domains.</span></span> <span data-ttu-id="6f4aa-384">Она предоставляет разрешение имен с помощью инфраструктуры Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-384">It provides name resolution by using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="6f4aa-385">Размещая домены в Azure, вы можете управлять своими записями DNS с помощью тех же учетных данных, API и инструментов и оплачивать использование, как и другие службы Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-385">By hosting your domains in Azure, you can manage your DNS records by using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>
-   <span data-ttu-id="6f4aa-386">[**Подписка**][SubMgmt] и [**управление группой ресурсов**][RGMgmt].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-386">[**Subscription**][SubMgmt] and [**resource group management**][RGMgmt].</span></span> <span data-ttu-id="6f4aa-387">Подписка определяет естественную границу, чтобы создать несколько групп ресурсов в Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-387">A subscription defines a natural boundary to create multiple groups of resources in Azure.</span></span> <span data-ttu-id="6f4aa-388">Ресурсы в подписке собраны вместе в логические контейнеры, которые называются **группами ресурсов**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-388">Resources in a subscription are assembled together in logical containers named **resource groups**.</span></span> <span data-ttu-id="6f4aa-389">Группа ресурсов — это логическая группа для организации ресурсов ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-389">The resource group represents a logical group to organize the resources of the VDC.</span></span>
-   <span data-ttu-id="6f4aa-390">[**RBAC**][RBAC].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-390">[**RBAC**][RBAC].</span></span> <span data-ttu-id="6f4aa-391">RBAC позволяет сопоставить роли в организации с правами доступа к определенным ресурсам Azure, чтобы ограничить для пользователей доступный набор действий.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-391">Through RBAC, it's possible to map organizational roles along with rights to access specific Azure resources, which allows you to restrict users to only a certain subset of actions.</span></span> <span data-ttu-id="6f4aa-392">С помощью RBAC доступ предоставляется путем назначения соответствующей роли пользователям, группам и приложениям в определенной области.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-392">With RBAC, you can grant access by assigning the appropriate role to users, groups, and applications within the relevant scope.</span></span> <span data-ttu-id="6f4aa-393">Областью назначения роли может быть подписка Azure, группа ресурсов или отдельный ресурс.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-393">The scope of a role assignment can be an Azure subscription, a resource group, or a single resource.</span></span> <span data-ttu-id="6f4aa-394">RBAC разрешает наследование разрешений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-394">RBAC allows inheritance of permissions.</span></span> <span data-ttu-id="6f4aa-395">Роли, назначенной в родительской области, предоставляется доступ к содержащимся в ней дочерним элементам.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-395">A role assigned at a parent scope also grants access to the children within it.</span></span> <span data-ttu-id="6f4aa-396">С помощью RBAC вы можете распределить обязанности и предоставить пользователям доступ, требуемый для выполнения поставленных задач.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-396">With RBAC, you can segregate duties and grant only the amount of access to users that they need to do their jobs.</span></span> <span data-ttu-id="6f4aa-397">Например, RBAC может использоваться для предоставления одному сотруднику прав управления виртуальными машинами в подписке,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-397">For example, use RBAC so one employee can manage virtual machines in a subscription.</span></span> <span data-ttu-id="6f4aa-398">а другому — прав управления базами данных SQL в той же подписке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-398">Another can manage SQL databases within the same subscription.</span></span>
-   <span data-ttu-id="6f4aa-399">[**Пиринг между виртуальными сетями**][VNetPeering].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-399">[**Virtual network peering**][VNetPeering].</span></span> <span data-ttu-id="6f4aa-400">Основной механизм, используемый для создания инфраструктуры ВЦОД, — это пиринг между виртуальными сетями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-400">The fundamental feature used to create the infrastructure of the VDC is virtual network peering.</span></span> <span data-ttu-id="6f4aa-401">Пиринг позволяет создать подключение между двумя виртуальными сетями в одном или нескольких регионах через сеть центра обработки данных Azure или глобальную магистральную сеть Azure соответственно.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-401">It's a mechanism that connects two virtual networks in the same region through the Azure datacenter network or by using the Azure worldwide backbone across regions.</span></span>

#### <a name="component-type-perimeter-networks"></a><span data-ttu-id="6f4aa-402">Тип компонента: сети периметра</span><span class="sxs-lookup"><span data-stu-id="6f4aa-402">Component type: Perimeter networks</span></span>
<span data-ttu-id="6f4aa-403">Компоненты [сети периметра][DMZ] (сети DMZ) обеспечивают сетевые подключения локальных или физических сетей центра обработки данных, а также двухстороннюю связь с Интернетом.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-403">With [perimeter network][DMZ] components, or a DMZ network, you can provide network connectivity with your on-premises or physical datacenter networks, along with any connectivity to and from the internet.</span></span> <span data-ttu-id="6f4aa-404">Этот компонент большую часть времени используют команды по работе с сетями и обеспечению безопасности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-404">It's also where your network and security teams likely spend most of their time.</span></span>

<span data-ttu-id="6f4aa-405">Прежде чем попасть на внутренние серверы в периферийных зонах, входящие пакеты должны пройти через устройства безопасности в концентраторе,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-405">Incoming packets should flow through the security appliances in the hub before reaching the back-end servers in the spokes.</span></span> <span data-ttu-id="6f4aa-406">такие как брандмауэры, IDS и IPS.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-406">Examples are the firewall, IDS, and IPS.</span></span> <span data-ttu-id="6f4aa-407">Пакеты, направленные в Интернет рабочими нагрузками, также должны пройти через защитные устройства сети периметра перед выходом из сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-407">Before they leave the network, internet-bound packets from the workloads should also flow through the security appliances in the perimeter network.</span></span> <span data-ttu-id="6f4aa-408">Это удобно для применения политик, выполнения проверок и аудита.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-408">The purposes of this flow are policy enforcement, inspection, and auditing.</span></span>

<span data-ttu-id="6f4aa-409">Сеть периметра включает следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-409">Perimeter network components provide the following features:</span></span>

-   <span data-ttu-id="6f4aa-410">[виртуальные сети][VNet], [определяемые пользователем маршруты][UDR] и [группы безопасности сети][NSG];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-410">[Virtual networks][VNet], [UDRs][UDR], and [NSGs][NSG]</span></span>
-   <span data-ttu-id="6f4aa-411">[сетевые виртуальные модули][NVA];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-411">[Network virtual appliances][NVA]</span></span>
-   <span data-ttu-id="6f4aa-412">[Azure Load Balancer][ALB];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-412">[Azure Load Balancer][ALB]</span></span>
-   <span data-ttu-id="6f4aa-413">[Шлюз приложений Azure][AppGW] и [брандмауэр веб-приложения (WAF)][WAF];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-413">[Azure Application Gateway][AppGW] and [web application firewall (WAF)][WAF]</span></span>
-   <span data-ttu-id="6f4aa-414">[общедоступные IP-адреса][PIP];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-414">[Public IPs][PIP]</span></span>
-   <span data-ttu-id="6f4aa-415">[Azure Front Door][AFD];</span><span class="sxs-lookup"><span data-stu-id="6f4aa-415">[Azure Front Door][AFD]</span></span>
-   <span data-ttu-id="6f4aa-416">[Брандмауэр Azure][AzFW].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-416">[Azure Firewall][AzFW]</span></span>

<span data-ttu-id="6f4aa-417">Как правило, центральная ИТ-команда и команда по обеспечению безопасности отвечают за определение требований и операций в сетях периметра.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-417">Usually, the central IT and security teams have responsibility for requirement definition and operation of the perimeter networks.</span></span>

<span data-ttu-id="6f4aa-418">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-418">[![7]][7]</span></span>

<span data-ttu-id="6f4aa-419">На предыдущей схеме показано применение двух периметров с доступом в Интернет и локальную сеть.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-419">The preceding diagram shows the enforcement of two perimeters with access to the internet and an on-premises network.</span></span> <span data-ttu-id="6f4aa-420">Оба периметра располагаются в концентраторе.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-420">Both are resident in the DMZ and vWAN hubs.</span></span> <span data-ttu-id="6f4aa-421">В концентраторе сети периметра сеть с доступом в Интернет можно масштабировать для поддержки большого количества бизнес-решений с помощью нескольких ферм брандмауэров веб-приложения (WAF) и (или) экземпляров брандмауэров Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-421">In the DMZ hub, the perimeter network to the internet can scale up to support large numbers of lines of business by using multiple farms of web application firewall (WAF) or Azure Firewall instances.</span></span> <span data-ttu-id="6f4aa-422">В концентраторе виртуальной глобальной сети высоко масштабируемые подключения "ветвь — ветвь" и "ветвь — Azure" осуществляется через VPN или ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-422">In the vWAN hub, highly scalable branch-to-branch and branch-to-Azure connectivity is accomplished via a VPN or ExpressRoute as needed.</span></span>

<span data-ttu-id="6f4aa-423">[**Виртуальные сети**][VNet].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-423">[**Virtual networks**][VNet].</span></span> <span data-ttu-id="6f4aa-424">Обычно концентратор создается в виртуальной сети с несколькими подсетями для размещения другого типа служб, выполняющих фильтрацию и анализ трафика в Интернет и обратно через NVA, WAF и экземпляры Шлюзов приложения Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-424">The hub is typically built on a virtual network with multiple subnets to host the different types of services that filter and inspect traffic to or from the internet via NVAs, WAF, and Azure Application Gateway instances.</span></span>

<span data-ttu-id="6f4aa-425">[**Определяемые пользователем маршруты**][UDR].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-425">[**UDRs**][UDR].</span></span> <span data-ttu-id="6f4aa-426">С помощью определяемых пользователем маршрутов клиенты могут развертывать брандмауэры, IDS или IPS и другие виртуальные устройства,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-426">With UDRs, customers can deploy firewalls, IDSs or IPSs, and other virtual appliances.</span></span> <span data-ttu-id="6f4aa-427">а также направлять сетевой трафик через эти устройства безопасности. Это позволяет применять, контролировать и проверять политики границ безопасности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-427">They can route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span> <span data-ttu-id="6f4aa-428">Определяемые пользователем маршруты можно создавать в концентраторе и периферийных зонах,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-428">You can create UDRs in both the hub and the spokes.</span></span> <span data-ttu-id="6f4aa-429">чтобы обеспечить передачу трафика через определенные пользовательские виртуальные машины, виртуальные сетевые устройства и подсистемы балансировки нагрузки, используемые ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-429">They guarantee that traffic transits through the specific custom VMs, network virtual appliances, and load balancers used by the VDC.</span></span> <span data-ttu-id="6f4aa-430">Чтобы убедиться, что трафик, созданный виртуальными машинами, находящимися в периферийной, передается в правильные виртуальные устройства, задайте определяемый пользователем маршрут в подсетях периферийной зоны.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-430">To make sure that traffic generated from VMs resident in the spoke transits to the correct virtual appliances, set a UDR in the subnets of the spoke.</span></span> <span data-ttu-id="6f4aa-431">Создайте интерфейсный IP-адрес для внутренней подсистемы балансировки нагрузки в качестве следующего прыжка.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-431">Set the front-end IP address of the internal load balancer as the next hop.</span></span> <span data-ttu-id="6f4aa-432">Внутренняя подсистема балансировки нагрузки распределяет внутренний трафик на виртуальные устройства (внутренний пул подсистемы балансировки нагрузки).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-432">The internal load balancer distributes the internal traffic to the virtual appliances, or load balancer back-end pool.</span></span>

<span data-ttu-id="6f4aa-433">[**Брандмауэр Azure**][AzFW] — это управляемая облачная служба сетевой безопасности, которая защищает ресурсы виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-433">[**Azure Firewall**][AzFW] is a managed, cloud-based network security service that protects your Azure Virtual Network resources.</span></span> <span data-ttu-id="6f4aa-434">Это высокодоступная служба с полным отслеживанием состояния и неограниченными возможностями облачного масштабирования.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-434">It's a fully stateful firewall as a service with built-in high availability and unrestricted cloud scalability.</span></span> <span data-ttu-id="6f4aa-435">Вы можете централизованно создавать, применять и регистрировать политики приложений и сетевых подключений в подписках и виртуальных сетях.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-435">You can centrally create, enforce, and log application and network connectivity policies across subscriptions and virtual networks.</span></span> <span data-ttu-id="6f4aa-436">Брандмауэр Azure использует статический общедоступный IP-адрес для ресурсов виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-436">Azure Firewall uses a static public IP address for your virtual network resources.</span></span> <span data-ttu-id="6f4aa-437">Он разрешает внешним брандмауэрам идентифицировать трафик, поступающий из вашей виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-437">It allows outside firewalls to identify traffic that originates from your virtual network.</span></span> <span data-ttu-id="6f4aa-438">Служба полностью интегрирована с Azure Monitor для ведения журналов и аналитики.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-438">The service is fully integrated with Azure Monitor for logging and analytics.</span></span>

<span data-ttu-id="6f4aa-439">[**Сетевые виртуальные устройства**][NVA].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-439">[**Network virtual appliances**][NVA].</span></span> <span data-ttu-id="6f4aa-440">В концентраторе сеть периметра с доступом в Интернет обычно управляется с помощью экземпляра Брандмауэра Azure, фермы брандмауэров или брандмауэров веб-приложений (WAF).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-440">In the hub, the perimeter network with access to the internet is normally managed through an Azure Firewall instance or a farm of firewalls or web application firewall (WAF).</span></span>

<span data-ttu-id="6f4aa-441">Разные бизнес-приложения обычно используют многие веб-приложения,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-441">Different LOBs commonly use many web applications.</span></span> <span data-ttu-id="6f4aa-442">которые, как правило, являются уязвимыми.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-442">These applications tend to suffer from various vulnerabilities and potential exploits.</span></span> <span data-ttu-id="6f4aa-443">Брандмауэры веб-приложений — это особый тип продукта, используемый для обнаружения атак, направленных на веб-приложения (HTTP и HTTPS). Это отличает их от обычных брандмауэров.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-443">Web application firewalls are a special type of product used to detect attacks against web applications, HTTP/HTTPS, in more depth than a generic firewall.</span></span> <span data-ttu-id="6f4aa-444">По сравнению с традиционными брандмауэрами WAF содержит набор специальных функций для защиты внутренних веб-серверов от угроз.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-444">Compared with tradition firewall technology, WAFs have a set of specific features to protect internal web servers from threats.</span></span>

<span data-ttu-id="6f4aa-445">При этом отдельный ВЦОД должен размещаться в одном регионе, так как требования подписки запрещают использование нескольких регионов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-445">However, a single VDC implementation is required to be hosted within a single region because the subscription requirements don't allow spanning of regions.</span></span> <span data-ttu-id="6f4aa-446">Из-за этого требования такой ВЦОД становится уязвимым к региональным сбоям.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-446">This requirement makes a single VDC implementation vulnerable to regional outages.</span></span>

<span data-ttu-id="6f4aa-447">Фермы Брандмауэра Azure или фермы брандмауэра NVA используют общую панель администрирования.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-447">An Azure Firewall instance or NVA firewall farms use a common administration plane.</span></span> <span data-ttu-id="6f4aa-448">Предоставляемый набор правил безопасности помогает защитить рабочие нагрузки, размещенные в периферийных зонах, а также управлять доступом к локальным сетям.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-448">A set of security rules protects the workloads that are hosted in the spokes and controls access to on-premises networks.</span></span> <span data-ttu-id="6f4aa-449">Брандмауэр Azure является масштабируемым решением, тогда как брандмауэры NVA можно масштабировать вручную за подсистемой балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-449">Azure Firewall has scalability built in, whereas NVA firewalls can be manually scaled behind a load balancer.</span></span> <span data-ttu-id="6f4aa-450">Как правило, ПО фермы брандмауэра является менее специализированным по сравнению с WAF.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-450">Generally, a firewall farm has less specialized software compared to WAF.</span></span> <span data-ttu-id="6f4aa-451">Но оно предоставляет больше возможностей фильтрации и проверки любого типа трафика (входящего и исходящего).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-451">But it has a broader application scope to filter and inspect any type of traffic in egress and ingress.</span></span> <span data-ttu-id="6f4aa-452">Если используются брандмауэры NVA, их можно развернуть из Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-452">If an NVA approach is used, they can be found and deployed from the Azure Marketplace.</span></span>

<span data-ttu-id="6f4aa-453">Рекомендуется использовать один набор экземпляров Брандмауэров Azure или брандмауэров NVA для трафика в Интернете</span><span class="sxs-lookup"><span data-stu-id="6f4aa-453">We recommend that you use one set of Azure Firewall instances, or NVAs, for traffic originating on the internet.</span></span> <span data-ttu-id="6f4aa-454">и другой — для трафика в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-454">Use another for traffic originating on-premises.</span></span> <span data-ttu-id="6f4aa-455">Использование только одного набора брандмауэров в обоих случаях представляет угрозу безопасности, так как между двумя наборами сетевого трафика отсутствует периметр безопасности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-455">Using only one set of firewalls for both is a security risk as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="6f4aa-456">Использование отдельных уровней брандмауэра упрощает проверку правил безопасности, а также помогает понять, какие правила соответствуют определенным входящим сетевым запросам.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-456">Using separate firewall layers reduces the complexity of checking security rules and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="6f4aa-457">Большинство крупных предприятий управляют несколькими доменами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-457">Most large enterprises manage multiple domains.</span></span> <span data-ttu-id="6f4aa-458">[Azure DNS][DNS] можно использовать для размещения DNS-записей определенного домена.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-458">[Azure DNS][DNS] can be used to host the DNS records for a particular domain.</span></span> <span data-ttu-id="6f4aa-459">Например, виртуальный IP-адрес (VIP) внешней подсистемы балансировки нагрузки Azure (или брандмауэры WAF) можно зарегистрировать в записи Azure DNS типа **A**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-459">For example, the virtual IP (VIP) address of the Azure external load balancer, or WAF, can be registered in the **A** record of an Azure DNS record.</span></span> <span data-ttu-id="6f4aa-460">[**Частная зона DNS**][PrivateDNS] также доступна для управления частными адресными пространствами в пределах виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-460">[**Private DNSs**][PrivateDNS] are also available for managing the private address spaces inside virtual networks.</span></span>

<span data-ttu-id="6f4aa-461">[**Azure Load Balancer**][ALB] — это служба 4-го уровня, работающая с протоколами TCP или UDP.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-461">[**Azure Load Balancer**][ALB] offers a high-availability Layer 4, TCP or UDP, service.</span></span> <span data-ttu-id="6f4aa-462">Она используется для распределения входящего трафика между экземплярами служб в наборе балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-462">It can distribute incoming traffic among service instances defined in a load-balanced set.</span></span> <span data-ttu-id="6f4aa-463">Трафик, отправленный в подсистему балансировки нагрузки из интерфейсных конечных точек (конечных точек общедоступного IP-адреса или частного IP-адреса) может распространяться с преобразованием адреса и без него в набор серверного пула IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-463">Traffic sent to the load balancer from front-end endpoints, public or private IP, can be redistributed with or without address translation to a set of back-end IP address pools.</span></span> <span data-ttu-id="6f4aa-464">Примеры — виртуальные сетевые устройства и виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-464">Examples are network virtual appliances or VMs.</span></span>

<span data-ttu-id="6f4aa-465">Azure Load Balancer также может проверять работоспособность разных экземпляров сервера.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-465">Azure Load Balancer can probe the health of the various server instances as well.</span></span> <span data-ttu-id="6f4aa-466">Если проба не отвечает, подсистема балансировки нагрузки останавливает отправку трафика в неработоспособный экземпляр.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-466">When a probe fails to respond, the load balancer stops sending traffic to the unhealthy instance.</span></span> <span data-ttu-id="6f4aa-467">В ВЦОД внешняя подсистема балансировки нагрузки в концентраторе распределяет трафик между NVA.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-467">In the VDC, an external load balancer in the hub balances the traffic to NVAs, for example.</span></span> <span data-ttu-id="6f4aa-468">В периферийных зонах она отвечает за балансировку трафика между разными виртуальными машинами многоуровневого приложения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-468">In the spokes, it does tasks like balancing traffic between different VMs of a multi-tier application.</span></span>

<span data-ttu-id="6f4aa-469">[**Azure Front Door**][AFD] — это высокодоступная и масштабируемая платформа от Майкрософт для ускорения веб-приложений, глобальная подсистема балансировки нагрузки HTTP, средство защиты приложений и сеть доставки содержимого.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-469">[**Azure Front Door**][AFD] is Microsoft's highly available and scalable web application acceleration platform, global HTTP load balancer, application protection, and content delivery network.</span></span> <span data-ttu-id="6f4aa-470">Front Door выполняется более чем в 100 расположениях на границе глобальной сети Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-470">Front Door runs in more than 100 locations at the edge of Microsoft's global network.</span></span> <span data-ttu-id="6f4aa-471">С помощью Front Door можно создавать, использовать и масштабировать динамические веб-приложения и статическое содержимое.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-471">By using Front Door, you can build, operate, and scale out your dynamic web applications and static content.</span></span> <span data-ttu-id="6f4aa-472">Front Door обеспечивает для приложения следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-472">Front Door provides your application the following benefits:</span></span> 
* <span data-ttu-id="6f4aa-473">Высокие показатели производительности для пользователей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-473">World-class end-user performance.</span></span>
* <span data-ttu-id="6f4aa-474">Унифицированная автоматизация регионального или маркированного обслуживания.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-474">Unified regional or stamp maintenance automation.</span></span>
* <span data-ttu-id="6f4aa-475">Автоматизация операций по обеспечению непрерывности бизнес-процессов и аварийного восстановления (BCDR).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-475">BCDR automation.</span></span>
* <span data-ttu-id="6f4aa-476">Унифицированные сведения о клиентах или пользователях.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-476">Unified client or user information.</span></span> 
* <span data-ttu-id="6f4aa-477">Кэширование.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-477">Caching.</span></span> 
* <span data-ttu-id="6f4aa-478">Полезные сведения об услугах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-478">Service insights.</span></span> <span data-ttu-id="6f4aa-479">Платформа гарантирует производительность и надежность, а также поддерживает Соглашения об уровне обслуживания, сертификаты соответствия и проверенные способы обеспечения безопасности, разработанные, реализуемые и поддерживаемые платформой Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-479">The platform offers performance, reliability and support SLAs, compliance certifications, and auditable security practices that are developed, operated, and supported natively by Azure.</span></span>

<span data-ttu-id="6f4aa-480">[**Шлюз приложений**][AppGW] — это выделенный виртуальный модуль, который предоставляет контроллер доставки приложений (ADC) как услугу, обеспечивая для приложения разные функции балансировки нагрузки уровня 7.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-480">[**Application Gateway**][AppGW] is a dedicated virtual appliance that provides application delivery controller (ADC) as a service, offering various layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="6f4aa-481">Вы можете оптимизировать производительность веб-фермы за счет разгрузки SSL-терминации, требующей интенсивного использования ЦП, в экземпляре Шлюза приложений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-481">You can optimize web farm productivity by offloading CPU-intensive SSL termination to the Application Gateway instance.</span></span> <span data-ttu-id="6f4aa-482">Он также предоставляет другие возможности маршрутизации уровня 7, включая:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-482">It also provides other layer 7 routing capabilities that include the following examples:</span></span> 
* <span data-ttu-id="6f4aa-483">Циклическое распределение входящего трафика.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-483">Round robin distribution of incoming traffic.</span></span> 
* <span data-ttu-id="6f4aa-484">Сходство сеансов на основе файлов cookie.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-484">Cookie-based session affinity.</span></span> 
* <span data-ttu-id="6f4aa-485">Маршрутизация на основе URL-путей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-485">URL path-based routing.</span></span> 
* <span data-ttu-id="6f4aa-486">Возможность размещения нескольких веб-сайтов за одним экземпляром Шлюза приложений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-486">The ability to host multiple websites behind a single Application Gateway instance.</span></span> <span data-ttu-id="6f4aa-487">Брандмауэр веб-приложений (WAF) также предоставляется как часть SKU WAF Шлюза приложений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-487">Web application firewall (WAF) is also provided as part of the Application Gateway WAF SKU.</span></span> <span data-ttu-id="6f4aa-488">Этот SKU обеспечивает защиту веб-приложений от распространенных веб-уязвимостей и эксплойтов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-488">This SKU provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="6f4aa-489">Шлюз приложений можно настроить как шлюз с доступом в Интернет и (или) внутренний шлюз или.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-489">Application Gateway can be configured as an internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> 

<span data-ttu-id="6f4aa-490">[**Общедоступные IP-адреса**][PIP].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-490">[**Public IPs**][PIP].</span></span> <span data-ttu-id="6f4aa-491">Некоторые функции Azure позволяют связывать конечные точки службы с общедоступным IP-адресом для получения доступа к ресурсам из Интернета.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-491">With some Azure features, you can associate service endpoints to a public IP address, so that your resource can be accessed from the internet.</span></span> <span data-ttu-id="6f4aa-492">Эта конечная точка использует преобразование сетевых адресов (NAT) для маршрутизации трафика на внутренний адрес и порт в виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-492">This endpoint uses network address translation (NAT) to route traffic to the internal address and port on the Azure virtual network.</span></span> <span data-ttu-id="6f4aa-493">Это основной путь передачи внешнего трафика в виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-493">This path is the primary way for external traffic to pass into the virtual network.</span></span> <span data-ttu-id="6f4aa-494">Общедоступные IP-адреса можно настроить, чтобы определить, какой трафик следует пропускать в виртуальную сеть, а также как и где его следует пропускать.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-494">You can configure public IP addresses to determine which traffic is passed in and how and where it's translated onto the virtual network.</span></span>

<span data-ttu-id="6f4aa-495">[**Защита от атак DDoS Azure уровня "Стандартный"**][DDOS] предоставляет дополнительные возможности по устранению рисков по сравнению с [уровнем службы "Базовый"][DDOS], которые разработаны для ресурсов виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-495">[**Azure DDoS Protection Standard**][DDOS] provides additional mitigation capabilities over the [Basic service][DDOS] tier that are tuned specifically to Azure Virtual Network resources.</span></span> <span data-ttu-id="6f4aa-496">Службу "Защита от атак DDoS" уровня "Стандартный" легко включить, и для ее использования не нужно изменять приложение.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-496">DDoS Protection Standard is simple to enable and requires no application changes.</span></span> <span data-ttu-id="6f4aa-497">Политики защиты корректируются на основе мониторинга выделенного трафика и алгоритмов машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-497">Protection policies are tuned through dedicated traffic monitoring and machine learning algorithms.</span></span> <span data-ttu-id="6f4aa-498">Они применяются к общедоступным IP-адресам, связанным с ресурсами, развернутыми в виртуальных сетях,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-498">Policies are applied to public IP addresses associated to resources deployed in virtual networks.</span></span> <span data-ttu-id="6f4aa-499">такими как Azure Load Balancer, Шлюз приложений Azure и экземпляры Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-499">Examples are Azure Load Balancer, Azure Application Gateway, and Azure Service Fabric instances.</span></span> <span data-ttu-id="6f4aa-500">Данные телеметрии доступны в представлениях Azure Monitor в режиме реального времени во время атаки и после ее окончания.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-500">Real-time telemetry is available through Azure Monitor views during an attack and for history.</span></span> <span data-ttu-id="6f4aa-501">Можно также включить защиту на прикладном уровне с помощью брандмауэра веб-приложения в Шлюзе приложений Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-501">Application layer protection can be added through the Azure Application Gateway web application firewall.</span></span> <span data-ttu-id="6f4aa-502">Защита обеспечивается для общедоступных IP-адресов Azure IPv4.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-502">Protection is provided for IPv4 Azure public IP addresses.</span></span>

#### <a name="component-type-monitoring"></a><span data-ttu-id="6f4aa-503">Тип компонента: мониторинг</span><span class="sxs-lookup"><span data-stu-id="6f4aa-503">Component type: Monitoring</span></span>
<span data-ttu-id="6f4aa-504">Компоненты мониторинга обеспечивают видимость и оповещения, получаемые от всех других типов компонентов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-504">Monitoring components provide visibility and alerting from all the other components types.</span></span> <span data-ttu-id="6f4aa-505">У всех групп должен быть доступ к мониторингу соответствующих компонентов и служб.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-505">All teams should have access to monitoring for the components and services they have access to.</span></span> <span data-ttu-id="6f4aa-506">Если у вас есть централизованная служба поддержки или операционная группа, им понадобится интегрированный доступ к данным, предоставляемый этими компонентами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-506">If you have a centralized help desk or operation teams, they need to have integrated access to the data provided by these components.</span></span>

<span data-ttu-id="6f4aa-507">Azure предлагает несколько типов служб ведения журналов и мониторинга для отслеживания поведения размещенных ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-507">Azure offers different types of logging and monitoring services to track the behavior of Azure-hosted resources.</span></span> <span data-ttu-id="6f4aa-508">Регулирование рабочих нагрузок и управление ими в Azure основано не только на сборе данных журнала, но также на возможности активировать действия на основе определенных сообщаемых событий.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-508">Governance and control of workloads in Azure is based not just on collecting log data but also on the ability to trigger actions based on specific reported events.</span></span>

<span data-ttu-id="6f4aa-509">[**Azure Monitor**][Monitor].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-509">[**Azure Monitor**][Monitor].</span></span> <span data-ttu-id="6f4aa-510">Azure предлагает несколько служб, которые по отдельности выполняют определенную роль или задачу в пространстве мониторинга.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-510">Azure includes multiple services that individually perform a specific role or task in the monitoring space.</span></span> <span data-ttu-id="6f4aa-511">Вместе эти службы предоставляют комплексное решение для сбора, анализа и использования телеметрии из вашего приложения и ресурсов Azure, которые их поддерживают.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-511">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your application and the Azure resources that support them.</span></span> <span data-ttu-id="6f4aa-512">Они также могут выполнять мониторинг критически важных локальных ресурсов и предоставлять гибридную среду мониторинга.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-512">They can also work to monitor critical on-premises resources in order to provide a hybrid monitoring environment.</span></span> <span data-ttu-id="6f4aa-513">Понимание имеющихся инструментов и данных является первым шагом в разработке комплексной стратегии мониторинга для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-513">Understanding the tools and data that are available is the first step in developing a complete monitoring strategy for your application.</span></span>

<span data-ttu-id="6f4aa-514">Есть два основных типа журналов в Azure:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-514">There are two major types of logs in Azure:</span></span>

-   <span data-ttu-id="6f4aa-515">[Журнал действий][ActLog] (прежнее название — **журнал операций**) предоставляет сведения об операциях, выполняемых в ресурсах в подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-515">The [Azure Activity Log][ActLog], previously called **Operational Logs**, provides insight into the operations that were performed on resources in the Azure subscription.</span></span> <span data-ttu-id="6f4aa-516">Эти журналы предоставляют отчет о событиях уровня управления в подписках.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-516">These logs report the control-plane events for your subscriptions.</span></span> <span data-ttu-id="6f4aa-517">Журналы аудита ведутся для каждого ресурса Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-517">Every Azure resource produces audit logs.</span></span>

-   <span data-ttu-id="6f4aa-518">[Журналы диагностики Azure][DiagLog] генерируются ресурсом. Они содержат подробные и своевременные данные о работе этого ресурса.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-518">[Azure Monitor diagnostic logs][DiagLog] are logs generated by a resource that provides rich, frequent data about the operation of that resource.</span></span> <span data-ttu-id="6f4aa-519">Содержимое этих журналов зависит от типа ресурса.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-519">The content of these logs varies by resource type.</span></span>

<span data-ttu-id="6f4aa-520">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-520">[![9]][9]</span></span>

<span data-ttu-id="6f4aa-521">В ВЦОД очень важно отслеживать журналы NSG, в частности, следующие:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-521">In the VDC, it's important to track the NSG logs, particularly this information:</span></span>

-   <span data-ttu-id="6f4aa-522">[Журналы событий][NSGLog]. Эти журналы предоставляют сведения о правилах NSG, примененных к виртуальным машинам и ролям экземпляров на основе MAC-адреса.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-522">[Event logs][NSGLog] provide information on what NSG rules are applied to VMs and instance roles based on MAC address.</span></span>
-   <span data-ttu-id="6f4aa-523">[Журналы счетчиков][NSGLog].Они позволяют отслеживать, сколько раз каждое правило NSG применялось для запрета или разрешения трафика.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-523">[Counter logs][NSGLog] track how many times each NSG rule was run to deny or allow traffic.</span></span>

<span data-ttu-id="6f4aa-524">Все журналы можно хранить в учетных записях хранения Azure для аудита, статического анализа или резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-524">All logs can be stored in Azure storage accounts for audit, static analysis, or backup purposes.</span></span> <span data-ttu-id="6f4aa-525">Если журналы хранятся в учетной записи хранения Azure, клиенты могут использовать разные типы платформ для извлечения, подготовки, анализа и визуализации этих данных для создания отчета о состоянии и работоспособности облачных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-525">When you store the logs in an Azure storage account, customers can use different types of frameworks to retrieve, prep, analyze, and visualize this data to report the status and health of cloud resources.</span></span> 

<span data-ttu-id="6f4aa-526">У крупных предприятий должна быть стандартная платформа для мониторинга локальных систем,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-526">Large enterprises should already have acquired a standard framework for monitoring on-premises systems.</span></span> <span data-ttu-id="6f4aa-527">которую они могут расширить для интеграции журналов, созданных облачными развертываниями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-527">They can extend that framework to integrate logs generated by cloud deployments.</span></span> <span data-ttu-id="6f4aa-528">С помощью [Log Analytics][https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-queries] организации могут хранить все журналы в облаке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-528">By using [Azure Log Analytics][https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-queries], organizations can keep all the logging in the cloud.</span></span> <span data-ttu-id="6f4aa-529">Log Analytics реализуется как облачная служба.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-529">Log Analytics is implemented as a cloud-based service.</span></span> <span data-ttu-id="6f4aa-530">Поэтому подготовка к работе и запуск выполняются быстро и без значительных инвестиций в службы инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-530">So you have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="6f4aa-531">Кроме того, Log Analytics поддерживает интеграцию с компонентами System Center, такими как System Center Operations Manager, благодаря чему существующие инвестиции в средства управления также охватывают и облачные решения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-531">Log Analytics also integrate with System Center components like System Center Operations Manager to extend your existing management investments into the cloud.</span></span> 

<span data-ttu-id="6f4aa-532">Log Analytics — это служба в Azure, которая помогает выполнять сбор, сопоставление, поиск и действия в отношении данных журналов и производительности, созданных операционными системами, приложениями и облачными компонентами инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-532">Log Analytics is a service in Azure that helps collect, correlate, search, and act on log and performance data generated by operating systems, applications, and infrastructure cloud components.</span></span> <span data-ttu-id="6f4aa-533">Эта служба предоставляет клиентам полезные сведения об операциях в реальном времени, используя интегрированный поиск и настраиваемые панели мониторинга для анализа всех записей всех рабочих нагрузок в ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-533">It gives customers real-time operational insights by using integrated search and custom dashboards to analyze all the records across all your workloads in the VDC.</span></span>

<span data-ttu-id="6f4aa-534">[Наблюдатель за сетями Azure][NetWatch] предоставляет инструменты для мониторинга, диагностики, просмотра метрик и включения или отключения журналов для ресурсов в виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-534">[Azure Network Watcher][NetWatch] provides tools to monitor, diagnose, and view metrics and enable or disable logs for resources in an Azure virtual network.</span></span> <span data-ttu-id="6f4aa-535">Это многоаспектная служба, обеспечивающая следующие возможности:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-535">It's a multifaceted service that allows the following functionalities and more:</span></span>
-    <span data-ttu-id="6f4aa-536">мониторинг взаимодействия между виртуальной машиной и конечной точкой;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-536">Monitor communication between a virtual machine and an endpoint.</span></span>
-    <span data-ttu-id="6f4aa-537">просмотр ресурсов и их связей в виртуальной сети;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-537">View resources in a virtual network and their relationships.</span></span>
-    <span data-ttu-id="6f4aa-538">диагностика проблем с фильтрацией входящего или исходящего трафика виртуальной машины;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-538">Diagnose network traffic filtering problems to or from a VM.</span></span>
-    <span data-ttu-id="6f4aa-539">диагностика проблем с сетевой маршрутизацией на виртуальной машине;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-539">Diagnose network routing problems from a VM.</span></span>
-    <span data-ttu-id="6f4aa-540">диагностика исходящих подключений виртуальной машины;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-540">Diagnose outbound connections from a VM.</span></span>
-    <span data-ttu-id="6f4aa-541">сбор пакетов, направляющихся в виртуальную машину и из нее;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-541">Capture packets to and from a VM.</span></span>
-    <span data-ttu-id="6f4aa-542">диагностика проблем со шлюзом и подключениями виртуальной сети Azure;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-542">Diagnose problems with an Azure virtual network gateway and connections.</span></span>
-    <span data-ttu-id="6f4aa-543">определение относительных задержек между регионами Azure и поставщиками услуг Интернета;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-543">Determine relative latencies between Azure regions and internet service providers.</span></span>
-    <span data-ttu-id="6f4aa-544">просмотр правил безопасности для сетевого интерфейса;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-544">View security rules for a network interface.</span></span>
-    <span data-ttu-id="6f4aa-545">просмотр метрик сети;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-545">View network metrics.</span></span>
-    <span data-ttu-id="6f4aa-546">анализ трафика, направляющегося в группу безопасности сети или из нее;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-546">Analyze traffic to or from a network security group.</span></span>
-    <span data-ttu-id="6f4aa-547">просмотр журналов диагностики для сетевых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-547">View diagnostic logs for network resources.</span></span>

<span data-ttu-id="6f4aa-548">Решение [Монитор производительности сети][NPM] в Operations Management Suite предоставляет подробные сведения о сети,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-548">The [Network Performance Monitor][NPM] solution inside Operations Management Suite can provide detailed network information end to end.</span></span> <span data-ttu-id="6f4aa-549">включая единое представление сетей Azure и локальных сетей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-549">This information includes a single view of your Azure networks and on-premises networks.</span></span> <span data-ttu-id="6f4aa-550">Это решение имеет отдельные функции мониторинга для ExpressRoute и общедоступных служб.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-550">The solution has specific monitors for ExpressRoute and public services.</span></span>

#### <a name="component-type-workloads"></a><span data-ttu-id="6f4aa-551">Тип компонента: рабочие нагрузки</span><span class="sxs-lookup"><span data-stu-id="6f4aa-551">Component type: Workloads</span></span>
<span data-ttu-id="6f4aa-552">Именно здесь находятся ваши фактические приложения и службы.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-552">Workload components are where your actual applications and services reside.</span></span> <span data-ttu-id="6f4aa-553">Команды разработчиков приложений также работают с этим компонентом большую часть времени.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-553">They're also where your application development teams spend most of their time.</span></span>

<span data-ttu-id="6f4aa-554">Возможности рабочих нагрузок на самом деле безграничны.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-554">The workload possibilities are endless.</span></span> <span data-ttu-id="6f4aa-555">Ниже приведены несколько возможных типов рабочих нагрузок:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-555">The following are just a few of the possible workload types:</span></span>

<span data-ttu-id="6f4aa-556">**Внутренние бизнес-приложения**— приложения для компьютера, которые являются чрезвычайно важными для выполняющихся корпоративных операций.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-556">**Internal line-of-business applications** are computer applications critical to the ongoing operation of an enterprise.</span></span> <span data-ttu-id="6f4aa-557">У них есть некоторые общие характеристики:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-557">Line of business applications have some common characteristics:</span></span>

-   <span data-ttu-id="6f4aa-558">**интерактивность** —</span><span class="sxs-lookup"><span data-stu-id="6f4aa-558">**Interactive** by nature.</span></span> <span data-ttu-id="6f4aa-559">данные вводятся и возвращаются результаты или отчеты;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-559">Data is entered, and results or reports are returned.</span></span>
-   <span data-ttu-id="6f4aa-560">**активное использование данных** — данные интенсивно используются с частым доступом к базам данных или другому хранилищу;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-560">**Data driven**&mdash;data intensive with frequent access to databases or other storage.</span></span>
-   <span data-ttu-id="6f4aa-561">**интеграция** — интеграция с другими системами в пределах и за пределами организации.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-561">**Integrated**&mdash;offer integration with other systems within or outside the organization.</span></span>

<span data-ttu-id="6f4aa-562">**Веб-сайты для клиентов (для Интернета или внутреннего использования)**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-562">**Customer-facing websites (internet or internal facing)**.</span></span> <span data-ttu-id="6f4aa-563">Большинство приложений, взаимодействующих с Интернетом, — это веб-сайты.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-563">Most applications that interact with the internet are websites.</span></span> <span data-ttu-id="6f4aa-564">Azure позволяет запускать веб-сайты на виртуальной машине IaaS или на сайте [Службы приложений Microsoft Azure с помощью веб-приложений Azure][WebApps] (PaaS).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-564">Azure offers the ability to run a website on an IaaS VM or from a [Web Apps feature of Microsoft Azure App Service][WebApps] site (PaaS).</span></span> <span data-ttu-id="6f4aa-565">Веб-приложения поддерживают интеграцию с виртуальными сетями, что позволяет развертывать веб-приложения в периферийной зоне ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-565">Web Apps supports integration with virtual networks that allow the deployment of Web Apps in the spoke of the VDC.</span></span> <span data-ttu-id="6f4aa-566">При использовании веб-сайтов с доступом в Интернет благодаря интеграции виртуальной сети вам не нужно предоставлять соответствующую конечную точку для своих приложений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-566">When looking at internal-facing websites, with virtual network integration, you don't need to expose an internet endpoint for your applications.</span></span> <span data-ttu-id="6f4aa-567">Вместо этого вы можете использовать ресурсы через частные адреса, не маршрутизируемые в Интернет, из виртуальной частной сети.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-567">But you can use the resources via private non-internet routable addresses from your private virtual network instead.</span></span>

<span data-ttu-id="6f4aa-568">**Большие данные и аналитика**</span><span class="sxs-lookup"><span data-stu-id="6f4aa-568">**Big data and analytics**.</span></span> <span data-ttu-id="6f4aa-569">Когда данные необходимо масштабировать до очень большого объема, базы данных могут не справиться с этим.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-569">When data needs to scale up to a large volume, databases might not scale up properly.</span></span> <span data-ttu-id="6f4aa-570">Технология Apache Hadoop предлагает систему для параллельного запуска распределенных запросов в большом количестве узлов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-570">Apache Hadoop technology offers a system to run distributed queries in parallel on a large number of nodes.</span></span> <span data-ttu-id="6f4aa-571">Клиенты могут выполнять рабочие нагрузки данных на виртуальных машинах IaaS или в PaaS ([Azure HDInsight][HDI]).</span><span class="sxs-lookup"><span data-stu-id="6f4aa-571">Customers can run data workloads in IaaS VMs or PaaS, [Azure HDInsight][HDI].</span></span> <span data-ttu-id="6f4aa-572">HDInsight поддерживает развертывание в виртуальной сети на основе расположения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-572">HDInsight supports deploying into a location-based virtual network.</span></span> <span data-ttu-id="6f4aa-573">Это решение можно развернуть в кластере в периферийной зоне ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-573">It can be deployed to a cluster in a spoke of the VDC.</span></span>

<span data-ttu-id="6f4aa-574">**События и обмен сообщениями**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-574">**Events and messaging**.</span></span> <span data-ttu-id="6f4aa-575">[Центры событий Azure][EventHubs] — это гипермасштабируемая служба обработки данных телеметрии. Она собирает, преобразовывает и хранит миллионы событий.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-575">[Azure Event Hubs][EventHubs] is a hyperscale telemetry-ingestion service that collects, transforms, and stores millions of events.</span></span> <span data-ttu-id="6f4aa-576">Используемая в качестве распределенной платформы потоковой передачи, она гарантирует низкую задержку и позволяет настраивать время хранения.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-576">As a distributed streaming platform, it offers low latency and configurable time retention.</span></span> <span data-ttu-id="6f4aa-577">Так вы можете принимать большие объемы данных телеметрии в Azure и читать эти данные из нескольких приложений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-577">So you can ingest massive amounts of telemetry into Azure and read that data from multiple applications.</span></span> <span data-ttu-id="6f4aa-578">Используя Центры событий, отдельный поток может поддерживать обработку конвейеров в режиме реального времени и на основе пакетов.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-578">With Event Hubs, a single stream can support both real-time and batch-based pipelines.</span></span>

<span data-ttu-id="6f4aa-579">Вы можете реализовать высоконадежную облачную систему для обмена сообщениями между приложениями и службами, используя [Служебную шину Azure][ServiceBus].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-579">You can implement a highly reliable cloud messaging service between applications and services through [Azure Service Bus][ServiceBus].</span></span> <span data-ttu-id="6f4aa-580">Это решение обеспечивает асинхронный обмен сообщениями через брокер между клиентом и сервером, обработку сообщений в порядке поступления, а также предлагает возможность публикации и подписки.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-580">It offers asynchronous brokered messaging between client and server, structured first-in-first-out (FIFO) messaging, and publish and subscribe capabilities.</span></span>

<span data-ttu-id="6f4aa-581">[![10]][10]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-581">[![10]][10]</span></span>

### <a name="multiple-vdc-implementations"></a><span data-ttu-id="6f4aa-582">Варианты реализации ВЦОД</span><span class="sxs-lookup"><span data-stu-id="6f4aa-582">Multiple VDC implementations</span></span>


<span data-ttu-id="6f4aa-583">Отдельный ВЦОД размещается в одном регионе.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-583">However, a single VDC is hosted within a single region.</span></span> <span data-ttu-id="6f4aa-584">Он уязвим к простоям, которые могут охватывать весь регион.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-584">It's vulnerable to a major outage that might affect that entire region.</span></span> <span data-ttu-id="6f4aa-585">Клиентам, которым требуется более высокий уровень обслуживания согласно SLA, необходимо защитить службы, развернув один проект в нескольких ВЦОД в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-585">Customers that want to achieve high SLAs need to protect their services through deployments of the same project in two or more VDC implementations, placed in different regions.</span></span>

<span data-ttu-id="6f4aa-586">Также мы рекомендуем рассмотреть еще несколько распространенных сценариев, требующих развертывания нескольких ВЦОД:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-586">In addition to SLA concerns, there are several common scenarios where deploying multiple VDC implementations makes sense:</span></span>

-   <span data-ttu-id="6f4aa-587">региональное или глобальное присутствие;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-587">Regional or global presence.</span></span>
-   <span data-ttu-id="6f4aa-588">аварийное восстановление;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-588">Disaster recovery.</span></span>
-   <span data-ttu-id="6f4aa-589">перенаправление трафика между центрами обработки данных</span><span class="sxs-lookup"><span data-stu-id="6f4aa-589">A mechanism to divert traffic between datacenters.</span></span>

#### <a name="regional-and-global-presence"></a><span data-ttu-id="6f4aa-590">региональное или глобальное присутствие</span><span class="sxs-lookup"><span data-stu-id="6f4aa-590">Regional and global presence</span></span>
<span data-ttu-id="6f4aa-591">Центры обработки данных Azure присутствуют в разных регионах по всему миру.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-591">Azure datacenters are present in many regions worldwide.</span></span> <span data-ttu-id="6f4aa-592">Выбирая вариант с несколькими центрами обработки данных Azure, клиенты должны учитывать два связанных фактора: географическое расстояние и задержку.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-592">When they select multiple Azure datacenters, customers need to consider two related factors: geographical distances and latency.</span></span> <span data-ttu-id="6f4aa-593">Чтобы обеспечить оптимальное взаимодействие, клиентам необходимо рассчитать географическое расстояние между разными ВЦОД, а также расстояние между ВЦОД и пользователями.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-593">To offer the best user experience, customers need to evaluate the geographical distance between the VDC implementations and the distance between the VDC implementations and the end users.</span></span>

<span data-ttu-id="6f4aa-594">Регион Azure, в котором размещаются ВЦОД, должен соответствовать нормативным требованиям, установленным законодательными органами, которым подчиняется организация.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-594">The Azure region where VDC implementations are hosted also needs to conform with regulatory requirements established by any legal jurisdiction under which your organization operates.</span></span>

#### <a name="disaster-recovery"></a><span data-ttu-id="6f4aa-595">Аварийное восстановление</span><span class="sxs-lookup"><span data-stu-id="6f4aa-595">Disaster recovery</span></span>
<span data-ttu-id="6f4aa-596">Реализация плана аварийного восстановления связана с типом соответствующей рабочей нагрузки и возможностью синхронизации состояния рабочей нагрузки между разными ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-596">The implementation of a disaster recovery plan is related to the type of workload concerned and the ability to synchronize the workload state between different VDC implementations.</span></span> <span data-ttu-id="6f4aa-597">В идеале, большинство клиентов хотят синхронизировать данные приложений между развертываниями, выполняющимися в двух разных ВЦОД, для реализации быстрой отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-597">Ideally, most customers want to synchronize application data between deployments that run in two different VDC implementations to implement a fast fail-over mechanism.</span></span> <span data-ttu-id="6f4aa-598">Большинство приложений чувствительны к задержке, что может привести к потенциальному истечению времени ожидания и задержке синхронизации данных.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-598">Most applications are sensitive to latency, and that can cause potential timeout and delay in data synchronization.</span></span>

<span data-ttu-id="6f4aa-599">Для мониторинга синхронизации или пульса приложений в разных ВЦОД требуется настроить обмен данными между этими центрами.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-599">Synchronization or heartbeat monitoring of applications in different VDC implementations requires communication between them.</span></span> <span data-ttu-id="6f4aa-600">Два ВЦОД в разных регионах можно подключить следующим образом:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-600">Two VDC implementations in different regions can be connected as follows:</span></span>

-   <span data-ttu-id="6f4aa-601">пиринг между виртуальными сетями для подключения концентраторов в разных регионах;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-601">Virtual network peering can connect hubs across regions.</span></span>
-   <span data-ttu-id="6f4aa-602">частный пиринг ExpressRoute, когда концентраторы ВЦОД подключены к одному каналу ExpressRoute;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-602">ExpressRoute private peering when the VDC hubs are connected to the same ExpressRoute circuit.</span></span>
-   <span data-ttu-id="6f4aa-603">несколько каналов ExpressRoute, подключенных через корпоративную магистраль, и одноранговая сеть ВЦОД, подключенная к каналам ExpressRoute;</span><span class="sxs-lookup"><span data-stu-id="6f4aa-603">Multiple ExpressRoute circuits connected via your corporate backbone and your VDC mesh connected to the ExpressRoute circuits.</span></span>
-   <span data-ttu-id="6f4aa-604">VPN-подключения "сеть — сеть" между концентраторами ВЦОД в каждом регионе Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-604">Site-to-site VPN connections between your VDC hubs in each Azure region.</span></span>

<span data-ttu-id="6f4aa-605">Как правило, подключение ExpressRoute или пиринг между виртуальными сетями являются предпочтительными механизмами из-за более высокой пропускной способности и последовательной задержки при передаче через опорную сеть Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-605">Usually, virtual network peering or ExpressRoute connections are the preferred mechanism because of higher bandwidth and consistent latency when transiting through the Microsoft backbone.</span></span>

<span data-ttu-id="6f4aa-606">Для проверки приложения, распределенного между несколькими ВЦОД, расположенными в разных регионах, используется стандартный подход.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-606">There's no magic recipe to validate an application distributed between two or more different VDC implementations located in different regions.</span></span> <span data-ttu-id="6f4aa-607">Клиентам следует выполнить проверку сети, чтобы оценить задержку и пропускную способность подключений.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-607">Customers should run network qualification tests to verify the latency and bandwidth of the connections.</span></span> <span data-ttu-id="6f4aa-608">Затем следует выбрать способ репликации данных (синхронный или асинхронный), а также определить оптимальное целевое время восстановления для рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-608">Then target whether synchronous or asynchronous data replication is appropriate and what the optimal recovery time objective (RTO) can be for your workloads.</span></span>

#### <a name="mechanism-to-divert-traffic-between-datacenters"></a><span data-ttu-id="6f4aa-609">Механизм перенаправления трафика между центрами обработки данных</span><span class="sxs-lookup"><span data-stu-id="6f4aa-609">Mechanism to divert traffic between datacenters</span></span>
<span data-ttu-id="6f4aa-610">Один из эффективных способов перенаправления входящего трафика между разными ВЦОД — использование DNS.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-610">One effective technique to divert the traffic incoming in one datacenter to another is based on the Domain Name System (DNS).</span></span> <span data-ttu-id="6f4aa-611">[Диспетчер трафика Azure][TM] использует механизм DNS, чтобы направлять трафик пользователей в наиболее оптимальную общедоступную конечную точку в ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-611">[Azure Traffic Manager][TM] uses the DNS mechanism to direct end-user traffic to the most appropriate public endpoint in a specific VDC.</span></span> <span data-ttu-id="6f4aa-612">С помощью проб диспетчер трафика периодически проверяет работоспособность службы общедоступных конечных точек в разных ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-612">Through probes, Traffic Manager periodically checks the service health of public endpoints in different VDC implementations.</span></span> <span data-ttu-id="6f4aa-613">В случае сбоя этих конечных точек выполняется автоматическое перенаправление в дополнительный ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-613">If those endpoints fail, it routes automatically to the secondary VDC.</span></span>

<span data-ttu-id="6f4aa-614">Диспетчер трафика работает в общедоступных конечных точках Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-614">Traffic Manager works on Azure public endpoints.</span></span> <span data-ttu-id="6f4aa-615">Например, он может управлять трафиком или перенаправлять его в виртуальные машины Azure и веб-приложения в соответствующем ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-615">For example, it can control or divert traffic to Azure VMs and Web Apps in the appropriate VDC.</span></span> <span data-ttu-id="6f4aa-616">Диспетчер трафика устойчив к сбоям, включая сбой всего региона Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-616">Traffic Manager is resilient even in the face of an entire Azure region failing.</span></span> <span data-ttu-id="6f4aa-617">Он управляет распределением пользовательского трафика для конечных точек службы в разных ВЦОД на основе нескольких критериев.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-617">It can control the distribution of user traffic for service endpoints in different VDC implementations based on several criteria.</span></span> <span data-ttu-id="6f4aa-618">Примеры — сбой службы в определенном ВЦОД или выбор ВЦОД с самой низкой задержкой сети для клиента.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-618">Examples are service failure in a specific VDC or selecting the VDC with the lowest network latency for the client.</span></span>

### <a name="conclusion"></a><span data-ttu-id="6f4aa-619">Заключение</span><span class="sxs-lookup"><span data-stu-id="6f4aa-619">Conclusion</span></span>
<span data-ttu-id="6f4aa-620">ВЦОД — это решение для перемещения центра обработки данных в облако, которое использует разные функции и компоненты для создания масштабируемой архитектуры в Azure.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-620">The virtual datacenter is an approach to datacenter migration into the cloud that uses a combination of features and capabilities to create a scalable architecture in Azure.</span></span> <span data-ttu-id="6f4aa-621">Оно расширяет возможности использования облачных ресурсов, сокращает затраты и упрощает системное регулирование.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-621">It maximizes cloud resource use, reduces costs, and simplifies system governance.</span></span> <span data-ttu-id="6f4aa-622">Принцип работы ВЦОД основан на использовании топологии типа "звезда", которая предоставляет распространенные общие службы в концентраторе</span><span class="sxs-lookup"><span data-stu-id="6f4aa-622">The VDC concept is based on a hub-spokes topology that provides common shared services in the hub.</span></span> <span data-ttu-id="6f4aa-623">и позволяет размещать определенные приложения и рабочие нагрузки в периферийных зонах.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-623">It allows specific applications or workloads in the spokes.</span></span> <span data-ttu-id="6f4aa-624">ВЦОД соответствует структуре корпоративных ролей, которая координирует совместную работу разных отделов,</span><span class="sxs-lookup"><span data-stu-id="6f4aa-624">The VDC matches the structure of company roles, where different departments work together.</span></span> <span data-ttu-id="6f4aa-625">Включая основную ИТ-группу, группу Azure DevOps, а также группы эксплуатации и обслуживания.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-625">Examples are the central IT, Azure DevOps, and operations and maintenance.</span></span> <span data-ttu-id="6f4aa-626">Каждому отделу назначаются определенные роли и обязанности.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-626">Each department has a specific list of roles and duties.</span></span> <span data-ttu-id="6f4aa-627">Реализация ВЦОД соответствует требованиям к миграции **lift- and -shift**.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-627">The VDC concept satisfies the requirements for a **lift and shift** migration.</span></span> <span data-ttu-id="6f4aa-628">Но это решение также предоставляет разные преимущества при выполнении собственных развертываний в облаке.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-628">But it also provides many advantages to native cloud deployments.</span></span>

## <a name="references"></a><span data-ttu-id="6f4aa-629">Ссылки</span><span class="sxs-lookup"><span data-stu-id="6f4aa-629">References</span></span>
<span data-ttu-id="6f4aa-630">В этом руководстве рассмотрены следующие функции и компоненты:</span><span class="sxs-lookup"><span data-stu-id="6f4aa-630">Learn more about the following features discussed in this article:</span></span>

| | | |
|-|-|-|
|<span data-ttu-id="6f4aa-631">Сетевые решения</span><span class="sxs-lookup"><span data-stu-id="6f4aa-631">Network features</span></span>|<span data-ttu-id="6f4aa-632">Балансировка нагрузки</span><span class="sxs-lookup"><span data-stu-id="6f4aa-632">Load balancing</span></span>|<span data-ttu-id="6f4aa-633">Соединение</span><span class="sxs-lookup"><span data-stu-id="6f4aa-633">Connectivity</span></span>|
|<span data-ttu-id="6f4aa-634">[Виртуальная сеть Azure][VNet]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-634">[Azure Virtual Network][VNet]</span></span></br><span data-ttu-id="6f4aa-635">[Группы безопасности сети][NSG]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-635">[Network security groups][NSG]</span></span></br><span data-ttu-id="6f4aa-636">[Журналы групп безопасности сети][NSGLog]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-636">[NSG logs][NSGLog]</span></span></br><span data-ttu-id="6f4aa-637">[Определяемые пользователем маршруты][UDR]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-637">[User-defined routes][UDR]</span></span></br><span data-ttu-id="6f4aa-638">[Сетевые виртуальные модули][NVA]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-638">[Network virtual appliances][NVA]</span></span></br><span data-ttu-id="6f4aa-639">[Общедоступные IP-адреса][PIP]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-639">[Public IP addresses][PIP]</span></span></br><span data-ttu-id="6f4aa-640">[Защита от атак DDoS Azure][DDOS]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-640">[Azure DDoS Protection][DDOS]</span></span></br><span data-ttu-id="6f4aa-641">[Брандмауэр Azure][AzFW]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-641">[Azure Firewall][AzFW]</span></span></br><span data-ttu-id="6f4aa-642">[Azure DNS][DNS]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-642">[Azure DNS][DNS]</span></span>|<span data-ttu-id="6f4aa-643">[Azure Front Door][AFD]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-643">[Azure Front Door][AFD]</span></span></br><span data-ttu-id="6f4aa-644">[Azure Load Balancer (уровень 3)][ALB]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-644">[Azure Load Balancer (L3)][ALB]</span></span></br><span data-ttu-id="6f4aa-645">[Шлюз приложений (уровень 7)][AppGW]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-645">[Application Gateway (L7)][AppGW]</span></span></br><span data-ttu-id="6f4aa-646">[Брандмауэр веб-приложения][WAF]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-646">[Web application firewall][WAF]</span></span></br><span data-ttu-id="6f4aa-647">[Диспетчер трафика Azure][TM]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-647">[Azure Traffic Manager][TM]</span></span></br></br></br></br></br> |<span data-ttu-id="6f4aa-648">[Пиринг между виртуальными сетями][VNetPeering]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-648">[Virtual network peering][VNetPeering]</span></span></br><span data-ttu-id="6f4aa-649">[Виртуальная частная сеть][VPN]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-649">[Virtual private network][VPN]</span></span></br><span data-ttu-id="6f4aa-650">[Виртуальная глобальная сеть][vWAN]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-650">[Virtual WAN][vWAN]</span></span></br><span data-ttu-id="6f4aa-651">[ExpressRoute][ExR]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-651">[ExpressRoute][ExR]</span></span></br><span data-ttu-id="6f4aa-652">[ExpressRoute Direct][ExRD]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-652">[ExpressRoute Direct][ExRD]</span></span></br></br></br></br></br>
|<span data-ttu-id="6f4aa-653">Удостоверение</span><span class="sxs-lookup"><span data-stu-id="6f4aa-653">Identity</span></span></br>|<span data-ttu-id="6f4aa-654">Мониторинг</span><span class="sxs-lookup"><span data-stu-id="6f4aa-654">Monitoring</span></span></br>|<span data-ttu-id="6f4aa-655">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="6f4aa-655">Best practices</span></span></br>|
|<span data-ttu-id="6f4aa-656">[Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-656">[Azure Active Directory][AAD]</span></span></br><span data-ttu-id="6f4aa-657">[Многофакторная идентификация][MFA]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-657">[Multi-Factor Authentication][MFA]</span></span></br><span data-ttu-id="6f4aa-658">[Управление доступом на основе ролей][RBAC]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-658">[Role-based access control][RBAC]</span></span></br><span data-ttu-id="6f4aa-659">[Роли Azure AD по умолчанию][Roles]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-659">[Default Azure AD roles][Roles]</span></span></br></br></br> |<span data-ttu-id="6f4aa-660">[Наблюдатель за сетями][NetWatch]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-660">[Network Watcher][NetWatch]</span></span></br><span data-ttu-id="6f4aa-661">[Azure Monitor][Monitor]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-661">[Azure Monitor][Monitor]</span></span></br><span data-ttu-id="6f4aa-662">[Журнал действий][ActLog]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-662">[Activity Log][ActLog]</span></span></br><span data-ttu-id="6f4aa-663">[Мониторинг журналов диагностики][DiagLog]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-663">[Monitor diagnostic logs][DiagLog]</span></span></br><span data-ttu-id="6f4aa-664">[Microsoft Operations Management Suite][OMS]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-664">[Microsoft Operations Management Suite][OMS]</span></span></br><span data-ttu-id="6f4aa-665">[Монитор производительности сети][NPM]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-665">[Network Performance Monitor][NPM]</span></span>|<span data-ttu-id="6f4aa-666">[Рекомендации по обеспечению сети периметра][DMZ]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-666">[Perimeter network best practices][DMZ]</span></span></br><span data-ttu-id="6f4aa-667">[Управление подпиской][SubMgmt]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-667">[Subscription management][SubMgmt]</span></span></br><span data-ttu-id="6f4aa-668">[Управление группой ресурсов][RGMgmt]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-668">[Resource group management][RGMgmt]</span></span></br><span data-ttu-id="6f4aa-669">[Ограничения подписки Azure][Limits]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-669">[Azure subscription limits][Limits]</span></span> </br></br></br>|
|<span data-ttu-id="6f4aa-670">Прочие службы Azure</span><span class="sxs-lookup"><span data-stu-id="6f4aa-670">Other Azure services</span></span>|
|<span data-ttu-id="6f4aa-671">[Веб-приложения][WebApps]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-671">[Web Apps][WebApps]</span></span></br><span data-ttu-id="6f4aa-672">[HDInsight (Hadoop)][HDI]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-672">[HDInsight (Hadoop)][HDI]</span></span></br><span data-ttu-id="6f4aa-673">[Центры событий][EventHubs]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-673">[Event Hubs][EventHubs]</span></span></br><span data-ttu-id="6f4aa-674">[Служебная шина][ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="6f4aa-674">[Service Bus][ServiceBus]</span></span>|

## <a name="next-steps"></a><span data-ttu-id="6f4aa-675">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="6f4aa-675">Next steps</span></span>
 - <span data-ttu-id="6f4aa-676">Ознакомьтесь с понятием [пиринга между виртуальными сетями][VNetPeering] — базовой технологией подключения в топологии типа "звезда", используемой в ВЦОД.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-676">Explore [virtual network peering][VNetPeering], the underpinning technology for VDC hub and spoke designs.</span></span>
 - <span data-ttu-id="6f4aa-677">Реализуйте [Azure AD][AAD], чтобы приступить к работе с [RBAC][RBAC].</span><span class="sxs-lookup"><span data-stu-id="6f4aa-677">Implement [Azure AD][AAD] to get started with [RBAC][RBAC] exploration.</span></span>
 - <span data-ttu-id="6f4aa-678">Разработайте модель управления ресурсами и подпиской, а также модель RBAC для обеспечения необходимой структуры, требований и политик организации.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-678">Develop a subscription and resource management model and an RBAC model to meet the structure, requirements, and policies of your organization.</span></span> <span data-ttu-id="6f4aa-679">Планирование является самым важным действием.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-679">The most important activity is planning.</span></span> <span data-ttu-id="6f4aa-680">Учитывайте это при реорганизации, слиянии, реализации новых разработок и других возможностей.</span><span class="sxs-lookup"><span data-stu-id="6f4aa-680">As much as practical, plan for reorganizations, mergers, new product lines, and other possibilities.</span></span>

<!--Image References-->
[0]: ./images/networking-redundant-equipment.png "Примеры совмещения компонентов" 
[1]: ./images/networking-vdc-high-level.png "Подробный пример звездообразной топологии в VDC"
[2]: ./images/networking-hub-spokes-cluster.png "Кластер со звездообразной топологией"
[3]: ./images/networking-spoke-to-spoke.png "Подключение типа "луч — луч" в звездообразной топологии"
[4]: ./images/networking-vdc-block-level-diagram.png "Схема VDC на уровне блоков"
[5]: ./images/networking-users-groups-subsciptions.png "Пользователи, группы, подписки и проекты"
[6]: ./images/networking-infrastructure-high-level.png "Общая схема инфраструктуры"
[7]: ./images/networking-highlevel-perimeter-networks.png "Общая схема инфраструктуры"
[8]: ./images/networking-vnet-peering-perimeter-neworks.png "Пиринг виртуальных сетей и сети периметра"
[9]: ./images/networking-high-level-diagram-monitoring.png "Общая схема мониторинга"
[10]: ./images/networking-high-level-workloads.png "Общая схема рабочих нагрузок"

<!--Link References-->
[Limits]: /azure/azure-subscription-service-limits
[Roles]: /azure/role-based-access-control/built-in-roles
[VNet]: /azure/virtual-network/virtual-networks-overview
[NSG]: /azure/virtual-network/virtual-networks-nsg
[DNS]: /azure/dns/dns-overview
[PrivateDNS]: /azure/dns/private-dns-overview
[VNetPeering]: /azure/virtual-network/virtual-network-peering-overview 
[UDR]: /azure/virtual-network/virtual-networks-udr-overview 
[RBAC]: /azure/role-based-access-control/overview
[MFA]: /azure/multi-factor-authentication/multi-factor-authentication
[AAD]: /azure/active-directory/active-directory-whatis
[VPN]: /azure/vpn-gateway/vpn-gateway-about-vpngateways 
[ExR]: /azure/expressroute/expressroute-introduction
[ExRD]: https://docs.microsoft.com/en-us/azure/expressroute/expressroute-erdirect-about
[vWAN]: /azure/virtual-wan/virtual-wan-about
[NVA]: /azure/architecture/reference-architectures/dmz/nva-ha
[AzFW]: /azure/firewall/overview
[SubMgmt]: /azure/architecture/cloud-adoption/appendix/azure-scaffold 
[RGMgmt]: /azure/azure-resource-manager/resource-group-overview
[DMZ]: /azure/best-practices-network-security
[ALB]: /azure/load-balancer/load-balancer-overview
[DDOS]: /azure/virtual-network/ddos-protection-overview
[PIP]: /azure/virtual-network/resource-groups-networking#public-ip-address
[AFD]: https://docs.microsoft.com/en-us/azure/frontdoor/front-door-overview
[AppGW]: /azure/application-gateway/application-gateway-introduction
[WAF]: /azure/application-gateway/application-gateway-web-application-firewall-overview
[Monitor]: /azure/monitoring-and-diagnostics/
[ActLog]: /azure/monitoring-and-diagnostics/monitoring-overview-activity-logs 
[DiagLog]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs
[NSGLog]: /azure/virtual-network/virtual-network-nsg-manage-log
[OMS]: /azure/operations-management-suite/operations-management-suite-overview
[NPM]: /azure/log-analytics/log-analytics-network-performance-monitor
[NetWatch]: /azure/network-watcher/network-watcher-monitoring-overview
[WebApps]: /azure/app-service/
[HDI]: /azure/hdinsight/hdinsight-hadoop-introduction
[EventHubs]: /azure/event-hubs/event-hubs-what-is-event-hubs 
[ServiceBus]: /azure/service-bus-messaging/service-bus-messaging-overview
[TM]: /azure/traffic-manager/traffic-manager-overview

